var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,f){a!=Array.prototype&&a!=Object.prototype&&(a[d]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,h={next:function(){if(f<a.length){var n=f++;return{value:d(n,a[n]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(a,d,f,h){if(d){f=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var n=a[h];n in f||(f[n]={});f=f[n]}a=a[a.length-1];h=f[a];d=d(h);d!=h&&null!=d&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,f){return f})}},"es8","es3");
$jscomp.checkStringArgs=function(a,d,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,f){var d=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===f&&(f=d.length);f=Math.max(0,Math.min(f|0,d.length));for(var n=a.length;0<n&&0<f;)if(d[--f]!=a[--n])return!1;return 0>=n}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Number.isNaN",function(a){return a?a:function(a){return"number"===typeof a&&isNaN(a)}},"es6","es3");$jscomp.findInternal=function(a,d,f){a instanceof String&&(a=String(a));for(var h=a.length,n=0;n<h;n++){var p=a[n];if(d.call(f,p,n,a))return{i:n,v:p}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,f,h){var d=this.length||0;0>f&&(f=Math.max(0,d+f));if(null==h||h>d)h=d;h=Number(h);0>h&&(h=Math.max(0,d+h));for(f=Number(f||0);f<h;f++)this[f]=a;return this}},"es6","es3");
var cvjs_versionNumber="CADViewer - v6.2.66",cvjs_AXversionNumber="",cvjs_Community_Version=!0,cvjs_jsonLocation="",cvjs_isAngular=!1,printDebugFlag=!1,cvjs_3Ddrawings=!1,cvjs_NodeJSserver=!1,cvjs_AngularFlag=!1,cvjs_layerList_checkbox=!1,cvjs_CompareFiles_CustomFileModalContent_flag=!1,cvjs_CompareFiles_CustomFileModalContent=[],cvjs_directFileLoad=!1,cvjs_directFileLoadPath="",cvjs_mergeDXFDWG_downloadMode=!1,demoonly_customHandleChange=!1,cvjs_PrintIconDisabled=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,
!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],rest_serviceCall=!1,rest_applicationPlatform="",rest_applicationPlatformUsername="",rest_applicationPlatformUserID="",rest_ServiceToken="",rest_leaveStreamOnServer=0,cvjs_preConversionFileExtension=[],cvjs_preConversionFileName=[],cvjs_interactiveMethod_Active=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_devMode=!1,fileExtensionLower="",cvjs_custom_print_to_pdf=!1,cvjs_encodeURIcall_server=!0,cvjs_currentFileFromJSTreeFolder=
"",cvjs_PrintModal_PrintPDF=!1,cvjs_PrintModal_PrintResolution=!1,cvjs_PrintModal_PrintToScale=!1,cvjs_print_to_pdf_windowRelativeSize=.4,cvjs_addedObjectsToExtents=!1,cvjs_multipagePDFtoSVG_PhpLoadFlag=!1,cvjs_bitmapFileNameIsServerPath_flag=!1,cvjs_bitmapLoadFlag=!1,cvjs_last_FileName_PDF="",cvjs_rPaper=[],cvjs_masterBackground=[],cvjs_active_floorplan_div_nr=0,floorplans_divs_Initialized="                                             ".split(" "),cvjs_loaddrawing_FileNamePath="                                             ".split(" "),
cvjs_loadDrawing_conversionMode=!1,cvjs_conversion_originatingFile="                                             ".split(" "),cvjs_conversion_originatingFileNameNoExtension="                                             ".split(" "),cvjs_conversion_originatingUsername="                                             ".split(" "),cvjs_conversion_originatingPassword="                                             ".split(" "),cvjs_loadInProgress=!1,layers_all,multiPages=[{multiPages:1,currentPage:1,pages:[{fileName:"default",
pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},
{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]}],actualURX=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],actualURY=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1],actualLLX=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],actualLLY=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],rpWidth=[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],rpHeight=[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],viewBox=[{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,
height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},
{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100},{X:0,Y:0,width:100,height:100}],viewBoxWidth=[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],viewBoxHeight=[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],viewBox_initX=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],viewBox_initY=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],viewBoxWidth_init=[100,100,100,100,
100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],viewBoxHeight_init=[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],cvjs_fileLoadingFromSharePointServer=!1,cvjs_debug_stickynotes=!1,cvjs_drawingCoordinates=[],layerTable="                                                  ".split(" "),tip=[],cvjs_SVG_outputFormatInAXConversions=!0,cvjs_collab_mode=!1,cvjs_collabPresenter=!1,cvjs_loadMultipleRedlinesStickyNotes=
!1,cvjs_stickyNotesRedlines=[],cvjs_ajaxPostStatus_thumbNails=!1,cvjs_initMasterBackground=!0,cvjs_printModal_content,cvjs_textSearchModal_content,cvjs_infoMessageModal_content,cvjs_redlineThicknessModal_content,cvjs_redlineColorModal_content,cvjs_publishPDFModal_content,cvjs_backgroundColorModal_content,cvjs_redlinetextModal_content,cvjs_lineThicknessModal_content,cvjs_calibrateModal_content,cvjs_birdseyeModal_content,cvjs_layerlistModal_content,cvjs_layerlistspaceModal_content,cvjs_pagechangeListModal_content,
cvjs_collabStartModal_content,cvjs_PDFloadFlag=!1,cvjs_currentLanguage=0,languageTable,winHeight=0,winWidth=0,fpWidth=0,isSmartPhoneOrTablet=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Touch/i.test(navigator.userAgent),isWindowsNT=/Windows NT/i.test(navigator.userAgent),lastElem=null,lastStroke=null,lastStrokeWidth=null,mousex=100,mousey=100,lastLink="",flip=0,spaceId=-1,deltaX=0,deltaY=0,deltaXinit=0,deltaYinit=0,deltaBase=1,deltaDynamic=1,deltaDynamicPre=1,zoomScale=1,panWithThumb=!1,dragMoveControl=
!0,cvjs_Url_click_control=1,cvjs_Url_encapsulate_callback=!1,VqSetup=!1,fileLoad_contentFormat="JS",defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"},highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3},selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3},defaultColor_Hyperlinks={fill:"#FFF","fill-opacity":"0.1",stroke:"#FFF","stroke-width":3,"stroke-opacity":.01,"stroke-linejoin":"round"},
highlight_Hyperlinks={fill:"#a4d7f4","fill-opacity":"0.6",stroke:"#FFd7f4","stroke-width":3,"stroke-opacity":.6,"stroke-linejoin":"round"},selectColor_Hyperlinks={fill:"#FFBEF6","fill-opacity":"0.6",stroke:"#FFd7f4","stroke-width":3,"stroke-opacity":.6,"stroke-linejoin":"round"},defaultColor_Hyperlinks_blank={fill:"#FFF","fill-opacity":"0.1",stroke:"#FFF","stroke-width":3,"stroke-opacity":.01,"stroke-linejoin":"round"},defaultColor_StickyNotes={fill:"#E7E7E7"},highlight_StickyNotes={fill:"#a4d7f4"},
selectColor_StickyNotes={fill:"#5BBEF6"},defaultColor_unlinked={fill:"#ffff99","fill-opacity":"0.3",stroke:"#ffff99","stroke-width":1,"stroke-opacity":"0.1","stroke-linejoin":"round"},highlight_unlinked={fill:"#ffff99","fill-opacity":"0.5",stroke:"#ffff99","stroke-width":3,"stroke-opacity":"1"},selectColor_unlinked={fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-width":3,"stroke-opacity":"1"},defaultColor_linked={fill:"#a4d7f4","fill-opacity":"0.3",stroke:"#a4d7f4","stroke-width":1,
"stroke-opacity":"0.1","stroke-linejoin":"round"},highlight_linked={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3,"stroke-opacity":"1"},selectColor_linked={fill:"#41A458","fill-opacity":"0.5",stroke:"#41A458","stroke-width":3,"stroke-opacity":"1"};isWindowsNT&&(isSmartPhoneOrTablet=!1);
var cvjs_FileNameNoExtension="",cvjs_convertSpaceObject=!1,cvjs_convertRoomLayer="RM$",cvjs_convertTextLayer="RM$TXT",cvjs_layerOptions={valueNames:["selected","layer",{data:["id"]},{attr:"href",name:"link"}],item:'<li><h3_selected><a class="link selected">"+languageTable.languages[cvjs_currentLanguage].LayerListModal.Off+"</a><h3_selected><h3_selected><h3_list class="layer">Dummy Layer</h3_list></li>'},cvjs_layerOptionsSpace={valueNames:["selected","text_room_layer","layer",{data:["id"]},{attr:"href",
name:"link"},{attr:"href",name:"link_text_room_l"}],item:'<li><h3_selected><a class="link selected">"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.+"</a><canvas width="10" height="10"></canvas><a class="link_text_room_l text_room_layer">None</a><h3_selected><h3_selected><h3_list class="layer">Dummy Layer</h3_list></li>'},cvjs_printGrayscale=!1,cvjs_printPdf=!1,cvjs_measureArea=!1,cvjs_measurementInteractiveType=1,cvjs_layerValuesSpace,cvjs_layerList,cvjs_pagechangeList,cvjs_layerListSpace,
cvjs_FourFilesInOne=!0,cvjs_version_3_2_modal=!0;function cvjs_setAngular(a){cvjs_isAngular=a}function cvjs_setNodeJSserver(a){cvjs_NodeJSserver=a}function cvjs_multipagePDFtoSVG_PhpLoad(a){cvjs_multipagePDFtoSVG_PhpLoadFlag=a}function cvjs_printToPdf_windowRelativeSize(a){cvjs_print_to_pdf_windowRelativeSize=a}function cvjs_fileLoadFromSharePointServer(a){cvjs_fileLoadingFromSharePointServer=a}function cvjs_setInitMasterBackgroundMode(a){cvjs_initMasterBackground=a}
function cvjs_setJSFileOldType(a){cvjs_FourFilesInOne=!a}
var cvjs_convertHandleLayer=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,
!1,!1],cvjs_floodfillSpaceIDLayerTable=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,
!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],layerlistspaceobject_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_phpPath="../php/",cvjs_serverHandlersPath="../php/",cvjs_printObjectPath="./temp_print/",cvjs_printObjectPathRelativeFlag=!0,cvjs_printObjectPathAbsoluteUrl="",cvjs_printObjectPathAbsoluteServer="",cvjs_serverSaveFileController="save-file.php",cvjs_serverMergePHPFileController=
"merge-pdfs.php",cvjs_serverAppendFileController="append-file.php",cvjs_serverDeleteFileController="delete-file.php",cvjs_serverCopyFileController="copy-file.php",cvjs_serverListDirectoryController="list-directory.php",cvjs_serverListDirectoryControllerRedlines="list-directory-redlines.php",cvjs_serverLoadFileController="load-file.php",cvjs_serverSaveFileControllerRedlines="save-file.php",cvjs_serverLoadFileControllerRedlines="load-file.php",cvjs_loadRedlinesFileControllerFlag=!1,cvjs_loadFileControllerFlag=
!1,cvjs_convertPDFConfigFile="convert-pdf-files_config.php",cvjs_serverPDFConverterController="convert-pdf-files.php",cvjs_getFileController="getFile_09.php",cvjs_serverPDFSplitController="split-pdf-file.php",cvjs_returnPDFparamsController="return-pdf-convert-params.php",cvjs_customPDFprintController="custom_print_to_pdf.php",cvjs_serverMergeDWGController="merge-dwg-file.php",cvjs_serverDownloadSharepointController="download-sharepoint.php",cvjs_serverGetQRCodeController="load-qr-code.php",cvjs_serverUploadController=
"upload_2.php";function cvjs_EnablePrintIcon(a){void 0==a?cvjs_active_floorplan_div_nr=0:(a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_PrintIconDisabled[cvjs_active_floorplan_div_nr]=!1}function cvjs_DisablePrintIcon(a){void 0==a?cvjs_active_floorplan_div_nr=0:(a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_PrintIconDisabled[cvjs_active_floorplan_div_nr]=!0}
function cvjs_encodeURIcallToserver(a){cvjs_encodeURIcall_server=a}function cvjs_setCustomPDFprintControllerFlag(a){cvjs_custom_print_to_pdf=a}function cvjs_setCustomPDFprintController(a){cvjs_customPDFprintController=a}var cvjs_setServerHandersPath_called=!1;function cvjs_setServerHandlersPath(a){cvjs_setServerHandersPath_called=!0;cvjs_serverHandlersPath=a;"/"!=cvjs_serverHandlersPath.charAt(cvjs_serverHandlersPath.length-1)&&(cvjs_serverHandlersPath+="/")}
function cvjs_setPrintObjectPath(a){cvjs_printObjectPath=a;"/"!=cvjs_printObjectPath.charAt(cvjs_printObjectPath.length-1)&&(cvjs_printObjectPath+="/");cvjs_printObjectPathRelativeFlag=!0}var cvjs_printObjectPathAbsolute_called=!1;
function cvjs_setPrintObjectPathAbsolute(a,d){cvjs_printObjectPathAbsolute_called=!0;cvjs_printObjectPathAbsolute=a;"/"!=cvjs_printObjectPathAbsolute.charAt(cvjs_printObjectPathAbsolute.length-1)&&(cvjs_printObjectPathAbsolute+="/");cvjs_printObjectPathAbsoluteServer=d;"/"!=cvjs_printObjectPathAbsoluteServer.charAt(cvjs_printObjectPathAbsoluteServer.length-1)&&(cvjs_printObjectPathAbsoluteServer+="/");cvjs_printObjectPathRelativeFlag=!1}
function cvjs_setServerPDFConverterController(a){cvjs_serverPDFConverterController=a}function cvjs_setGetFileController(a){cvjs_getFileController=a}function cvjs_setReturnPDFparamsController(a){cvjs_returnPDFparamsController=a}function cvjs_setPrintModal_PrintPDF(a,d){cvjs_PrintModal_PrintPDF=a;cvjs_printPdf=d}var cvjs_PrintModal_printGreyScaleflag=!0;function cvjs_setPrintModal_printGreyScaleflag(a){cvjs_PrintModal_printGreyScaleflag=a}
function cvjs_setPrintModal_PrintToScale(a){cvjs_PrintModal_PrintToScale=a}function cvjs_setServerSaveFileHandler(a){cvjs_serverSaveFileController=a}function cvjs_setServerCopyFileHandler(a){cvjs_serverCopyFileController=a}function cvjs_setServerListDirectoryHandler(a){cvjs_serverListDirectoryController=a}function cvjs_setServerRedlinesListDirectoryHandler(a){cvjs_serverListDirectoryControllerRedlines=a}function cvjs_setServerAppendFileHandler(a){cvjs_serverAppendFileController=a}
function cvjs_setServerDeleteFileHandler(a){cvjs_serverDeleteFileController=a}function cvjs_setServerSaveFileHandlerPrint(a){cvjs_serverSaveFileController=a}function cvjs_setServerAppendFileHandlerPrint(a){cvjs_serverAppendFileController=a}function cvjs_setServerDeleteFileHandlerPrint(a){cvjs_serverDeleteFileController=a}function cvjs_setCustomMergedEmailHandler(a){cvjs_serverSendPDFEmailController=a}function cvjs_setServerMergeDWGHandler(a){cvjs_serverMergeDWGController=a}
function cvjs_setServerGetQRCodeController(a){cvjs_serverGetQRCodeController=a}function cvjs_setServerSaveHandlerRedlines(a){cvjs_serverSaveFileControllerRedlines=a}function cvjs_setServerLoadHandlerRedlines(a){cvjs_serverLoadFileControllerRedlines=a;cvjs_loadRedlinesFileControllerFlag=!0}function cvjs_setServerLoadHandler(a){cvjs_serverLoadFileController=a;cvjs_loadFileControllerFlag=!0}var cvjs_phpUploadPath="",externalServerPhpUpload=!1;
function cvjs_setPhpUploadPath(a){cvjs_phpUploadPath=a;externalServerPhpUpload=!0}function cvjs_setUploadControllerPath(a){cvjs_phpUploadPath=a;externalServerPhpUpload=!0}function cvjs_setUploadHandler(a){cvjs_serverUploadController=a}function cvjs_setUploadController(a){cvjs_serverUploadController=a}function cvjs_setPhpPath(a){cvjs_phpPath=a;"/"!=cvjs_phpPath.charAt(cvjs_phpPath.length-1)&&(cvjs_phpPath+="/");cvjs_debug&&console.log("NOTE cvjs_setPhpPath="+cvjs_phpPath)}
var pagechange_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_PageChangeList(a){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_pagechangeList=new List("pagechangeList_"+a,cvjs_layerOptions,cvjs_layerValues);for(i=0;i<multiPages[cvjs_active_floorplan_div_nr].multiPages;i++){var d="javascript: cvjs_PageChangeListClick("+i+")";var f=-1<multiPages[cvjs_active_floorplan_div_nr].pages[i].pageName.indexOf("com.autodesk")?
"Layout":multiPages[cvjs_active_floorplan_div_nr].pages[i].pageName;multiPages[cvjs_active_floorplan_div_nr].currentPage==i+1?cvjs_pagechangeList.add({selected:languageTable.languages[cvjs_currentLanguage].PageChangeListModal.On,link:d,id:i,layer:f}):cvjs_pagechangeList.add({selected:languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Off,link:d,id:i,layer:f})}pagechange_offset_flag[cvjs_active_floorplan_div_nr]&&(pagechange_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#pagechangeList_"+
a).css({position:"fixed"}),jQuery("#pagechangeList_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}));jQuery("#pagechangeList_"+a).show()}}
function cvjs_PageChangeListClick(a){for(i=0;i<multiPages[cvjs_active_floorplan_div_nr].multiPages;i++){var d=cvjs_pagechangeList.get("id",i)[0];a==i?d.values({selected:languageTable.languages[cvjs_currentLanguage].PageChangeListModal.On}):d.values({selected:languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Off})}cvjs_changePageByNumber(floorplan_div_Array[cvjs_active_floorplan_div_nr],a+1)}
var layerlist_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_LayerList(a){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_layerList=new List("layerList_"+a,cvjs_layerOptions,cvjs_layerValues);for(i=0;i<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;i++){var d="javascript: cvjs_LayerListClick("+i+","+i+")";"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&
cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:d,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName});"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:d,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})}layerlist_offset_flag[cvjs_active_floorplan_div_nr]&&(layerlist_offset_flag[cvjs_active_floorplan_div_nr]=
!1,jQuery("#layerList_"+a).css({position:"fixed"}),jQuery("#layerList_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}));jQuery("#layerList_"+a).show()}}var cvjs_layerValues;
function cvjs_LayerListClick(a,d){console.log("the layer is "+layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName+" with status "+layerTable[cvjs_active_floorplan_div_nr].layers[a].status);"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[a].status?(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[a].layer),cvjs_spaceObjectLayerOnOff(floorplan_div_Array[cvjs_active_floorplan_div_nr],layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName,"on"),layerTable[cvjs_active_floorplan_div_nr].layers[a].status=
"ON",a=cvjs_layerList.get("id",d)[0],a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On})):(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[a].layer),cvjs_spaceObjectLayerOnOff(floorplan_div_Array[cvjs_active_floorplan_div_nr],layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName,"off"),layerTable[cvjs_active_floorplan_div_nr].layers[a].status="OFF",a=cvjs_layerList.get("id",d)[0],a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off}))}
function modal_all_layer_off(){for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF",cvjs_layerList.get("id",id)[0].values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off});cvjs_allSpaceObjectsOff(floorplan_div_Array[cvjs_active_floorplan_div_nr])}
function modal_all_layer_on(){for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON",cvjs_layerList.get("id",id)[0].values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On});cvjs_allSpaceObjectsOn(floorplan_div_Array[cvjs_active_floorplan_div_nr])}
function modal_swap_layers_on_off(){for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)if("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[id].status){cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer);layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON";var a=cvjs_layerList.get("id",id)[0];a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On})}else cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),
layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF",a=cvjs_layerList.get("id",id)[0],a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off})}
function cvjs_swapLayersInDrawing(a){cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[id].status?(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON"):(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),
layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF")}
function cvjs_allLayersInDrawingOn(a){cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[id].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON")}
function cvjs_layerNamefromObjectID(a){-1==a.indexOf("#")&&(a="#"+a);a=jQuery(a).parents("[id^=layer_]").attr("id");for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)if(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer==a)return layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName}var cvjs_turnDrawingLayerOffFlag=!1;
function cvjs_interactiveLayerOff(a){cvjs_turnDrawingLayerOffFlag=!0;cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")}function cvjs_getCurrentMultiPage_FileName(){return multiPages[cvjs_active_floorplan_div_nr].pages[multiPages[cvjs_active_floorplan_div_nr].currentPage-1].fileName}function cvjs_currentURL(){return window.location.href}function cvjs_currentHost(){return window.location.hostname}var cvjs_defaultJSPath="../app/js/";
function cvjs_setDefaultJSPath(a){cvjs_defaultJSPath=a}function cvjs_setInformationModalType(a){message_modal_type_bootstrap=!0;1==a&&(message_modal_type_bootstrap=!0);2==a&&(message_modal_type_bootstrap=!1)}var message_modal_type_bootstrap=!1,message_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_currentInformationModal_x=0,cvjs_currentInformationModal_y=0;
function cvjs_displayInformationModal(a,d,f,h,n){cvjs_debug&&console.log(f+"  "+h+"  "+n);a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");message_modal_type_bootstrap?(jQuery("#cvjs_informationModalText_"+a).html(d),jQuery("#info_messageModal_"+a).modal("show")):(void 0!=f?(jQuery(".info_messageModal_2").css("height",f+"px"),void 0!=h&&void 0!=n&&(jQuery("#info_messageModal_2_"+a).css({position:"fixed"}),cvjs_currentInformationModal_x=jQuery("#"+a).position().left+150,cvjs_currentInformationModal_y=
jQuery("#"+a).position().top+50,jQuery("#info_messageModal_2_"+a).css("top",n),jQuery("#info_messageModal_2_"+a).css("left",h))):message_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(message_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#info_messageModal_2_"+a).css({position:"fixed"}),jQuery("#info_messageModal_2_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#cvjs_informationModalText_2_"+a).html(d),jQuery("#info_messageModal_2_"+
a).show())}
function cvjs_hideInformationModal(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");if(message_modal_type_bootstrap)jQuery("#info_messageModal_"+a).modal("hide");else{jQuery(".info_messageModal_2").css("height","110px");if(0!=cvjs_currentInformationModal_x||0!=cvjs_currentInformationModal_y)jQuery("#info_messageModal_2_"+a).css("top",cvjs_currentInformationModal_y),jQuery("#info_messageModal_2_"+a).css("left",cvjs_currentInformationModal_x),cvjs_currentInformationModal_y=cvjs_currentInformationModal_x=0;
jQuery("#info_messageModal_2_"+a).hide()}}
function cvjs_displayInformationModal_Mode(a){var d="";if(0==a){d=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.Version+" "+cvjs_versionNumber;try{var f=cvjs_rPaper[cvjs_active_floorplan_div_nr].toString();cvjs_AXversionNumber=f.substring(f.indexOf("Generated by AutoXChange ")+25,f.indexOf("Generated by AutoXChange ")+35)}catch(h){console.log("displayInformationModal"+h),cvjs_AXversionNumber=""}d+="<br>"+languageTable.languages[cvjs_currentLanguage].InfoMessageModal.AXVersion+" "+
cvjs_AXversionNumber;f=cvjs_preConversionFileName[cvjs_active_floorplan_div_nr];-1==currentLoadedDrawingFullName.indexOf("Type=svg")&&(f=currentLoadedDrawingFullName);-1<f.lastIndexOf("/")?f=f.substring(f.lastIndexOf("/")+1):-1<f.lastIndexOf("\\")&&(f=f.substring(f.lastIndexOf("\\")+1));d+="<br>"+languageTable.languages[cvjs_currentLanguage].InfoMessageModal.DrawingName+" <strong>"+f+"</strong>"}1==a&&(d=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ComingSoon);cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
d)}function cvjs_version(){return cvjs_versionNumber}var backgroundcolor_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_setBackgroundColor(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a),backgroundcolor_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(backgroundcolor_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#backgroundModal_"+a).css({position:"fixed"}),
jQuery("#backgroundModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#backgroundModal_"+a).show())}function cvjs_exit_backgroundColor(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#backgroundModal_"+a).hide()}function cvjs_setBackgroundColorViaButton(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#backgroundModal_"+a).hide()}
function cvjs_setBackgroundColorFromPicker(a){cvjs_setCurrentRedlineValues_Color("#"+a)}var cvjs_genericPickedColor="#AA0000";function cvjs_setGenericColorFromPicker(a){cvjs_genericPickedColor="#"+a}var cvjs_blackBackground=!1,cvjs_currentBackgroundColor="#FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF #FFFFFF".split(" ");
function componentToHex(a){a=a.toString(16);return 1==a.length?"0"+a:a}function rgbToHex(a,d,f){return"#"+componentToHex(a)+componentToHex(d)+componentToHex(f)}
function cvjs_setBackgroundColorHex(a,d){void 0==d&&(d=floorplan_div_Array[cvjs_active_floorplan_div_nr]);1>d.indexOf("_svg")&&(d+="_svg");cvjs_blackBackground=!1;a=a.toString();cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);var f="";0!=a.indexOf("none")&&(f=0==a.indexOf("#")?a:"#"+a);cvjs_currentBackgroundColor[cvjs_active_floorplan_div_nr]=f;jQuery("#"+d).css("background-color",f);var h={};jQuery("*[id]").each(function(){try{var a=jQuery(this).attr("id"),f="[id^="+d+"]";jQuery("#"+a).parents(f).attr("id")==
floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(h[a]||(h[a]=!0))}catch(w){}});if(-1<a.indexOf("000000")){cvjs_blackBackground=!0;for(var n in h)try{var p="#"+n;if(0==jQuery(p).attr("id").indexOf("cv_")){var q=jQuery(p).css("stroke"),t=jQuery(p).css("fill");"none"!=q&&("#000000"==q||"#000"==q?jQuery(p).css("stroke","#FFFFFF"):("rgb(0, 0, 0)"==q||"rgb( 0, 0, 0)"==q||"rgb(0,0,0)"==q)&&jQuery(p).css("stroke","#FFFFFF"));"none"!=t&&("#000000"==t||"#000"==t?jQuery(p).css("fill","#FFFFFF"):("rgb(0, 0, 0)"==
t||"rgb( 0, 0, 0)"==t||"rgb(0,0,0)"==t)&&jQuery(p).css("fill","#FFFFFF"))}}catch(u){}}if(-1<a.indexOf("FFFFFF"))for(n in h)try{p="#"+n,0==jQuery(p).attr("id").indexOf("cv_")&&(q=jQuery(p).css("stroke"),t=jQuery(p).css("fill"),"none"!=q&&("#FFFFFF"==q||"#FFF"==q?jQuery(p).css("stroke","#000000"):("rgb(255, 255, 255)"==q||"rgb( 255, 255, 255)"==q||"rgb(255,255,255)"==q)&&jQuery(p).css("stroke","#000000")),"none"!=t&&("#FFFFFF"==t||"#FFF"==t?jQuery(p).css("fill","#000000"):("rgb(255, 255, 255)"==t||
"rgb( 255, 255, 255)"==t||"rgb(255,255,255)"==t)&&jQuery(p).css("fill","#000000")))}catch(u){}}function cvjs_changePageByNumberViaButton(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=jQuery("#cvjs_inputDocumentPageChange_"+a).val();d=parseInt(d);cvjs_changePageByNumber(a,d);jQuery("#documentPageChangeModal_"+a).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1}
function cvjs_enterPageChangeNumber(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),page_change_in_document_offset_flag[cvjs_active_floorplan_div_nr]&&(page_change_in_document_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#documentPageChangeModal_"+a).css({position:"fixed"}),jQuery("#documentPageChangeModal_"+
a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}).appendTo("body")),jQuery("#documentPageChangeModal_"+a).show())}var textSearchPre="",textInstanceCounter=1;
function cvjs_startSearchText(){var a=jQuery("#cvjs_searchTextFromModal").val(),d=jQuery("#cvjs_percentageLevelFromModal").val();textSearchPre!=a?(cvjs_searchText(a,d),textInstanceCounter=1,textSearchPre=a):(textInstanceCounter++,cvjs_searchTextInstance(a,d,textInstanceCounter)||(textInstanceCounter=1,cvjs_searchTextInstance(a,d,textInstanceCounter)))}
var cvjs_globalOrigin_x=0,cvjs_globalOrigin_y=0,cvjs_units="mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm mm".split(" "),cvjs_svgToWorldUnits=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],cvjs_currentMeasurementLength=0,cvjs_callbackMeasurement=!1,cvjs_calibratedMeasurement=!1,calibrate_x1,calibrate_y1,calibrate_x2,calibrate_y2;cvjs_measurement_end=cvjs_calibrate_end=!1;
var measurement_x1,measurement_y1,measurement_x2,measurement_y2,calibrate_text_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_calibrateMeasurement(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),cvjs_calibrate_end=!0,calibrate_text_offset_flag[cvjs_active_floorplan_div_nr]&&(calibrate_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#calibrateModal_"+a).css({position:"fixed"}),jQuery("#calibrateModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),
jQuery("#calibrateModal_"+a).show(),cvjs_calibrateMeasurement_RedlinePolyline())}
function cvjs_exitCalibrateModal(a,d){if(cvjs_calibrate_end){cvjs_measurement_end=!1;if(2==d){d=jQuery("#cvjs_unitForScale").val();1==d?cvjs_units[cvjs_rPaperIndex(a)]="m":2==d?cvjs_units[cvjs_rPaperIndex(a)]="cm":3==d?cvjs_units[cvjs_rPaperIndex(a)]="mm":4==d?cvjs_units[cvjs_rPaperIndex(a)]="km":5==d?cvjs_units[cvjs_rPaperIndex(a)]="feet":6==d?cvjs_units[cvjs_rPaperIndex(a)]="inches":7==d&&(cvjs_units[cvjs_rPaperIndex(a)]="miles");d=jQuery("#cvjs_calibrateReferenceDistance").val();try{var f=Math.sqrt(Math.pow(calibrate_x2-
calibrate_x1,2)+Math.pow(calibrate_y2-calibrate_y1,2))}catch(h){}if(isNaN(f)||0==f){a=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.SelectTwoPoints;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a);return}-1<d.indexOf(",")&&(d=d.substring(0,d.indexOf(","))+"."+d.substring(d.indexOf(",")+1));if(isNaN(d)||""==d){a=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ReferenceDistance;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
a);return}cvjs_svgToWorldUnits[cvjs_rPaperIndex(a)]=d/f;cvjs_calibratedMeasurement=!0;try{cvjs_CalibrateMeasurementCallback()}catch(h){console.log(h)}}cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#calibrateModal_"+a).hide();tRubberBand_poly_redline1.attr({path:"M0,0"});calibrate_Triangle.attr({fill:measurement_color,transform:"S0.0"});calibrate_Triangle2.attr({fill:measurement_color,transform:"S0.0"});cvjs_removeHandleFunc_CalibrateMeasurementPolyline()}}
var measurement_text_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_Measurement(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_measurement_end=!0;if("none"==cvjs_units[cvjs_rPaperIndex(a)])a=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.UnitLess,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a);else if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;measurement_text_offset_flag[cvjs_active_floorplan_div_nr]&&
(measurement_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#measurementModal_"+a).css({position:"fixed"}),jQuery("#measurementModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}));if(0==cvjs_units[cvjs_active_floorplan_div_nr].indexOf("feet")){a=Math.floor(cvjs_currentMeasurementLength);var d=cvjs_currentMeasurementLength-Math.floor(cvjs_currentMeasurementLength);d=Math.round(16*d);16==d&&console.log("do something.....");jQuery("#cvjs_measurementLength_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance);jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(a+"' "+d+'/16"')}else jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(cvjs_currentMeasurementLength+
" "+cvjs_units[cvjs_active_floorplan_div_nr]);jQuery("#measurementModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();1!=cvjs_measurementInteractiveType&&3!=cvjs_measurementInteractiveType&&4!=cvjs_measurementInteractiveType&&5!=cvjs_measurementInteractiveType&&6!=cvjs_measurementInteractiveType&&7!=cvjs_measurementInteractiveType||cvjs_Measurement_RedlinePolyline();2==cvjs_measurementInteractiveType&&cvjs_addHandleFunc_MeasurementFilledPolygon()}}
function cvjs_exitMeasurementModal(a){cvjs_measurement_end=!0;cvjs_debug&&console.log("EXIT measurement  cvjs_measurement_end "+cvjs_measurement_end);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;if(cvjs_measurement_end)if(cvjs_measurement_end=!1,jQuery("#measurementModal_"+a).hide(),cvjs_debug&&console.log("loop 1"),2==cvjs_measurementInteractiveType)cvjs_debug&&console.log("branch 1"),tPolygon_redline1.attr({transform:"S0"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),tRubberBand_poly_redline1.remove(),
tPolygon_redline1.remove(),cvjs_removeHandleFunc_MeasurementFilledPolygon(),cvjs_debug&&console.log("end branch 1");else{cvjs_debug&&console.log("branch 2");tRubberBand_poly_redline1.attr({path:"M0,0"});var d="S0";measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:d});measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:d});tRubberBand_poly_redline1.remove();measurement_Triangle.remove();measurement_Triangle2.remove();cvjs_removeHandleFunc_MeasurementPolyline()}else{try{if(cvjs_debug&&
console.log("we want to clean before drawing..."),2==cvjs_measurementInteractiveType&&(tPolygon_redline1.attr({transform:"T0,0S0.01"}),cvjs_debug&&console.log("here "),tPolygon_redline1.remove(),tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon()),1==cvjs_measurementInteractiveType||3==cvjs_measurementInteractiveType||4==cvjs_measurementInteractiveType||5==cvjs_measurementInteractiveType||6==cvjs_measurementInteractiveType||7==cvjs_measurementInteractiveType)tRubberBand_poly_redline1.attr({path:"M0,0"}),
d="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:d}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:d}),tRubberBand_poly_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_removeHandleFunc_MeasurementPolyline()}catch(f){cvjs_debug&&console.log(f)}jQuery("#measurementModal_"+a).hide()}}
function cvjs_repeatMeasurementModal(){cvjs_measurement_end=!1;if(2==cvjs_measurementInteractiveType){cvjs_currentMeasurementLength=0;jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area);jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("0 "+cvjs_units[cvjs_active_floorplan_div_nr]+"\u00b2");tPolygon_redline1.attr({transform:"T0,0S0.01"});tRubberBand_poly_redline1.attr({path:"M0,0"});
var a="S0";measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a});measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a});tPolygon_redline1.remove();measurement_Triangle.remove();measurement_Triangle2.remove();cvjs_addHandleFunc_MeasurementFilledPolygon()}if(1==cvjs_measurementInteractiveType||3==cvjs_measurementInteractiveType||4==cvjs_measurementInteractiveType||5==cvjs_measurementInteractiveType||6==cvjs_measurementInteractiveType||7==cvjs_measurementInteractiveType){cvjs_currentMeasurementLength=
0;1==cvjs_measurementInteractiveType&&(jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(cvjs_currentMeasurementLength+" "+cvjs_units[cvjs_active_floorplan_div_nr]));if(3==cvjs_measurementInteractiveType||4==cvjs_measurementInteractiveType)jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Point),
jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("(0,0)");if(5==cvjs_measurementInteractiveType||6==cvjs_measurementInteractiveType)jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Points),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("(0,0)");7==cvjs_measurementInteractiveType&&(jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Points),
jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("M0,0"));tPolygon_redline1.attr({transform:"T0,0S0.01"});tRubberBand_poly_redline1.attr({path:"M0,0"});a="S0";measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a});measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a});tPolygon_redline1.remove();measurement_Triangle.remove();measurement_Triangle2.remove();cvjs_Measurement_RedlinePolyline()}}
function cvjs_getAutoCADColor(a){0==a.indexOf("#")&&(a=a.substring(1));a=a.toUpperCase();switch(a){case "000000":a=0;break;case "FF0000":a=1;break;case "FFF200":case "FFFF00":a=2;break;case "22B14C":case "00FF00":a=3;break;case "00FFFF":a=4;break;case "0000FF":a=5;break;case "FF00FF":case "800080":a=6;break;case "FFFFFF":a=7;break;case "414141":a=8;break;case "808080":a=9;break;case "FF0000":a=10;break;case "FFAAAA":a=11;break;case "BD0000":a=12;break;case "BD7E7E":a=13;break;case "810000":a=14;break;
case "815656":a=15;break;case "FF7500":case "FFA500":a=30;break;case "808080":case "828282":a=253;break;case "B97A57":case "814000":a=34;break;default:a=1}return a}function cvjs_get_dwg_scaled_value(a,d){return(cvjs_drawingCoordinates[d].DWG.upperRight.x-cvjs_drawingCoordinates[d].DWG.lowerLeft.x)/(cvjs_drawingCoordinates[d].SVG.upperRight.x-cvjs_drawingCoordinates[d].SVG.lowerLeft.x)*a}
function cvjs_get_dwg_x_coord(a,d){return cvjs_drawingCoordinates[d].DWG.lowerLeft.x+(a-cvjs_drawingCoordinates[d].SVG.lowerLeft.x)/(cvjs_drawingCoordinates[d].SVG.upperRight.x-cvjs_drawingCoordinates[d].SVG.lowerLeft.x)*(cvjs_drawingCoordinates[d].DWG.upperRight.x-cvjs_drawingCoordinates[d].DWG.lowerLeft.x)}
function cvjs_get_dwg_y_coord(a,d){return cvjs_drawingCoordinates[d].DWG.lowerLeft.y+(a-cvjs_drawingCoordinates[d].SVG.lowerLeft.y)/(cvjs_drawingCoordinates[d].SVG.upperRight.y-cvjs_drawingCoordinates[d].SVG.lowerLeft.y)*(cvjs_drawingCoordinates[d].DWG.upperRight.y-cvjs_drawingCoordinates[d].DWG.lowerLeft.y)}
var cvjs_printPaperSize="A4",cvjs_printPaperWidth_mm=297,cvjs_printPaperHeight_mm=210,cvjs_printOrientation="portrait",cvjs_printResolutionDpi=300,cvjs_printPixelWidth=3508,cvjs_printPixelHeight=2480,cvjs_objectIsZoomedExtents=!0,cvjs_serverSavePrintModeController=0,cvjs_serverSave_php_controllerArray={},cvjs_serverCreateThumb_StickyNote_Controller="make_thumbnails.php",cvjs_batchFilesToPDF_Controller="make_batch_pdf.php",cvjs_phpImagesUrlController="",cvjs_screenToPDF_Controller="make_singlepage_pdf.php";
function cvjs_setServerCreateThumb_StickyNote_Controller(a){cvjs_serverCreateThumb_StickyNote_Controller=a}function cvjs_setServerSavePrintModeController(a){cvjs_serverSavePrintModeController=a}function cvjs_setServerSavePrintModeHandler(a){cvjs_serverSavePrintModeController=a}function cvjs_setServerScreenToPDFController(a){cvjs_screenToPDF_Controller=a}function cvjs_setServerScreenToPDFHandler(a){cvjs_screenToPDF_Controller=a}
function cvjs_saveScreenAsImage_makeTumbnails(a,d,f,h,n,p){cvjs_saveScreenAsImage_stickyNoteInfo_makeTumbnails(a,d,f,h,n,p)}
function cvjs_saveScreenAsImage_stickyNoteInfo_makeTumbnails(a,d,f,h,n,p){for(var q="",t=0;t<vqStickyNotes.length;t++)0<t&&(q+="\n"),q=q+vqStickyNotes[t].data("id")+","+vqStickyNotes[t].data("name")+","+vqStickyNotes[t].data("userid")+","+vqStickyNotes[t].data("date")+","+vqStickyNotes[t].data("text");cvjs_phpImagesUrlController=cvjs_serverHandlersPath+cvjs_serverCreateThumb_StickyNote_Controller;cvjs_serverSave_php_controllerArray={};cvjs_serverSave_php_controllerArray.serverPath=a;cvjs_serverSave_php_controllerArray.fileName=
d.substring(0,d.indexOf(".png"));cvjs_serverSave_php_controllerArray.thumbFile1=h;cvjs_serverSave_php_controllerArray.thumbFile1_size=f;cvjs_serverSave_php_controllerArray.thumbFile2=p;cvjs_serverSave_php_controllerArray.thumbFile2_size=n;cvjs_serverSave_php_controllerArray.stickyNoteContent=q;cvjs_serverSavePrintModeController=1;cvjs_saveScreenAsImage(a,d)}var cvjs_serverSavePrintMode_serverPath="",cvjs_serverSavePrintMode_image_fileName="";
function cvjs_saveScreenAsImage(a,d){cvjs_serverSavePrintMode_serverPath=a;cvjs_serverSavePrintMode_image_fileName=d.substring(0,d.lastIndexOf("."))+"_base64.png";0==cvjs_serverSavePrintModeController?cvjs_debug&&console.log("cvjs_saveScreenAsImage: cvjs_serverSavePrintModeController == 0 therefore returns"):cvjs_printCanvasPaperSize()}
var cvjs_batchDrawingsArrLength=0,cvjs_batchDrawingsArrLength_globalCounter=0,cvjs_drawingFilesArray=[],cvjs_pageOrientationArray=[],cvjs_pageSizeArray=[],cvjs_pageResolutionArray=[],cvjs_singleDrawingFile="",cvjs_singlePageOrientation="",cvjs_singlePageSize="",cvjs_singlePageResolution="";
function cvjs_saveScreenAsPDF(a,d,f){cvjs_setPrintPaperSize(d);cvjs_setPrintOrientation(a);cvjs_setPrintResolutionDpi(f);var h=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1);h=h.substring(0,h.lastIndexOf("."));var n=new Date;n.getFullYear();n.getMonth();n.getDate();n.getHours();n.getMinutes();n.getSeconds();var p=n.getHours();10>p&&(p="0"+p);switch(n.getMonth()){case 0:var q="Jan";break;case 1:q=
"Feb";break;case 2:q="Mar";break;case 3:q="Apr";break;case 4:q="May";break;case 5:q="Jun";break;case 6:q="Jul";break;case 7:q="Aug";break;case 8:q="Sep";break;case 9:q="Oct";break;case 10:q="Nov";break;case 11:q="Dec";break;default:q="Jan"}n=q+"_"+n.getDate()+"_H"+p+"_"+n.getMinutes();h=h+"_"+n;n=h+".png";cvjs_singleDrawingFile=h;cvjs_singlePageOrientation=a;cvjs_singlePageSize=d;cvjs_singlePageResolution=f;cvjs_serverSavePrintModeController=3;3==cvjs_serverSavePrintModeController&&(jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Printing+"</div></td></tr></table>"),cvjs_setLooperPosition(),jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1500));cvjs_saveScreenAsImage(cvjs_ServerLocation+"/converters/files/",n)}
function cvjs_printSavedBitmapToPDF(){cvjs_serverSave_php_controllerArray={numberOfFiles:1};cvjs_phpImagesUrlController=cvjs_serverHandlersPath+cvjs_screenToPDF_Controller;cvjs_serverSave_php_controllerArray.serverPath=cvjs_ServerLocation+"/converters/files/";cvjs_serverSave_php_controllerArray.fileName_0=cvjs_singleDrawingFile;cvjs_serverSave_php_controllerArray.rotation_0=cvjs_singlePageOrientation;cvjs_serverSave_php_controllerArray.page_format_0=jQuery("#cvjs_paperSize").val();cvjs_serverSave_php_controllerArray.page_resolution_0=
jQuery("#cvjs_paperOrientation").val();cvjs_serverSave_php_controllerArray.org_fileName_0=cvjs_FileNameNoExtension;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_5" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+
'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.BatchPDF+"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1E3);jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_serverSavePrintModeController=0;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();printWindow=window.open(cvjs_ServerUrl+"/converters/files/"+
a,"CADViewer - Print","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+screen.height*cvjs_print_to_pdf_windowRelativeSize);printWindow.focus()},error:function(a){console.log("Error "+a)}})}
function cvjs_batchConvertDrawingsToPDF_CustomReport(a,d,f,h,n,p,q){cvjs_batchFilesToPDF_Controller=p;cvjs_batchDrawingsArrLength=d.length;cvjs_batchDrawingsArrLength_globalCounter=0;cvjs_drawingFilesArray=d;cvjs_pageOrientationArray=f;cvjs_pageSizeArray=h;cvjs_pageResolutionArray=n;cvjs_setCustomCallbackMethodOnLoadEnd(!0,q);cvjs_serverSavePrintModeController=2;cvjs_LoadDrawing(floorplan_div_Array[cvjs_rPaperIndex(a)],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}
function cvjs_setPrintPaperSize(a){a=a.toLowerCase();0==a.indexOf("a4")&&(cvjs_printPaperSize="A4",cvjs_printPaperWidth_mm=297,cvjs_printPaperHeight_mm=210);0==a.indexOf("a3")&&(cvjs_printPaperSize="A3",cvjs_printPaperWidth_mm=420,cvjs_printPaperHeight_mm=297);0==a.indexOf("a2")&&(cvjs_printPaperSize="A2",cvjs_printPaperWidth_mm=594,cvjs_printPaperHeight_mm=420);0==a.indexOf("a1")&&(cvjs_printPaperSize="A1",cvjs_printPaperWidth_mm=841,cvjs_printPaperHeight_mm=594);0==a.indexOf("a0")&&(cvjs_printPaperSize=
"A0",cvjs_printPaperWidth_mm=1183,cvjs_printPaperHeight_mm=841);0==a.indexOf("a5")&&(cvjs_printPaperSize="A5",cvjs_printPaperWidth_mm=210,cvjs_printPaperHeight_mm=148);0==a.indexOf("usa")&&(cvjs_printPaperSize="USA",cvjs_printPaperWidth_mm=279.4,cvjs_printPaperHeight_mm=215.9);0==a.indexOf("usb")&&(cvjs_printPaperSize="USB",cvjs_printPaperWidth_mm=431.8,cvjs_printPaperHeight_mm=279.4);0==a.indexOf("usc")&&(cvjs_printPaperSize="USC",cvjs_printPaperWidth_mm=555.8,cvjs_printPaperHeight_mm=431.8);0==
a.indexOf("usd")&&(cvjs_printPaperSize="USD",cvjs_printPaperWidth_mm=863.6,cvjs_printPaperHeight_mm=555.8);0==a.indexOf("use")&&(cvjs_printPaperSize="USE",cvjs_printPaperWidth_mm=1117.6,cvjs_printPaperHeight_mm=836.6);0==a.indexOf("letter")&&(cvjs_printPaperSize="letter",cvjs_printPaperWidth_mm=279.4,cvjs_printPaperHeight_mm=215.9);0==a.indexOf("legal")&&(cvjs_printPaperSize="legal",cvjs_printPaperWidth_mm=356,cvjs_printPaperHeight_mm=216);0==a.indexOf("ledger")&&(cvjs_printPaperSize="ledger",cvjs_printPaperWidth_mm=
431.8,cvjs_printPaperHeight_mm=279.4);0==a.indexOf("tabloid")&&(cvjs_printPaperSize="tabloid",cvjs_printPaperWidth_mm=431.8,cvjs_printPaperHeight_mm=279.4);0==a.indexOf("archa")&&(cvjs_printPaperSize="ARCHA",cvjs_printPaperWidth_mm=304.8,cvjs_printPaperHeight_mm=228.6);0==a.indexOf("archb")&&(cvjs_printPaperSize="ARCHB",cvjs_printPaperWidth_mm=457.2,cvjs_printPaperHeight_mm=304.8);0==a.indexOf("archc")&&(cvjs_printPaperSize="ARCHC",cvjs_printPaperWidth_mm=609.6,cvjs_printPaperHeight_mm=457.2);0==
a.indexOf("archd")&&(cvjs_printPaperSize="ARCHD",cvjs_printPaperWidth_mm=914.4,cvjs_printPaperHeight_mm=609.6);0==a.indexOf("arche")&&(cvjs_printPaperSize="ARCHE",cvjs_printPaperWidth_mm=1219.2,cvjs_printPaperHeight_mm=914.4);0==a.indexOf("alcoaa")&&(cvjs_printPaperSize="ALCOAA",cvjs_printPaperWidth_mm=914.4,cvjs_printPaperHeight_mm=762);cvjs_printPixelWidth=Math.round(cvjs_printPaperWidth_mm*cvjs_printResolutionDpi/25.4);cvjs_printPixelHeight=Math.round(cvjs_printPaperHeight_mm*cvjs_printResolutionDpi/
25.4)}function cvjs_setPrintResolutionDpi(a){75<=a&&(cvjs_printResolutionDpi=a,cvjs_printPixelWidth=Math.round(cvjs_printPaperWidth_mm*cvjs_printResolutionDpi/25.4),cvjs_printPixelHeight=Math.round(cvjs_printPaperHeight_mm*cvjs_printResolutionDpi/25.4))}function cvjs_setPrintOrientation(a){a=a.toLowerCase();0==a.indexOf("landscape")&&(cvjs_printOrientation="landscape");0==a.indexOf("portrait")&&(cvjs_printOrientation="portrait")}
var print_text_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_Print(a){if(cvjs_customPrintTextboxMode)for(jQuery("#cvjs_SelectVariablesTextBox").empty(),k=0;k<cvjs_printModalCustomTextBoxVariablesList.length;k++)jQuery("#cvjs_SelectVariablesTextBox").append('<option value="'+(k+1)+'">'+cvjs_printModalCustomTextBoxVariablesList[k]+"</option>");void 0==a?(cvjs_active_floorplan_div_nr=0,a=floorplan_div_Array[0]):(a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();
jQuery("#floorPlanCanvasObject_table_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();if(cvjs_PrintIconDisabled[cvjs_active_floorplan_div_nr])cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.PrintDisabled);else if(cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]&&(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=
!0,print_text_offset_flag[cvjs_active_floorplan_div_nr]&&(print_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#printModal_"+a).css({position:"fixed"}),jQuery("#printModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#printModal_"+a).show(),cvjs_customPrintCheckboxMode&&!cvjs_initCustomPrintCheckboxMode)){cvjs_initCustomPrintCheckboxMode=!0;if(jQuery("#cvjs_custom_checkbox").is(":checked")){cvjs_customPrintCheckbox=!0;jQuery("#cvjs_printModalTextboxLocation").show();
jQuery("#cvjs_printModalTextboxLocation_text").show();cvjs_customPrintDualTextboxMode&&(jQuery("#cvjs_printModalDualTextboxLocation").show(),jQuery("#cvjs_printModalDualTextboxLocation_text").show());a="printModal";if(cvjs_customPrintCheckboxMode||cvjs_customPrintTextboxMode)a="printModalTextbox";var d=jQuery("."+a).css("height");d=d.substring(0,d.indexOf("px"));d=parseInt(d)+70}else{cvjs_customPrintCheckbox=!1;jQuery("#cvjs_printModalTextboxLocation").hide();jQuery("#cvjs_printModalTextboxLocation_text").hide();
cvjs_customPrintDualTextboxMode&&(jQuery("#cvjs_printModalDualTextboxLocation").hide(),jQuery("#cvjs_printModalDualTextboxLocation_text").hide());a="printModal";if(cvjs_customPrintCheckboxMode||cvjs_customPrintTextboxMode)a="printModalTextbox";d=jQuery("."+a).css("height");d=d.substring(0,d.indexOf("px"));d=parseInt(d)-70}jQuery("."+a).css("height",d+"px")}}
function cvjs_exitPrintModal(a,d){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;1==d?jQuery("#printModal_"+a).fadeOut(500):(d=jQuery("#cvjs_printResolution").val(),cvjs_setPrintResolutionDpi(d),cvjs_setPrintPaperSize(jQuery("#cvjs_paperSize").val()),jQuery.when(jQuery("#printModal_"+a).fadeOut(100)).done(function(d){cvjs_debug&&console.log("we have faded out! parem "+d);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Printing+"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(100);cvjs_debug&&console.log("after waitlooper, printmodal Fade Out WaitLooper Fade IN");d=jQuery("#cvjs_paperOrientation").val();
1==d&&cvjs_setPrintOrientation("landscape");2==d&&cvjs_setPrintOrientation("portrait");if(cvjs_printPdf)if(cvjs_custom_print_to_pdf){for(var f=d="",n=0;n<rest_nname[cvjs_active_floorplan_div_nr].length;n++)"basic"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length),"layout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],
f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length),"model"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length),"layoutsonly"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length),
"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length),"last"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(d=rest_nname[cvjs_active_floorplan_div_nr][n],
f=rest_vvalue[cvjs_active_floorplan_div_nr][n],n=rest_nname[cvjs_active_floorplan_div_nr].length);""==d&&(-1<multiPages[cvjs_active_floorplan_div_nr].pages[multiPages[cvjs_active_floorplan_div_nr].currentPage-1].pageName.toLowerCase().indexOf("model")?(d="model",f=""):(d="layout",f=multiPages[cvjs_active_floorplan_div_nr].pages[multiPages[cvjs_active_floorplan_div_nr].currentPage-1].pageName));jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_5" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.BatchPDF+"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#printModal_"+a).hide();n=cvjs_serverHandlersPath+cvjs_customPDFprintController;var p={},q="";q=-1<currentLoadedDrawingFullName.indexOf(".js")||-1<currentLoadedDrawingFullName.indexOf(".svg")?
currentLoadedDrawingFullName:cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr];p.file=q;p.param1_name=d;p.param1_value=f;p.paper_size=cvjs_printPaperSize;p.paper_orientation=cvjs_printOrientation;cvjs_printGrayscale?2==jQuery("#cvjs_grayScaleType").val()?p.param2_name="bw":p.param2_name="greyscale":p.param2_name="";p.param2_value="";jQuery.ajax({url:n,type:"post",data:p,success:function(a){console.log("Response custom php: "+a);parseServerResponsePDFPrintCustom(a);jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()}})}else cvjs_printConvertedPDF();else cvjs_printPaperSizeasSVGObjectFlag?(cvjs_printPaperSizeasSVGObject(a),jQuery("#printModal").hide()):cvjs_printCanvasPaperSize()}))}
function cvjs_Conversion_forPrint(a,d,f,h,n){var p="";if(cvjs_customPrintCheckboxMode&&cvjs_customPrintTextboxMode){cvjs_customPrintDualTextboxMode?(cvjs_printModalCustomTextBoxVariablesContent[0]=jQuery("#printmodal_text").val(),cvjs_printModalCustomTextBoxVariablesContent[1]=jQuery("#printmodal_dual_text").val()):(p=jQuery("#cvjs_SelectVariablesTextBox").val(),cvjs_printModalCustomTextBoxVariablesContent[cvjs_customPrintTextboxOnChange_pre-1]=jQuery("#printmodal_text").val(),jQuery("#printmodal_text").val(cvjs_printModalCustomTextBoxVariablesContent[p-
1]),cvjs_customPrintTextboxOnChange_pre=p);p="[";for(k=0;k<cvjs_printModalCustomTextBoxVariablesList.length;k++)0<k&&(p+=" , "),p=cvjs_customPrintDualTextboxMode?p+('{ "Variables": { "'+cvjs_printModalCustomTextBoxVariablesList[k]+'": { "Value": "'+cvjs_printModalCustomTextBoxVariablesContent[k].replace(/(\r\n|\n|\r)/gm,"/P")+'", "FontSize": "10"'):p+('{ "Variables": { "'+cvjs_printModalCustomTextBoxVariablesList[k]+'": { "Value": "'+cvjs_printModalCustomTextBoxVariablesContent[k].replace(/(\r\n|\n|\r)/gm,
"/P")+'", "FontSize": "'+jQuery("#cvjs_printTextboxFontSizeInput_"+a).val()+'"'),0!=cvjs_printModalCustomTextBoxVariablesPrepend[k].indexOf("none")&&(p+=', "Prefix": "'+cvjs_printModalCustomTextBoxVariablesPrepend[k]+'"'),p+=" } } }";var q=cvjs_serverHandlersPath+cvjs_serverSaveFileController,t=cvjs_ServerLocation+"/converters/files/variables"+Math.floor(1E6*Math.random())+".json",u={};u.file=t;u.file_content=p+"]";jQuery.ajax({url:q,type:"post",async:!1,data:u,success:function(a){}});p=t}cvjs_debug&&
console.log(a+" 2 "+d+" 3none  4 "+f+" 5 "+h);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_5" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.BatchPDF+
"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();a={};u={};for(q=0;q<rest_nname[cvjs_active_floorplan_div_nr].length;q++)"f"==rest_nname[cvjs_active_floorplan_div_nr][q]?(a[q]="f",0==n.indexOf("pdf")?u[q]="pdf":0==
n.indexOf("svg")&&(u[q]="svg")):(a[q]=rest_nname[cvjs_active_floorplan_div_nr][q],u[q]=rest_vvalue[cvjs_active_floorplan_div_nr][q]);if(void 0==a.length||0==a.length)a[0]="f",0==n.indexOf("pdf")?u[0]="pdf":0==n.indexOf("svg")&&(u[0]="svg");t=!0;for(q=0;q<a.length;q++)"basic"==a[q]&&(t=!1),"layout"==a[q]&&(t=!1),"model"==a[q]&&(t=!1),"layoutsonly"==a[q]&&(t=!1),"lastsavedview"==a[q]&&(t=!1),"last"==a[q]&&(t=!1),"firstlayout"==a[q]&&(t=!1);t&&(q=a.length,0==rest_contentFormat.toLowerCase().indexOf("dwf")?
(a[q]="lastsavedview",0==rest_converter.indexOf("AutoXchange AX2017")&&(a[q]="firstlayout"),0==rest_converter.indexOf("AutoXchange AX2019")&&(a[q]="firstlayout"),0==rest_converter.indexOf("AutoXchange AX2020")&&(a[q]="firstlayout")):a[q]="model",u[q]="",q=a.length,a[q]="extents",u[q]="");0==rest_contentFormat.toLowerCase().indexOf("pcf")&&(q=a.length,a[q]="treatas",u[q]="DGN");var v=a.length;for(q=0;q<v;q++)"RL"==a[q]&&(a.splice(q,1),u.splice(q,1));v=a.length;for(q=0;q<v;q++)"TL"==a[q]&&(a.splice(q,
1),u.splice(q,1));if(0<rest_nname_custom[cvjs_active_floorplan_div_nr].length){v=a.length;var w=rest_nname_custom[cvjs_active_floorplan_div_nr].length;for(q=0;q<w;q++){var x=!1;for(t=0;t<v;t++)a[t]==rest_nname_custom[cvjs_active_floorplan_div_nr][q]&&(x=!0);x||(a[v]=rest_nname_custom[cvjs_active_floorplan_div_nr][q],u[v]=rest_vvalue_custom[cvjs_active_floorplan_div_nr][q],v++)}}t=!1;v=rest_nname[cvjs_active_floorplan_div_nr].length;for(q=0;q<v;q++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][q]&&
(t=!0);for(q=0;q<v;q++)t&&"last"==rest_nname[cvjs_active_floorplan_div_nr][q]&&(rest_nname[cvjs_active_floorplan_div_nr][q]=""),t&&"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][q]&&(rest_nname[cvjs_active_floorplan_div_nr][q]=""),t&&"model"==rest_nname[cvjs_active_floorplan_div_nr][q]&&(rest_nname[cvjs_active_floorplan_div_nr][q]=""),t&&"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][q]&&(rest_nname[cvjs_active_floorplan_div_nr][q]="");v={};0==n.indexOf("pdf")&&(v.action="pdf_creation");
0==n.indexOf("svg")&&(v.action="svg_creation");v.converter=rest_converter;v.version=rest_version;v.contentType=rest_contentType;d=d.replace(/\\/g,"/");"file"==v.contentType&&(0<d.indexOf("%")?v.contentLocation=d:v.contentLocation=encodeURIComponent(d));"stream"==v.contentType&&(0<d.indexOf("%")?v.contentStream=d:v.contentStream=encodeURIComponent(d));"embedded"==v.contentType&&(0<d.indexOf("%")?v.embeddedContent=d:v.embeddedContent=encodeURIComponent(d));v.contentFormat=rest_contentFormat;v.contentUsername=
f;v.contentPassword=h;v.userLabel=rest_userLabel;rest_serviceCall&&(v.userLabel=rest_ServiceToken,v.applicationPlatform=rest_applicationPlatform,v.applicationPlatformUsername=rest_applicationPlatformUsername,v.applicationPlatformUserID=rest_applicationPlatformUserID,"stream"==v.contentResponse&&(v.leaveStreamOnServer=rest_leaveStreamOnServer));v.contentResponse="file";v.parameters=[];cvjs_debug&&console.log("conv_extr_request.contentPassword x"+v.contentPassword+"x");for(q=0;q<rest_nname[cvjs_active_floorplan_div_nr].length;q++)d=
{},d.paramName=a[q],d.paramValue=u[q],v.parameters[q]=d;cvjs_printGrayscale&&(t=rest_nname[cvjs_active_floorplan_div_nr].length,d={},2==jQuery("#cvjs_grayScaleType").val()?d.paramName="bw":d.paramName="greyscale",d.paramValue="",v.parameters[t]=d);cvjs_customPrintCheckbox&&(0==cvjs_printModalCustomCheckBox.indexOf("add_json")&&cvjs_customPrintTextboxMode?(t=rest_nname[cvjs_active_floorplan_div_nr].length,d={paramName:"json"},d.paramValue=p,v.parameters[t]=d):0==cvjs_printModalCustomCheckBox.indexOf("add_json")&&
(t=rest_nname[cvjs_active_floorplan_div_nr].length,d={paramName:"json"},d.paramValue=cvjs_jsonLocation,v.parameters[t]=d));0==n.indexOf("pdf")&&(t=v.parameters.length,d={},d.paramName=cvjs_printPaperSize,d.paramValue="",v.parameters[t]=d,t=v.parameters.length,d={},d.paramName=cvjs_printOrientation,d.paramValue="",v.parameters[t]=d);api_data=JSON.stringify(v);tms_rest_api_url=tms_rest_api_url1+rest_php_version;cvjs_debug&&console.log(" index of"+tms_rest_api_url1.indexOf("tms-restful-api"));-1<tms_rest_api_url1.indexOf("tms-restful-api")&&
(cvjs_passwordProtected=!0,cvjs_isLicensed&&(cvjs_usr="tms",cvjs_pwd="restful"),cvjs_Community_Version&&(cvjs_usr="tms",cvjs_pwd="restful"),cvjs_debug&&console.log(cvjs_isLicensed+" "+cvjs_usr+" "+cvjs_pwd));cvjs_passwordProtected?(f=tms_rest_api_url.indexOf("//"),d=tms_rest_api_url.substring(0,f+2),f=tms_rest_api_url.substring(f+2),d=d+cvjs_usr+":"+cvjs_pwd+"@"+f):d=tms_rest_api_url;f="";f=cvjs_encodeURIcall_server?d+"?json="+encodeURIComponent(api_data):d+"?json="+api_data;cvjs_debug&&console.log(d+
" in makeConversion  request="+encodeURIComponent(api_data)+"  non encoded request: "+api_data);cvjs_jsonp_handshake&&(cvjs_debug&&console.log("before ajax call to php "),jQuery.ajax({url:f,jsonp:"tms_restful_api",dataType:"jsonp",async:!1,success:function(a){cvjs_debug&&console.log("jsonP Conversion success: "+a);0==n.indexOf("pdf")&&parseServerResponsePDFPrint(a);0==n.indexOf("svg")&&parseServerResponseSVGPrint(a)},error:function(a,d,f){console.log("1 jsonp getEngines error="+a.responseText+" status="+
d+" error="+f)}}));cvjs_servlet_handshake&&(cvjs_debug&&console.log("1 before ajax call to Servlet"),f={},f.request=api_data,cvjs_debug&&console.log("1 before ajax call to Servlet filelist_data['request'] "+f.request),jQuery.ajax({url:d,type:"post",async:!1,data:f,success:function(a){cvjs_debug&&console.log("json Conversion success parseSErverResponsePDFPrint: "+a);0==n.indexOf("pdf")&&parseServerResponsePDFPrint(a);0==n.indexOf("svg")&&parseServerResponseSVGPrint(a)},error:function(a){console.log("2 json getEngines error="+
a)}}));cvjs_post_handshake&&(cvjs_debug&&console.log("before ajax post call"),u={},u.json_data=api_data,jQuery.ajax({url:d,type:"POST",async:!1,data:u,success:function(a){cvjs_debug&&console.log("post Conversion: "+a);0==n.indexOf("pdf")&&parseServerResponsePDFPrint(a);0==n.indexOf("svg")&&parseServerResponseSVGPrint(a)},error:function(a){console.log("2 json getEngines error="+a)}}))}
String.prototype.replaceAll=function(a,d,f){return this.replace(new RegExp(a.replace(/([\/,!\\\^\$\{\}\[\]\(\)\.\*\+\?\|<>\-&])/g,"\\$&"),f?"gi":"g"),"string"==typeof d?d.replace(/\$/g,"$$$$"):d)};
function parseServerResponsePDFPrint(a){a=jQuery.parseJSON(a);if("E0"==a.errorCode){if(jQuery("#looper").hide(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),"pdf_creation"==a.completedAction){var d="";"stream"==rest_contentResponse&&(d=a.contentStreamData);"file"==rest_contentResponse&&(d=a.contentStreamData);cvjs_debug&&console.log("filelocation "+d);a=cvjs_serverHandlersPath+cvjs_returnPDFparamsController;cvjs_debug&&console.log("fUrl "+a);jQuery.ajax({url:a,
type:"post",data:{file:""},success:function(a){cvjs_debug&&console.log("success "+a);var f=a.substring(0,a.indexOf("|"));a=a.substring(a.indexOf("|")+1);a.substring(0,a.indexOf("|"));-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");printWindow=window.open("","CADViewer - Print","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+screen.height*cvjs_print_to_pdf_windowRelativeSize);printWindow.document.write('<!DOCTYPE html><html><title>CADViewer - Print</title><head><script src="'+
cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script><script src="'+cvjs_defaultJSPath+'/popper.js" type="text/javascript">\x3c/script><script src="'+cvjs_defaultJSPath+'/bootstrap.min.js" type="text/javascript">\x3c/script><link href="'+cvjs_defaultJSPath+'../css/bootstrap.min.css" rel="stylesheet">\x3c/script>');printWindow.document.write('<link href="'+cvjs_defaultJSPath+'../css/font-awesome.min.css" rel="stylesheet">\x3c/script>');printWindow.document.write("<style>.btn {  background-color: DodgerBlue;  border: none;  color: white;  padding: 12px 30px;  cursor: pointer;  font-size: 20px;} /* Darker background on mouse-over */ .btn:hover {  background-color: RoyalBlue;} </style>");
printWindow.document.write('<script type="text/javascript">');(f+d.substring(d.lastIndexOf("/")+1)).replaceAll("\\","/");a=d.substring(d.lastIndexOf("/")+1);printWindow.document.write("jQuery(document).ready(function(){\tjQuery('#downloadbutton').click(function (e) { \t\tvar element = document.createElement('a'); \t\telement.setAttribute('href', '"+d+"'); \t\telement.setAttribute('download', '"+a+"'); \t\tdocument.body.appendChild(element); \t\telement.click(); \t\tdocument.body.removeChild(element); \t\t\t});});\x3c/script>");
printWindow.document.write("</head><body>");printWindow.document.write('<button id="downloadbutton" class="btn" style="width:100%"><i class="fa fa-download"></i> Download: '+a+"</button> <br>");printWindow.document.write('<div id="pdf"><object width="'+screen.width*cvjs_print_to_pdf_windowRelativeSize+'" height="'+screen.width*cvjs_print_to_pdf_windowRelativeSize*2339/1654+'" type="application/pdf" data="'+d+'" id="pdf_content"><p>Please install a PDF viewer, the CADViewer batch file PDF cannot be displayed.</p></object></div></body></html>');
printWindow.document.close();printWindow.focus()}})}}else{jQuery("#looper").hide();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();var f="";f="E1"==a.errorCode?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ServerSideFormatForPDFPrint:"Server side conversion error, AutoXchange responded with errorcode: "+a.errorCode;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],f)}}
function parseServerResponsePDFPrintCustom(a){a=a.replace(/\\/g,"/");cvjs_debug&&console.log("Api_response "+a);a=jQuery.parseJSON(a);if("E0"==a.errorCode){if(jQuery("#looper").hide(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),"pdf_creation"==a.completedAction){var d="";"stream"==rest_contentResponse&&(d=a.contentStreamData);"file"==rest_contentResponse&&(d=a.contentStreamData);cvjs_debug&&console.log("filelocation "+d);jQuery.ajax({url:cvjs_serverHandlersPath+
cvjs_returnPDFparamsController,type:"post",data:{file:""},success:function(a){var f=a.substring(0,a.indexOf("|"));a=a.substring(a.indexOf("|")+1);a.substring(0,a.indexOf("|"));-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");printWindow=window.open("","CADViewer - Print","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+screen.height*cvjs_print_to_pdf_windowRelativeSize);printWindow.document.write('<!DOCTYPE html><html><title>CADViewer - Print</title><head><script src="'+
cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');printWindow.document.write('<script type="text/javascript">');a=f+d.substring(d.lastIndexOf("/")+1);a=a.replaceAll("\\","/");printWindow.document.write("jQuery(window).on('beforeunload', function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+a+"', cache: false, success: function(html){}});  }); jQuery(window).on('unload', function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+
"/"+cvjs_serverDeleteFileController+"?file="+a+"', cache: false, success: function(html){}})  }); window.onbeforeunload = function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+a+"', cache: false, success: function(html){}}) }; \x3c/script>");printWindow.document.write('</head><body><div id="pdf">');printWindow.document.write('<object width="'+screen.width*cvjs_print_to_pdf_windowRelativeSize+'" height="'+screen.width*cvjs_print_to_pdf_windowRelativeSize*
2339/1654+'" type="application/pdf" data="'+d+'" id="pdf_content"><p>Please install a PDF viewer, the CADViewer batch file PDF cannot be displayed.</p></object></div></body></html>');printWindow.document.close();printWindow.focus()}})}}else{jQuery("#looper").hide();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();var f="";f="E1"==a.errorCode?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ServerSideFormatForPDFPrint:"Server side conversion error, AutoXchange responded with errorcode: "+
a.errorCode;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],f)}}function cvjs_printConvertedPDF(){cvjs_Conversion_forPrint(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr],"pdf")}var cvjs_PrintToScale=!1,cvjs_ctx;
function cvjs_printCanvasPaperSize(){var a;-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");navigator.userAgent.indexOf("Firefox");var d=a=cvjs_rPaper[cvjs_active_floorplan_div_nr].toString();printDebugFlag&&console.log("1A ");var f=viewBoxWidth[cvjs_active_floorplan_div_nr],h=viewBoxHeight[cvjs_active_floorplan_div_nr],n=a.substring(0,a.indexOf("width:")+6),p=a.substring(a.indexOf("height:")+6);p=p.substring(p.indexOf(";"));a=(n+f+"; height:"+h+p).replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,
"");printDebugFlag&&console.log("1B ");window.location.href.indexOf("file:");var q=f/h;f=cvjs_printPixelWidth/cvjs_printPixelHeight;var t=!0;1<=q&&(t=!1);cvjs_ctx=jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr])[0].getContext("2d");if(-1<fileLoad_contentFormat.toLowerCase().indexOf("png")||-1<fileLoad_contentFormat.toLowerCase().indexOf("gif")||-1<fileLoad_contentFormat.toLowerCase().indexOf("jpg"))n=a.substring(0,a.indexOf("<image")),p=a.substring(a.indexOf("<image")+
6),p=p.substring(p.indexOf("</image>")+8),a=n+p,cvjs_objectIsZoomedExtents?(printDebugFlag&&console.log("1D "),cvjs_customLayerContentAdded?(d=cvjs_customLayerContent.getBBox(),console.log(d.x+" "+d.y+"  "+d.height+"  "+d.width),cvjs_ctx.canvas.height=Math.round(cvjs_rasterImageLoaded.height),cvjs_ctx.canvas.width=d.width+d.x>cvjs_rasterImageLoaded.width?Math.round(d.x+1.5*d.width):Math.round(cvjs_rasterImageLoaded.width),cvjs_ctx.canvas.height=d.height+d.y>cvjs_rasterImageLoaded.height?Math.round(d.y+
1.5*d.height):Math.round(cvjs_rasterImageLoaded.height)):(d=layers_all.getBBox(),cvjs_ctx.canvas.height=d.height,cvjs_ctx.canvas.width=1.2*d.width),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(Math.round(cvjs_rasterImageLoaded.height)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(Math.round(cvjs_rasterImageLoaded.width)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("width",
Math.round(cvjs_rasterImageLoaded.width)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("height",Math.round(cvjs_rasterImageLoaded.height)),printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show(),cvjs_ctx.drawImage(cvjs_rasterImageLoaded,0,0,cvjs_rasterImageLoaded.width,cvjs_rasterImageLoaded.height),cvjs_ctx.drawSvg(a,0,0,viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr])):
(q=f,t=!1,printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show(),n=a.substring(a.indexOf("width=")+7),n=n.substring(0,n.indexOf('"')),cvjs_debug&&console.log("print bitmap1 "+n),d=Number(n),p=a.substring(a.indexOf("height=")+8),p=p.substring(0,p.indexOf('"')),cvjs_debug&&console.log("print bitmap2 "+n),f=Number(p),printDebugFlag&&console.log("1C "),cvjs_ctx.canvas.height=Math.round(f),cvjs_ctx.canvas.width=Math.round(d),jQuery("#floorPlanCanvasObject_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(Math.round(f)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(Math.round(d)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("width",Math.round(d)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("height",Math.round(f)),printDebugFlag&&console.log("viewBox[cvjs_active_floorplan_div_nr].X "+viewBox[cvjs_active_floorplan_div_nr].X+
" viewBox[cvjs_active_floorplan_div_nr].Y "+viewBox[cvjs_active_floorplan_div_nr].Y+" viewBoxWidth[cvjs_active_floorplan_div_nr] "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" viewBoxHeight[cvjs_active_floorplan_div_nr]"+viewBoxHeight[cvjs_active_floorplan_div_nr]+" boxWidth "+d+" boxHeight "+f),cvjs_ctx.drawImage(cvjs_rasterImageLoaded,viewBox[cvjs_active_floorplan_div_nr].X,viewBox[cvjs_active_floorplan_div_nr].Y,viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr],
0,0,d,f),cvjs_ctx.drawSvg(a,0,0,d,f)),cvjs_callPrintAfter_canvg(t,q);else{0==cvjs_printOrientation.indexOf("landscape")?(cvjs_ctx.canvas.height=Math.round(cvjs_printPixelHeight),cvjs_ctx.canvas.width=Math.round(cvjs_printPixelWidth),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(Math.round(cvjs_printPixelHeight)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(Math.round(cvjs_printPixelWidth)),jQuery("#floorPlanCanvasObject_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("width",Math.round(cvjs_printPixelWidth)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("height",Math.round(cvjs_printPixelHeight))):(cvjs_ctx.canvas.height=Math.round(cvjs_printPixelWidth),cvjs_ctx.canvas.width=Math.round(cvjs_printPixelHeight),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(Math.round(cvjs_printPixelWidth)),jQuery("#floorPlanCanvasObject_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(Math.round(cvjs_printPixelHeight)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("width",Math.round(cvjs_printPixelHeight)),jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("height",Math.round(cvjs_printPixelWidth)));for(;-1<d.indexOf("xmlns:cvjs");)a=d.indexOf("xmlns:cvjs"),p=d.indexOf('"',a),p=d.indexOf('"',p+1),d=d.substring(0,a-1)+d.substring(p+1);for(;-1<d.indexOf("cvjs:");)a=
d.indexOf("cvjs:"),p=d.indexOf('"',a),p=d.indexOf('"',p+1),d=d.substring(0,a-1)+d.substring(p+1);for(;-1<d.indexOf("xmlns:NS");)a=d.indexOf("xmlns:NS"),p=d.indexOf("NS",a+8),n=d.indexOf(" ",p+2),p=d.indexOf(">",p+2),p<n&&(n=p),d=d.substring(0,a-1)+d.substring(n);printDebugFlag&&console.log(d);d=a=d.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"");a=d.indexOf("<svg");d=d.substring(0,a+4)+' xmlns="http://www.w3.org/2000/svg" '+d.substring(a+4);n=d.substring(0,d.indexOf("width:")+6);p=d.substring(d.indexOf("height:")+
6);p=p.substring(p.indexOf(";"));d=0==cvjs_printOrientation.indexOf("landscape")?n+cvjs_printPixelWidth+"; height:"+cvjs_printPixelHeight+p:n+cvjs_printPixelHeight+"; height:"+cvjs_printPixelWidth+p;q=f;t=!1;printDebugFlag&&console.log("1C ");a=d;printDebugFlag&&console.log("\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\u00c5\n\r"+a);if(cvjs_PrintToScale){f=jQuery("#cvjs_printToScaleValue").val();printDebugFlag&&window.alert("printScale "+f);a=f.split(":");f=1;if(2==
a.length)f=a[0]/a[1],printDebugFlag&&window.alert("OK Scale:"+f);else{printDebugFlag&&window.alert("not valid scale");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();return}a=d.indexOf("viewBox=");n=d.substring(0,a+9);p=d.substring(a+9);a=p.indexOf('"');d=p.substring(a);a=p.substring(0,a).split(" ");p=cvjs_drawingCoordinates[multiPages[cvjs_active_floorplan_div_nr].currentPage].DWG.upperRight.x-cvjs_drawingCoordinates[multiPages[cvjs_active_floorplan_div_nr].currentPage].DWG.lowerLeft.x;
"cm"==cvjs_units[cvjs_active_floorplan_div_nr]&&(p*=10);"m"==cvjs_units[cvjs_active_floorplan_div_nr]&&(p*=1E3);"in"==cvjs_units[cvjs_active_floorplan_div_nr]&&(p*=25.4);"feet"==cvjs_units[cvjs_active_floorplan_div_nr]&&(p*=304.8);h=1;0==cvjs_printOrientation.indexOf("landscape")&&(h=(cvjs_printPaperHeight_mm-40)/p);0==cvjs_printOrientation.indexOf("portrait")&&(h=(cvjs_printPaperHeight_mm-40)/p);h/=f;printDebugFlag&&window.alert(cvjs_printOrientation+"  "+p+" cvjs_printPaperHeight_mm="+cvjs_printPaperHeight_mm+
"  "+h);a[2]*=h;a[3]*=h;a=n+(a[0]+" "+a[1]+" "+a[2]+" "+a[3])+d;printDebugFlag&&console.log("\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\r\n");printDebugFlag&&console.log("\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\r\n");printDebugFlag&&console.log("\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\u00d6\r\n");printDebugFlag&&console.log(a)}printDebugFlag&&
jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();cvjs_debug&&console.log("floorPlanCanvasObject "+floorplan_div_Array[cvjs_active_floorplan_div_nr]+" "+a);canvg("floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr],a,{renderCallback:function(){cvjs_callPrintAfter_canvg(t,q)}})}}
function cvjs_callPrintAfter_canvg(a,d){printDebugFlag&&console.log("before canvg");new Image;printDebugFlag&&console.log("no return from cvjs_callPrintAfter_canvg");var f=document.getElementById("floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);var h=jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr])[0].getContext("2d");var n=f.width,p=f.height;if(cvjs_spaceFloodFill)cvjs_floodfill(h,n,p,d,a),h=f.toDataURL("image/png"),cvjs_serverSavePrintModeController=
6,f=Math.random().toString().substring(2,5),sendServerStringToServer(h,"floodFill_"+f+".png");else{printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();if(cvjs_printGrayscale){a=h.getImageData(0,0,f.width,f.height);d=a.data;for(n=0;n<d.length;n+=4)p=.34*d[n]+.5*d[n+1]+.16*d[n+2],d[n]=p,d[n+1]=p,d[n+2]=p;h.putImageData(a,0,0)}h=f.toDataURL("image/png");printDebugFlag&&console.log("Image canvas element width "+f.width+" height "+f.height);d=f.width/
f.height;a=1>d?!0:!1;0==cvjs_printOrientation.indexOf("landscape")?cvjs_printImagePaperSizeRotated(h,.5*screen.width,.75*screen.height,a,d):cvjs_printImagePaperSize(h,.5*screen.width,.75*screen.height,a,d)}}
function cvjs_printImagePaperSizeRotated(a,d,f,h,n){-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");var p=!1;-1<window.location.href.indexOf("file:")&&(p=!0);p?(d=window.open("","CADViewer - Print","height="+f+",width="+d),printOnLoadedDocumentRotated(d,a,h,n,!0)):printOnLoadedDocumentRotated_Server(a,h,n)}
function cvjs_printImagePaperSize(a,d,f,h,n){-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");var p=!1;-1<window.location.href.indexOf("file:")&&(p=!0);p?(d=window.open("","CADViewer - Print","height="+f+",width="+d),printOnLoadedDocument(d,a,h,n,!0)):printOnLoadedDocument_Server(a,h,n)}
function printOnLoadedDocument(a,d,f,h,n){printDebugFlag&&window.alert("printOnLoadedDocument");h=-1<navigator.userAgent.indexOf("MSIE")||-1<navigator.userAgent.indexOf("Trident");a.document.write("<!DOCTYPE html><html><head><title>CADViewer - Print</title>");a.document.write("<style>");a.document.write(" body {");var p=cvjs_printPaperHeight_mm-10;a.document.write("     height: "+(cvjs_printPaperWidth_mm-10)+"mm;");a.document.write("     width: "+p+"mm;");a.document.write("     /* to centre page on screen*/");
a.document.write("     margin-left: auto;");a.document.write("     margin-right: auto;");f?(a.document.write("     transform: translate(0mm ,0mm);"),printDebugFlag&&console.log("less1 no rot    transform: translate(0mm ,0mm);")):(a.document.write("     transform: translate(0mm ,0mm);"),printDebugFlag&&console.log("over1 no rot    transform: translate(0mm ,0mm);"));a.document.write(" }");a.document.write(" </style> ");a.document.write("</head><body><img src='");a.document.write(d);f?(printDebugFlag&&
console.log("b1 a '  style=\"height: auto; width:"+(p-40)+'mm;" /></body></html>'),a.document.write("'  style=\"height: auto; width:"+(p-40)+'mm;" /></body></html>')):(printDebugFlag&&console.log("b1 b   '  style=\"height: : auto; width: "+(p-10)+'mm;" /></body></html>'),a.document.write("'  style=\"height: auto; width: "+(p-10)+'mm;" /></body></html>'));a.document.close();a.focus();a.print();n&&a.close();!n&&h&&a.close()}
function printOnLoadedDocumentRotated(a,d,f,h,n){printDebugFlag&&window.alert("printOnLoadedDocumentRotated");-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");a.document.write("<!DOCTYPE html><html><head><title>CADViewer - Print</title>");a.document.write("<style>");a.document.write(" body {");var p=(cvjs_printPaperWidth_mm-cvjs_printPaperHeight_mm)/2,q=cvjs_printPaperWidth_mm-10,t=cvjs_printPaperHeight_mm-10;a.document.write("     height: "+q+"mm;");a.document.write("     width: "+
t+"mm;");a.document.write("     /* to centre page on screen*/");a.document.write("     margin-left: auto;");a.document.write("     margin-right: auto;");a.document.write("     -webkit-transform: rotate(90deg);");a.document.write("     -moz-transform: rotate(90deg);");f?(a.document.write("     transform: rotate(90deg) translate("+-p/2+"mm, "+p+"mm);"),printDebugFlag&&console.log("less1  rot          transform: rotate(90deg) translate("+-p/2+"mm, "+p+"mm);")):(a.document.write("     transform: rotate(90deg) translate("+
-p/2+"mm, "+p+"mm);"),printDebugFlag&&console.log("over1  rot          transform: rotate(90deg) translate("+-p/2+"mm, "+p+"mm);"));a.document.write(" };");a.document.write(" </style> ");a.document.write('</head><body ><div id="imagetag"><img src=\'');a.document.write(d);f?(printDebugFlag&&console.log("b2 a '  style=\"height: auto; width:"+(t-40)+'mm;" /></body></html>'),a.document.write("'  style=\"height: auto; width:"+(t-40)+'mm;" /></body></html>')):(h>cvjs_printPixelWidth/cvjs_printPixelHeight?
printDebugFlag&&console.log("b2 b 1 '  style=\"height: auto; width:"+(q-40)+'mm;" /></body></html>'):printDebugFlag&&console.log("b2 b 2 '  style=\"height: auto; width:"+(q-40)+'mm;" /></body></html>'),a.document.write("'  style=\"height: auto; width:"+(q-40)+'mm;" /></body></html>'));a.document.close();a.focus();a.print();n&&a.close()}var cvjs_removePrintObject=!0,cvjs_javaScriptsAbsoluteFolder="../app/js";function cvjs_removePrintObjectAfterPrint(a){cvjs_removePrintObject=a}
var JQ_absoluteFolder=!1;function cvjs_setJavaScriptsAbsoluteFolder(a){cvjs_javaScriptsAbsoluteFolder=a;JQ_absoluteFolder=!1}function cvjs_setJavaScriptsJQ_AbsoluteFolder(a){cvjs_javaScriptsAbsoluteFolder=a;JQ_absoluteFolder=!0}
function printOnLoadedDocumentRotated_Server(a,d,f){if(cvjs_PrintToScale)printOnLoadedDocumentRotated_Server_PrintToScale(a,d,f);else if(0!=cvjs_serverSavePrintModeController)sendServerStringToServer(a,cvjs_serverSavePrintMode_serverPath+cvjs_serverSavePrintMode_image_fileName);else{printDebugFlag&&window.alert("printOnLoadedDocumentRotated_Server");var h=Math.floor(1E3*Math.random()+1);var n="<!DOCTYPE html><html><head><title>CADViewer - Print</title>";if(cvjs_removePrintObject){h=Math.floor(1E5*
Math.random()+1);var p=cvjs_serverHandlersPath+cvjs_serverDeleteFileController+"?file="+encodeURIComponent(cvjs_printObjectPathRelativeFlag?cvjs_printObjectPath+h+".html":cvjs_printObjectPathAbsoluteServer+h+".html");n=JQ_absoluteFolder?n+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'" type="text/javascript">\x3c/script>'):n+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');n=n+"<script type=\"text/javascript\">jQuery(window).on('beforeunload', function (){jQuery.ajax({"+
("url:'"+p+"',")+"cache: false,success: function(html){";n+="}";n+="});";n+="});";n+="jQuery(window).on('unload', function ()";n+="{";n+="jQuery.ajax({";n=n+("url:'"+p+"',")+"cache: false,success: function(html){";n+="}";n+="});";n+="});";n+="window.onbeforeunload = function () {";n+="jQuery.ajax({";n=n+("url:'"+p+"',")+"cache: false,success: function(html){";n+="}";n+="});";n+="return undefined; }; ";n+="\x3c/script>"}var q=-1<navigator.userAgent.indexOf("Chrome");navigator.userAgent.indexOf("Firefox");
-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");navigator.userAgent.indexOf("Safari");navigator.userAgent.indexOf("Presto");-1<navigator.userAgent.indexOf("Edge")&&(q=!1);p=cvjs_printPaperWidth_mm;var t=cvjs_printPaperHeight_mm;q?(n+='<style type="text/css" media="print">',n+="@page { ",n+="    size: landscape",n+="}",n+="body {",n+="writing-mode: horizontal-tb",n+="}",n+="</style>"):(n+="<style>",n+=" body {",q=(cvjs_printPaperWidth_mm-cvjs_printPaperHeight_mm)/2,n+=
"     height: "+p+"mm;",n+="     width: "+t+"mm;",n+="     /* to centre page on screen*/",n+="     margin-left: 10mm;",n+="     margin-right: 10mm;",n+="     margin-top: 10mm;",n+="     margin-bottom: 10mm;",d?(n+="     transform: rotate(90deg) translate("+-q/2+"mm, "+q+"mm);",printDebugFlag&&console.log("less1  rot          transform: rotate(90deg) translate("+-q/2+"mm, "+q+"mm);")):(n+="     transform: translate("+1.5*-q+"mm, "+1.2*-q+"mm) rotate(90deg); translate("+ +q+"mm, "+ +q+"mm) ",printDebugFlag&&
console.log("over1  rot          transform: rotate(90deg) translate("+-q/2+"mm, "+q+"mm);")),n+=" };",n+=" </style> ");n+='</head><body onload="window.print();"><div id="imagetag"><img src=\'';n+=a;d?(printDebugFlag&&console.log("b2 svg less 1 a  (pw1-40)    '  style=\"height: auto; width:"+(t-40)+'mm;" /></body></html>'),n+="'  style=\"height: auto; width:"+(t-40)+'mm;" /></body></html>'):f>cvjs_printPixelWidth/cvjs_printPixelHeight?(printDebugFlag&&console.log("b2 b 1 (ph1-40) 40 removed  '  style=\"height: auto; width:"+
p+'mm;" /></body></html>'),n+="'  style=\"height: auto; width:"+p+'mm;" /></body></html>'):(printDebugFlag&&console.log("b2 b 2 (ph1-40) '  style=\"height: auto; width:"+(p-40)+'mm;" /></body></html>'),n+="'  style=\"height: auto; width:"+(p-40)+'mm;" /></body></html>');sendServerStringToServer(n,h)}}
function printOnLoadedDocumentRotated_Server_PrintToScale(a,d,f){printDebugFlag&&window.alert("printOnLoadedDocumentRotated_Server_ printToScale");if(0!=cvjs_serverSavePrintModeController)sendServerStringToServer(a,cvjs_serverSavePrintMode_serverPath+cvjs_serverSavePrintMode_image_fileName);else{var h=Math.floor(1E3*Math.random()+1);var n="<!DOCTYPE html><html><head><title>CADViewer - Print</title>";if(cvjs_removePrintObject){h=Math.floor(1E5*Math.random()+1);var p=cvjs_serverHandlersPath+cvjs_serverDeleteFileController+
"?file="+encodeURIComponent(cvjs_printObjectPathRelativeFlag?cvjs_printObjectPath+h+".html":cvjs_printObjectPathAbsoluteServer+h+".html");n=JQ_absoluteFolder?n+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'" type="text/javascript">\x3c/script>'):n+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');n=n+"<script type=\"text/javascript\">jQuery(window).on('beforeunload', function (){jQuery.ajax({"+("url:'"+p+"',")+"cache: false,success: function(html){";
n+="}";n+="});";n+="});";n+="jQuery(window).on('unload', function ()";n+="{";n+="jQuery.ajax({";n=n+("url:'"+p+"',")+"cache: false,success: function(html){";n+="}";n+="});";n+="});";n+="window.onbeforeunload = function () {";n+="jQuery.ajax({";n=n+("url:'"+p+"',")+"cache: false,success: function(html){";n+="}";n+="});";n+="return undefined; }; ";n+="\x3c/script>"}var q=-1<navigator.userAgent.indexOf("Chrome"),t=-1<navigator.userAgent.indexOf("Firefox");-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");
navigator.userAgent.indexOf("Safari");navigator.userAgent.indexOf("Presto");(p=-1<navigator.userAgent.indexOf("Edge"))&&(q=!1);var u=cvjs_printPaperWidth_mm,v=cvjs_printPaperHeight_mm,w=u,x=v;printDebugFlag&&window.alert(navigator.userAgent+" 3.3.02f g "+q+" ph1="+w+"  pw1="+x);var A=cvjs_printPaperWidth_mm/cvjs_printPaperHeight_mm,y=40;q?(n+='<style type="text/css" media="print">',n+="@page { ",n+="    size: landscape",n+="}",n+="body {",n+="writing-mode: horizontal-tb",n+="}",n+="</style>"):(t&&
(A=1,y=0),n+="<style>",n+=" body {",q=(cvjs_printPaperWidth_mm-cvjs_printPaperHeight_mm)/2,n+="     height: "+w+"mm;",n+="     width: "+x+"mm;",n+="     /* to centre page on screen*/",n+="     margin-left: 10mm;",n+="     margin-right: 10mm;",n+="     margin-top: 10mm;",n+="     margin-bottom: 10mm;",d?(n+="     transform: rotate(90deg) translate("+-q/2+"mm, "+q+"mm);",printDebugFlag&&console.log("less1  rot          transform: rotate(90deg) translate("+-q/2+"mm, "+q+"mm);")):(n+="     transform: translate("+
1.5*-q+"mm, "+1.2*-q+"mm) rotate(90deg); translate("+ +q+"mm, "+ +q+"mm) ",printDebugFlag&&console.log("over1  rot          transform: rotate(90deg) translate("+-q/2+"mm, "+q+"mm);")),n+=" };",n+=" </style> ");n+='</head><body onload="window.print();"><div id="imagetag"><img src=\'';n+=a;p&&(x=u,w=v);d?(printDebugFlag&&window.alert("print scale b2 svg less 1 a  (pw1-40)    '  style=\"height: "+(x-y)+"mm ; width:"+(w-y*A)+'mm;" /></body></html>'),n+="'  style=\"height: "+(x-y)+"mm ; width:"+(w-y*A)+
'mm;" /></body></html>'):f>cvjs_printPixelWidth/cvjs_printPixelHeight?(printDebugFlag&&window.alert("print scale b2 b 1 (ph1-40) 40 removed  '  style=\"height: "+(x-y)+"mm ; width:"+(w-y*A)+'mm;" /></body></html>'),n+="'  style=\"height: "+(x-40)+"mm ; width:"+(w-40*A)+'mm;" /></body></html>'):(printDebugFlag&&window.alert("print scale b2 b 2 (ph1-40) '  style=\"height: "+(x-y)+"mm ; width:"+(w-y*A)+'mm;" /></body></html>'),n+="'  style=\"height: "+(x-y)+"mm ; width:"+(w-y*A)+'mm;" /></body></html>');
sendServerStringToServer(n,h)}}
function printOnLoadedDocument_Server(a,d,f){printDebugFlag&&window.alert("printOnLoadedDocument_Server");if(0!=cvjs_serverSavePrintModeController)sendServerStringToServer(a,cvjs_serverSavePrintMode_serverPath+cvjs_serverSavePrintMode_image_fileName);else{f=Math.floor(1E3*Math.random()+1);var h="<!DOCTYPE html><html><head><title>CADViewer - Print</title>";if(cvjs_removePrintObject){f=Math.floor(1E5*Math.random()+1);var n=cvjs_serverHandlersPath+cvjs_serverDeleteFileController+"?file="+encodeURIComponent(cvjs_printObjectPathRelativeFlag?
cvjs_printObjectPath+f+".html":cvjs_printObjectPathAbsoluteServer+f+".html");h=JQ_absoluteFolder?h+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'" type="text/javascript">\x3c/script>'):h+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');h=h+"<script type=\"text/javascript\">jQuery(window).on('beforeunload', function (){jQuery.ajax({"+("url:'"+n+"',")+"type: 'GET',async: false,";h+="success: function(html){";h+="}";h+="});";h+="});";h+="jQuery(window).on('unload', function ()";
h+="{";h+="jQuery.ajax({";h=h+("url:'"+n+"',")+"type: 'GET',async: false,";h+="success: function(html){";h+="}";h+="});";h+="});";h+="window.onbeforeunload = function () {";h+="jQuery.ajax({";h=h+("url:'"+n+"',")+"type: 'GET',async: false,";h+="success: function(html){";h+="}";h+="});";h+="return undefined; }; ";h+="\x3c/script>"}n=-1<navigator.userAgent.indexOf("Chrome");navigator.userAgent.indexOf("Firefox");-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");navigator.userAgent.indexOf("Safari");
navigator.userAgent.indexOf("Presto");-1<navigator.userAgent.indexOf("Edge")&&(n=!1);h+='<style type="text/css" media="print">';h+="@media print { ";h+="    size: portrait";h+="}";h+="body {";h+="writing-mode: horizontal-tb";h+="}";h+="</style>";var p=cvjs_printPaperHeight_mm;h+='</head><body onload="window.print()"><img src=\'';h+=a;d?(printDebugFlag&&console.log("b1 a (pw1-10)  '  style=\"height: auto; width:"+(p-10)+'mm;" /></body></html>'),h=n?h+("'  style=\"height: auto; width:"+(p-40)+'mm;" /></body></html>'):
h+("'  style=\"height: auto; width:"+(p-0)+'mm;" /></body></html>')):(printDebugFlag&&console.log("b1 b (pw1-20)    '  style=\"height: auto; width: "+(p-20)+'mm;" /></body></html>'),h=n?h+("'  style=\"height: auto; width: "+(p-40)+'mm;" /></body></html>'):h+("'  style=\"height: auto; width: "+(p-0)+'mm;" /></body></html>'));sendServerStringToServer(h,f)}}
function sendServerStringToServer(a,d){if(0==cvjs_serverSavePrintModeController||6==cvjs_serverSavePrintModeController||3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController)jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Printing+"</div></td></tr></table>"),cvjs_setLooperPosition(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();var f=cvjs_serverHandlersPath+cvjs_serverSaveFileController,h={},n=a.length;printDebugFlag&&console.log("print object size! "+a.length);var p="",q="",t="",u="",v="",w="",x="",A="",y="",B=0;855E4<n?(B=9,y=a.substring(855E4),A=a.substring(76E5,
855E4),x=a.substring(665E4,76E5),w=a.substring(57E5,665E4),v=a.substring(475E4,57E5),u=a.substring(38E5,475E4),t=a.substring(285E4,38E5),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):76E5<n?(B=8,A=a.substring(76E5),x=a.substring(665E4,76E5),w=a.substring(57E5,665E4),v=a.substring(475E4,57E5),u=a.substring(38E5,475E4),t=a.substring(285E4,38E5),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):665E4<n?(B=7,x=a.substring(665E4),w=a.substring(57E5,665E4),
v=a.substring(475E4,57E5),u=a.substring(38E5,475E4),t=a.substring(285E4,38E5),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):57E5<n?(B=6,w=a.substring(57E5),v=a.substring(475E4,57E5),u=a.substring(38E5,475E4),t=a.substring(285E4,38E5),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):475E4<n?(B=5,v=a.substring(475E4),u=a.substring(38E5,475E4),t=a.substring(285E4,38E5),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):38E5<
n?(B=4,u=a.substring(38E5),t=a.substring(285E4,38E5),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):285E4<n?(B=3,t=a.substring(285E4),q=a.substring(19E5,285E4),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):19E5<n?(B=2,q=a.substring(19E5),p=a.substring(95E4,19E5),a=a.substring(0,95E4)):95E4<n&&(B=1,p=a.substring(95E4),a=a.substring(0,95E4));cvjs_debug&&console.log("xSPLITFILE "+B+" length "+n);h.file_content=a;var z="";cvjs_printObjectPathRelativeFlag?(cvjs_debug&&console.log("BRANCH 1"),
h.file=cvjs_printObjectPath+d+".html",z=cvjs_serverHandlersPath+cvjs_printObjectPath+d+".html",cvjs_NodeJSserver&&(z=cvjs_serverHandlersPath+cvjs_printObjectPath+"?file="+d+".html")):(cvjs_debug&&console.log("BRANCH 2"),h.file=cvjs_printObjectPathAbsoluteServer+d+".html",z=cvjs_printObjectPathAbsolute+d+".html",cvjs_NodeJSserver&&(z=cvjs_printObjectPathAbsolute+"?file="+d+".html"));0!=cvjs_serverSavePrintModeController&&6!=cvjs_serverSavePrintModeController&&(1==cvjs_serverSavePrintModeController||
2==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?(h.file=d,2==cvjs_serverSavePrintModeController&&(h.file=cvjs_ServerLocation+"/converters/files/"+d.substring(d.lastIndexOf("/")))):cvjs_printObjectPathRelativeFlag?(cvjs_debug&&console.log("xxBRANCH 1"),h.file=cvjs_printObjectPath+d+".html",z=cvjs_serverHandlersPath+cvjs_printObjectPath+d+".html"):(cvjs_debug&&console.log("xxBRANCH 2"),n=d.substring(d.lastIndexOf("/")+1),h.file=cvjs_ServerLocation+"/converters/files/"+n,
n=d.substring(0,d.lastIndexOf(".")),z=n+".html"));cvjs_debug&&console.log("Final URL:"+f+" filelist_data['file']="+h.file+" htmlPrintFile="+z+" serverString.length()  "+a.length);cvjs_debug&&console.log("Mode: "+cvjs_serverSavePrintModeController+"  2:  filelist_data['file'] "+h.file+" htmlPrintFile="+z);if(1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController)jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Thumbnails+"</div></td></tr></table>"),cvjs_setLooperPosition(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(100);jQuery.ajax({url:f,type:"post",data:h,success:function(a){cvjs_debug&&console.log("final URL="+f+
"return server "+a+" cvjs_serverSavePrintModeController="+cvjs_serverSavePrintModeController+"  "+h.file+" splitfile "+B);0==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,
success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_batchDrawingsArrLength_globalCounter++;
cvjs_batchDrawingsArrLength_globalCounter==cvjs_batchDrawingsArrLength?cvjs_batchConvertOnLoadEndCustomMethod():cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),
5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(h.file_content=p,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,
success:function(a){1==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_batchDrawingsArrLength_globalCounter++;cvjs_batchDrawingsArrLength_globalCounter==cvjs_batchDrawingsArrLength?cvjs_batchConvertOnLoadEndCustomMethod():
cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(h.file_content=q,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){2==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,
type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_batchDrawingsArrLength_globalCounter++;cvjs_batchDrawingsArrLength_globalCounter==cvjs_batchDrawingsArrLength?cvjs_batchConvertOnLoadEndCustomMethod():cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}}):
3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print",
"height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(h.file_content=t,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,console.log("saving serverString 4"),jQuery.ajax({url:f,type:"post",data:h,success:function(a){3==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=
!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):
2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_batchDrawingsArrLength_globalCounter++;cvjs_batchDrawingsArrLength_globalCounter==cvjs_batchDrawingsArrLength?cvjs_batchConvertOnLoadEndCustomMethod():cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||
5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),
6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(console.log(B+" saving serverString 5"),h.file_content=u,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){4==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?
jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,
type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_batchDrawingsArrLength_globalCounter++;cvjs_batchDrawingsArrLength_globalCounter==cvjs_batchDrawingsArrLength?cvjs_batchConvertOnLoadEndCustomMethod():cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&
cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(cvjs_debug&&
console.log(B+" saving serverString 6"),h.file_content=v,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){5==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"uploadlistitem_sharepoint.php",
type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,
success:function(a){cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter++])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(cvjs_debug&&console.log(B+" saving serverString 7"),h.file_content=w,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){6==B?1==cvjs_serverSavePrintModeController||
7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_debug&&console.log(cvjs_phpImagesUrlController+" "+a+"  we have now created the thumbnails");cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");
jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter++])}}):
3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print",
"height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(cvjs_debug&&console.log(B+" saving serverString 8"),h.file_content=x,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){7==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=
!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):
2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter++])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&
cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(cvjs_debug&&console.log(B+" saving serverString 9"),h.file_content=A,f=cvjs_serverHandlersPath+
cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){8==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+
"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],
cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter++])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==
cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&cvjs_pngForSVG(z)):(cvjs_debug&&console.log(B+" saving serverString 10"),h.file_content=y,f=cvjs_serverHandlersPath+cvjs_serverAppendFileController,jQuery.ajax({url:f,type:"post",data:h,success:function(a){9==B?1==cvjs_serverSavePrintModeController||7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,
type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_ajaxPostStatus_thumbNails=!0;7==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadlistattachment.php",type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){console.log(a+"  sharepoint list item call back");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_serverSavePrintModeController=0}}):(jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_serverSavePrintModeController=0)}}):2==cvjs_serverSavePrintModeController?jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter++])}}):3==cvjs_serverSavePrintModeController||4==cvjs_serverSavePrintModeController||5==cvjs_serverSavePrintModeController?
(3==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF(),4==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_email(),5==cvjs_serverSavePrintModeController&&cvjs_printSavedBitmapToPDF_uploadServer()):(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),0==cvjs_serverSavePrintModeController&&(printWindow=window.open(z,"CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width),printWindow.focus()),6==cvjs_serverSavePrintModeController&&
cvjs_pngForSVG(z)):cvjs_debug&&console.log(B+" saving serverString 11 not implemented")}}))}}))}}))}}))}}))}}))}}))}}))}}))}})}var cvjs_displayMagnifyingGlassFlag=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_firstDisplayMagnifying=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_displayMagnifyingGlass(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr]=!cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr];if(cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr]){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;viewBoxWidth_magn=viewBoxHeight_magn=viewBox_Y_magn=
viewBox_X_magn=0;if(cvjs_firstDisplayMagnifying[cvjs_active_floorplan_div_nr]){cvjs_firstDisplayMagnifying[cvjs_active_floorplan_div_nr]=!1;var d=jQuery("#"+a).position(),f=d.top+40;d=d.left+jQuery("#"+a).width()-648;400>d&&(d=400);console.log(f+"  "+d);jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+a).offset({left:150+jQuery("#"+a).position().left,top:150+jQuery("#"+a).position().top})}jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+a).show();cvjs_addHandleFunc_ZoomMagnifyingGlass()}}else jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+
a).hide(),cvjs_removeHandleFunc_ZoomMagnifyingGlass(),cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1,tPath_r="M0,0",tRubberBand_r.attr({path:tPath_r})}function cvjs_exitBirdsEye(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr]=!1;jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+a).hide();cvjs_removeHandleFunc_ZoomMagnifyingGlass();tPath_r="M0,0";tRubberBand_r.attr({path:tPath_r})}
function cvjs_addHandleFunc_ZoomMagnifyingGlass(){tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];
global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.mousemove(move_cvjs_create_zoommagnify_rectangle)}function cvjs_removeHandleFunc_ZoomMagnifyingGlass(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_zoommagnify_rectangle=function(){flag_rectangle=!1;var a=viewBoxWidth[cvjs_active_floorplan_div_nr]/400,d="#0b0b0b";cvjs_blackBackground&&(d="#FbFbFb");console.log(cvjs_blackBackground+"  "+d);a=jQuery.parseJSON('{"stroke": "'+d+'", "fill" : "none", "stroke-opacity": "0.5", "stroke-width": "'+a+'"}');tRubberBand_r.attr(a)},zoomwindow_counter=0,cvjs_magnifyingGlassWidth=648,cvjs_magnifyingGlassHeight=450,cvjs_magnifyCanvasDrawn=!0,magnify_startflag=!0,startTime,deltaDist_pre,
delta_dist;jQuery(document).ready(function(){idleTime=0;setInterval(function(){idleTime++;2<idleTime&&cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr]&&magnify_startflag&&(magnify_startflag=!1,cvjs_magnifyCanvasDrawn&&0==!viewBox_X_magn&&0==!viewBox_Y_magn&&(cvjs_magnifyCanvasDrawn=!1,cvjs_renderMagnifyingGlass(viewBox_X_magn,viewBox_Y_magn,viewBoxWidth_magn,viewBoxHeight_magn)))},100);jQuery(this).mousemove(function(a){idleTime=0;magnify_startflag=!0})});
var viewBox_X_magn,viewBox_Y_magn,viewBoxHeight_magn,viewBoxWidth_magn;
function cvjs_move_birdseye(a,d){var f=(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/20;a+=document.body.scrollLeft;d+=document.body.scrollTop;firstX_r=a;firstY_r=d;tPath_r="M"+((firstX_r-delta_x)/global_scale-1.44*f)+","+((firstY_r-delta_y)/global_scale-f);tPath_r+="h"+2.88*f+"v"+2*f+"h"+-2.88*f+"v"+-2*f+" Z";tRubberBand_r.attr({path:tPath_r});viewBox_X_magn=(firstX_r-delta_x)/global_scale-.98*f;viewBox_Y_magn=(firstY_r-delta_y)/global_scale-.98*f;viewBoxHeight_magn=
1.92*f;viewBoxWidth_magn=1.92*f;delta_dist=Math.sqrt(Math.pow(a-lastX_r,2)+Math.pow(d-lastY_r,2))}var move_cvjs_create_zoommagnify_rectangle=function(a,d,f){cvjs_move_birdseye(d,f)};
function cvjs_renderMagnifyingGlass(a,d,f,h){-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");navigator.userAgent.indexOf("Firefox");var n=cvjs_rPaper[cvjs_active_floorplan_div_nr].toString();var p=n.substring(0,n.indexOf("width:")+6);n=n.substring(n.indexOf("height:")+6);n=n.substring(n.indexOf(";"));n=p+cvjs_magnifyingGlassWidth+"; height:"+cvjs_magnifyingGlassHeight+n;p=n.substring(0,n.indexOf("viewBox=")+9);n=n.substring(n.indexOf("viewBox=")+10);n=n.substring(n.indexOf('"'));
n=a=(p+a+" "+d+" "+f+" "+h+n).replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"");cvjs_ctx=jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr])[0].getContext("2d");cvjs_ctx.canvas.height=Math.round(cvjs_magnifyingGlassHeight);cvjs_ctx.canvas.width=Math.round(cvjs_magnifyingGlassWidth);jQuery("#cvjs_floorPlanMagnifyingGlass_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(cvjs_magnifyingGlassHeight);jQuery("#cvjs_floorPlanMagnifyingGlass_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(cvjs_magnifyingGlassWidth);
printDebugFlag&&jQuery("#cvjs_floorPlanMagnifyingGlass_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();canvg("cvjs_floorPlanMagnifyingGlass_"+floorplan_div_Array[cvjs_active_floorplan_div_nr],n,{renderCallback:function(){cvjs_canvg_renderedMagnifyingGlass(!1)}})}function cvjs_canvg_renderedMagnifyingGlass(a){cvjs_magnifyCanvasDrawn=!0}
function cvjs_firstPage(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);try{if(a="",0==multiPages[cvjs_active_floorplan_div_nr].currentPage-1)a=1==multiPages[cvjs_active_floorplan_div_nr].multiPages?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.SinglePage:languageTable.languages[cvjs_currentLanguage].InfoMessageModal.FirstPage,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a);else{var d=multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName;
if(cvjs_loadDrawing_conversionMode){if("file"==cvjs_conversion_getContentResponse()&&cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],d),"stream"==cvjs_conversion_getContentResponse()){if("ModelSpace"==multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName){for(var f=!0,h=0;h<rest_nname[cvjs_active_floorplan_div_nr].length;h++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][h]&&f&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]=
"model",rest_vvalue[cvjs_active_floorplan_div_nr][h]="");f&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="model",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="")}else{f=!0;for(h=0;h<rest_nname[cvjs_active_floorplan_div_nr].length;h++)"basic"==rest_nname[cvjs_active_floorplan_div_nr][h]&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][h]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName)),
"layout"==rest_nname[cvjs_active_floorplan_div_nr][h]&&f&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][h]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName)),"model"==rest_nname[cvjs_active_floorplan_div_nr][h]&&f&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][h]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName)),"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][h]&&
f&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][h]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName)),"last"==rest_nname[cvjs_active_floorplan_div_nr][h]&&f&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][h]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName)),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][h]&&f&&(f=!1,rest_nname[cvjs_active_floorplan_div_nr][h]=
"layout",rest_vvalue[cvjs_active_floorplan_div_nr][h]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName));f&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]=multiPages[cvjs_active_floorplan_div_nr].pages[0].pageName)}0==rest_contentFormat.toLowerCase().indexOf("pdf")&&handle_pdf_page_change_internal(0);cvjs_LoadDrawing_Conversion(floorplan_div_Array[cvjs_active_floorplan_div_nr],
cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],d,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr])}}else if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr])cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage=1,cvjs_rPaper[cvjs_active_floorplan_div_nr]=null,cvjs_checkSVGOnServerBeforeLoad(d);else if(-1<currentLoadedDrawingFullName.toLowerCase().indexOf(".svg")){var n=currentLoadedDrawingFullName.substring(currentLoadedDrawingFullName.toLowerCase().lastIndexOf(".svg")+
1);f="";f=-1<currentLoadedDrawingFullName.indexOf("fileName=")?currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("fileName=")+9):currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("/")+1);cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],f+d+"."+n)}else cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],d)}}catch(p){}}
function cvjs_lastPage(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);try{var d=multiPages[cvjs_active_floorplan_div_nr].multiPages-1;a="";if(d==multiPages[cvjs_active_floorplan_div_nr].currentPage-1)a=1==multiPages[cvjs_active_floorplan_div_nr].multiPages?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.SinglePage:languageTable.languages[cvjs_currentLanguage].InfoMessageModal.LastPage,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a);else{var f=
multiPages[cvjs_active_floorplan_div_nr].pages[d].fileName;if(cvjs_loadDrawing_conversionMode){if("file"==cvjs_conversion_getContentResponse()&&cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],f),"stream"==cvjs_conversion_getContentResponse()){var h=!0;if("ModelSpace"==multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName){h=!0;for(var n=0;n<rest_nname[cvjs_active_floorplan_div_nr].length;n++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&
h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="model",rest_vvalue[cvjs_active_floorplan_div_nr][n]="");h&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="model",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="")}else{h=!0;for(n=0;n<rest_nname[cvjs_active_floorplan_div_nr].length;n++)"basic"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=
escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"layout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"model"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),
"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"last"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&
h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName));h&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]=multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)}0==rest_contentFormat.toLowerCase().indexOf("pdf")&&handle_pdf_page_change_internal(d);
cvjs_LoadDrawing_Conversion(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr])}}else cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]?(cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage=cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].multiPages,cvjs_rPaper[cvjs_active_floorplan_div_nr]=
null,cvjs_checkSVGOnServerBeforeLoad(f)):-1<currentLoadedDrawingFullName.toLowerCase().indexOf(".svg")?(h=currentLoadedDrawingFullName.substring(currentLoadedDrawingFullName.toLowerCase().lastIndexOf(".svg")+1),d="",d=-1<currentLoadedDrawingFullName.indexOf("fileName=")?currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("fileName=")+9):currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("/")+1),cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],
d+f+"."+h)):cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],f)}}catch(p){}}
function cvjs_nextPage(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);try{var d=multiPages[cvjs_active_floorplan_div_nr].multiPages,f=multiPages[cvjs_active_floorplan_div_nr].currentPage;a=f+1;--a;var h="";if(a>d-1)h=1==multiPages[cvjs_active_floorplan_div_nr].multiPages?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.SinglePage:languageTable.languages[cvjs_currentLanguage].InfoMessageModal.LastPage,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
h);else{var n=multiPages[cvjs_active_floorplan_div_nr].pages[a].fileName;cvjs_debug&&console.log(d+"  "+f+" newpage="+a+"  newfile="+n+" cvjs_loadDrawing_conversionMode "+cvjs_loadDrawing_conversionMode+" cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr ]="+cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]+" currentLoadedDrawingFullName="+currentLoadedDrawingFullName);if(cvjs_loadDrawing_conversionMode){if("file"==cvjs_conversion_getContentResponse()&&cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],n),"stream"==cvjs_conversion_getContentResponse()){if("ModelSpace"==multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName){for(var p=!0,q=0;q<rest_nname[cvjs_active_floorplan_div_nr].length;q++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][q]&&p&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]="model",rest_vvalue[cvjs_active_floorplan_div_nr][q]="");p&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]=
"model",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="")}else{p=!0;for(q=0;q<rest_nname[cvjs_active_floorplan_div_nr].length;q++)"basic"==rest_nname[cvjs_active_floorplan_div_nr][q]&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][q]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"layout"==rest_nname[cvjs_active_floorplan_div_nr][q]&&p&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]=
"layout",rest_vvalue[cvjs_active_floorplan_div_nr][q]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"model"==rest_nname[cvjs_active_floorplan_div_nr][q]&&p&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][q]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][q]&&p&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][q]=
escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"last"==rest_nname[cvjs_active_floorplan_div_nr][q]&&p&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][q]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][q]&&p&&(p=!1,rest_nname[cvjs_active_floorplan_div_nr][q]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][q]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName));
p&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]=multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)}0==rest_contentFormat.toLowerCase().indexOf("pdf")&&handle_pdf_page_change_internal(a);cvjs_LoadDrawing_Conversion(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],n,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],
cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr])}}else if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr])cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage+=1,cvjs_rPaper[cvjs_active_floorplan_div_nr]=null,cvjs_checkSVGOnServerBeforeLoad(n);else if(-1<currentLoadedDrawingFullName.toLowerCase().indexOf(".svg")){var t=currentLoadedDrawingFullName.substring(currentLoadedDrawingFullName.toLowerCase().lastIndexOf(".svg")+1);d="";d=-1<currentLoadedDrawingFullName.indexOf("fileName=")?
currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("fileName=")+9):currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("/")+1);cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],d+n+"."+t)}else cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],n)}}catch(u){}}
function handle_pdf_page_change_internal(a){for(var d=rest_nname[cvjs_active_floorplan_div_nr].length,f=-1,h=-1,n=0;n<d;n++)"pg"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(rest_vvalue[cvjs_active_floorplan_div_nr][n]=(a+1).toString(),h=n);-1<h&&(rest_vvalue[cvjs_active_floorplan_div_nr].splice(h,1),rest_nname[cvjs_active_floorplan_div_nr].splice(h,1));for(n=0;n<d;n++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(f=n,rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName));
-1==f&&(d=rest_nname[cvjs_active_floorplan_div_nr].length,rest_nname[cvjs_active_floorplan_div_nr][d]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][d]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName))}
function cvjs_changePageByNumber(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);try{var f=multiPages[cvjs_active_floorplan_div_nr].multiPages,h=multiPages[cvjs_active_floorplan_div_nr].currentPage;a=d-1;cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]&&(f=cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].multiPages,a=d-1);if(!(0<=a&&a<f))return n=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.OutOfRange,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
n),!1;var n="";if(a>f-1){n=1==multiPages[cvjs_active_floorplan_div_nr].multiPages?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.SinglePage:languageTable.languages[cvjs_currentLanguage].InfoMessageModal.LastPage;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],n);return}var p=multiPages[cvjs_active_floorplan_div_nr].pages[a].fileName;cvjs_debug&&console.log(f+"  "+h+" newpage="+a+"  newfile="+p+" cvjs_loadDrawing_conversionMode "+cvjs_loadDrawing_conversionMode+
" cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr ]="+cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]+" currentLoadedDrawingFullName="+currentLoadedDrawingFullName);if(cvjs_loadDrawing_conversionMode){if("file"==cvjs_conversion_getContentResponse()&&cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],p),"stream"==cvjs_conversion_getContentResponse()){if("ModelSpace"==multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName){for(var q=
!0,t=0;t<rest_nname[cvjs_active_floorplan_div_nr].length;t++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][t]&&q&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]="model",rest_vvalue[cvjs_active_floorplan_div_nr][t]="");q&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="model",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="")}else{q=!0;for(t=0;t<rest_nname[cvjs_active_floorplan_div_nr].length;t++)"basic"==
rest_nname[cvjs_active_floorplan_div_nr][t]&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][t]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"layout"==rest_nname[cvjs_active_floorplan_div_nr][t]&&q&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][t]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"model"==rest_nname[cvjs_active_floorplan_div_nr][t]&&
q&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][t]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][t]&&q&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][t]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"last"==rest_nname[cvjs_active_floorplan_div_nr][t]&&q&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]=
"layout",rest_vvalue[cvjs_active_floorplan_div_nr][t]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][t]&&q&&(q=!1,rest_nname[cvjs_active_floorplan_div_nr][t]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][t]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName));q&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]=
multiPages[cvjs_active_floorplan_div_nr].pages[a].pageName)}0==rest_contentFormat.toLowerCase().indexOf("pdf")&&handle_pdf_page_change_internal(a);cvjs_LoadDrawing_Conversion(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],p,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr])}}else if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr])cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage=
a+1,cvjs_rPaper[cvjs_active_floorplan_div_nr]=null,cvjs_checkSVGOnServerBeforeLoad(p);else if(-1<currentLoadedDrawingFullName.toLowerCase().indexOf(".svg")){var u=currentLoadedDrawingFullName.substring(currentLoadedDrawingFullName.toLowerCase().lastIndexOf(".svg")+1);d="";d=-1<currentLoadedDrawingFullName.indexOf("fileName=")?currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("fileName=")+9):currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("/")+
1);cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],d+p+"."+u)}else cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],p)}catch(v){return!1}return!0}function escapeUnicode(a){return a.replace(/[^\0-~]/g,function(a){return"\\u"+("0000"+a.charCodeAt().toString(16)).slice(-4)})}
function cvjs_previousPage(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);try{var d=multiPages[cvjs_active_floorplan_div_nr].currentPage-1;--d;a="";if(0>d)a=1==multiPages[cvjs_active_floorplan_div_nr].multiPages?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.SinglePage:languageTable.languages[cvjs_currentLanguage].InfoMessageModal.FirstPage,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a);else{var f=multiPages[cvjs_active_floorplan_div_nr].pages[d].fileName;
if(cvjs_loadDrawing_conversionMode){if("file"==cvjs_conversion_getContentResponse()&&cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],f),"stream"==cvjs_conversion_getContentResponse()){if("ModelSpace"==multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName){for(var h=!0,n=0;n<rest_nname[cvjs_active_floorplan_div_nr].length;n++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]=
"model",rest_vvalue[cvjs_active_floorplan_div_nr][n]="");h&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="model",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="")}else{h=!0;for(n=0;n<rest_nname[cvjs_active_floorplan_div_nr].length;n++)"basic"==rest_nname[cvjs_active_floorplan_div_nr][n]&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),
"layout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"model"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][n]&&
h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"last"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][n]&&h&&(h=!1,rest_nname[cvjs_active_floorplan_div_nr][n]=
"layout",rest_vvalue[cvjs_active_floorplan_div_nr][n]=escapeUnicode(multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName));h&&(rest_nname[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]="layout",rest_vvalue[cvjs_active_floorplan_div_nr][rest_nname[cvjs_active_floorplan_div_nr].length]=multiPages[cvjs_active_floorplan_div_nr].pages[d].pageName)}0==rest_contentFormat.toLowerCase().indexOf("pdf")&&handle_pdf_page_change_internal(d);cvjs_LoadDrawing_Conversion(floorplan_div_Array[cvjs_active_floorplan_div_nr],
cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr])}}else if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr])--cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage,cvjs_rPaper[cvjs_active_floorplan_div_nr]=null,cvjs_checkSVGOnServerBeforeLoad(f);else if(-1<currentLoadedDrawingFullName.toLowerCase().indexOf(".svg")){var p=currentLoadedDrawingFullName.substring(currentLoadedDrawingFullName.toLowerCase().lastIndexOf(".svg")+
1);d="";d=-1<currentLoadedDrawingFullName.indexOf("fileName=")?currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("fileName=")+9):currentLoadedDrawingFullName.substring(0,currentLoadedDrawingFullName.lastIndexOf("/")+1);cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],d+f+"."+p)}else cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],f)}}catch(q){}}
function cvjs_setSupressHyperlinkColors(a){cvjs_supressHyperlinkColors=a}function cvjs_setUrl_singleDoubleClick(a){cvjs_Url_click_control=1;1==a&&(cvjs_Url_click_control=1);2==a&&(cvjs_Url_click_control=2)}cvjs_Url_encapsulate_callback=!1;function cvjs_encapsulateUrl_callback(a){cvjs_Url_encapsulate_callback=a}
function cvjs_AllLayersOff(){for(var a in vqRooms[cvjs_active_floorplan_div_nr])"Undefined"!=vqRooms[cvjs_active_floorplan_div_nr][a].data("layer")&&vqRooms[cvjs_active_floorplan_div_nr][a].attr(hide)}
function cvjs_LayerOn(a){var d=!1;try{if(!d)for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)if(layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName==a||layerTable[cvjs_active_floorplan_div_nr].layers[id].layer==a){jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[id].layer).attr(show);layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON";d=!0;return}}catch(h){console.log(h+" layer list layer on")}if(!d){try{for(var f in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][f].data("layer")==
a&&(vqRooms[cvjs_active_floorplan_div_nr][f].attr(show),d=!0);for(f in vqText)vqText[f].data("layer")==a&&(vqText[f].attr(show),d=!0);d||a.attr(show)}catch(h){}d||jQuery("#"+a).attr(show)}}function cvjs_LayerOn_OthersOff(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("layer")==a?vqRooms[cvjs_active_floorplan_div_nr][d].attr(show):vqRooms[cvjs_active_floorplan_div_nr][d].attr(hide)}
function cvjs_LayerOn_AllOff(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("layer")==a?vqRooms[cvjs_active_floorplan_div_nr][d].attr(show):vqRooms[cvjs_active_floorplan_div_nr][d].attr(hide)}
function cvjs_LayerOff(a){var d=!1;try{if(!d)for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)if(layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName==a||layerTable[cvjs_active_floorplan_div_nr].layers[id].layer==a){jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[id].layer).attr(hide);layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF";d=!0;return}}catch(h){console.log(h+" layer list layer on")}if(!d){try{for(var f in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][f].data("layer")==
a&&(vqRooms[cvjs_active_floorplan_div_nr][f].attr(hide),d=!0);for(f in vqText)vqText[f].data("layer")==a&&(vqText[f].attr(hide),d=!0);d||(a.attr(hide),d=!0)}catch(h){}if(!d)try{jQuery("#"+a).attr(hide)}catch(h){}}}function cvjs_setPanState(a){panWithThumb=a}
function cvjs_windowResize_position(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);cvjs_windowResize_position_WidthHeight(a,0,0,d);cvjs_topDownloadButtonPane?jQuery("#topIconMenu_"+d+"_svg").css({left:jQuery("#"+d).position().left+1,top:jQuery("#"+d).position().top+1+cvjs_topDownloadButtonPane_adjustment}):jQuery("#topIconMenu_"+d+"_svg").css({left:jQuery("#"+d).position().left+1,top:jQuery("#"+d).position().top+1})}
function cvjs_resizeWindow_position(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_windowResize_position_WidthHeight(!0,0,0,a);cvjs_topDownloadButtonPane?(jQuery("#topIconMenu_"+a+"_svg").css({left:jQuery("#"+a).position().left+1,top:jQuery("#"+a).position().top+1+cvjs_topDownloadButtonPane_adjustment}),jQuery("#topIconMenu_placeholder_1_"+a+"_svg").css({left:jQuery("#"+a).position().left+1+cvjs_iconmenu_pos_x,top:jQuery("#"+a).position().top+1+cvjs_topDownloadButtonPane_adjustment+cvjs_iconmenu_pos_y})):
(jQuery("#topIconMenu_"+a+"_svg").css({left:jQuery("#"+a).position().left+1,top:jQuery("#"+a).position().top+1}),jQuery("#topIconMenu_placeholder_1_"+a+"_svg").css({left:jQuery("#"+a).position().left+1+cvjs_iconmenu_pos_x,top:jQuery("#"+a).position().top+1+cvjs_iconmenu_pos_y}));var d=jQuery("#"+a+"_svg").position();jQuery("#gMenu_"+a+"_svg").offset({top:d.top+cvjs_gMenu_pos_y,left:d.left+cvjs_gMenu_pos_x});var f=jQuery("#"+a).position();d=f.top+jQuery("#"+a+"_svg").height()-75;f=f.left+jQuery("#"+
a+"_svg").width()-325;jQuery("#floatCompareDrawingMenu_"+a+"_svg").offset({top:d,left:f})}
function cvjs_resizeWindow_fixedSize(a,d,f){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(f);cvjs_windowResize_position_WidthHeight(!0,a,d,f);jQuery("#topIconMenu_"+f+"_svg").css({left:jQuery("#"+f).position().left+1,top:jQuery("#"+f).position().top+1});cvjs_debug&&console.log("here insertion "+cvjs_iconmenu_pos_x);jQuery("#topIconMenu_placeholder_1_"+f+"_svg").css({left:jQuery("#"+f).position().left+1+cvjs_iconmenu_pos_x,top:jQuery("#"+f).position().top+1+cvjs_iconmenu_pos_y});a=jQuery("#"+f+"_svg").position();
jQuery("#gMenu_"+f+"_svg").offset({top:a.top+cvjs_gMenu_pos_y,left:a.left+cvjs_gMenu_pos_x});d=jQuery("#"+f).position();a=d.top+jQuery("#"+f+"_svg").height()-75;d=d.left+jQuery("#"+f+"_svg").width()-325;jQuery("#floatCompareDrawingMenu_"+f+"_svg").offset({top:a,left:d})}
function cvjs_resizeWindow_fixedSize_location(a,d,f,h,n){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(f);jQuery("#"+f).css("position","relative");jQuery("#"+f).position(h,n);jQuery("#"+f+"_svg").position(h,n);cvjs_windowResize_position_WidthHeight(!0,a,d,f);jQuery("#topIconMenu_"+f+"_svg").css({left:jQuery("#"+f).position().left+1,top:jQuery("#"+f).position().top+1});cvjs_debug&&console.log("here insertion "+cvjs_iconmenu_pos_x);jQuery("#topIconMenu_placeholder_1_"+f+"_svg").css({left:jQuery("#"+
f).position().left+1+cvjs_iconmenu_pos_x,top:jQuery("#"+f).position().top+1+cvjs_iconmenu_pos_y});a=jQuery("#"+f+"_svg").position();jQuery("#gMenu_"+f+"_svg").offset({top:a.top+cvjs_gMenu_pos_y,left:a.left+cvjs_gMenu_pos_x});d=jQuery("#"+f).position();a=d.top+jQuery("#"+f+"_svg").height()-75;d=d.left+jQuery("#"+f+"_svg").width()-325;jQuery("#floatCompareDrawingMenu_"+f+"_svg").offset({top:a,left:d})}
function cvjs_windowResize_position_WidthHeight(a,d,f,h){cvjs_debug&&console.log(h+" top resize ");var n=h+="_svg";h="#"+h;try{jQuery(h).position().top}catch(q){console.log("ERROR!!!");return}navigator.userAgent.indexOf("Chrome");navigator.userAgent.indexOf("Firefox");-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");navigator.userAgent.indexOf("Safari");navigator.userAgent.indexOf("Presto");var p=jQuery(h).position();jQuery(h).css("position","absolute");jQuery(h).css("display",
"block");jQuery(h).css("overflow","hidden");0==d?(jQuery(h).width(jQuery(window).width()-p.left),jQuery(h).height(jQuery(window).height()-p.top)):(jQuery(h).width(d),jQuery(h).height(f));fpWidth=jQuery(h).width();fpHeight=jQuery(h).height();rpWidth[cvjs_active_floorplan_div_nr]=fpWidth;rpHeight[cvjs_active_floorplan_div_nr]=fpHeight;floorplan_width=.9*jQuery(h).width();floorplan_height=.9*jQuery(h).height();a&&ResizeVq(fpWidth,fpHeight);d=jQuery(h).position();f=d.top+5;a=d.left+jQuery(h).width()-
475;40>a&&(a=40);jQuery("#floatNavigationMenu_"+n).offset({top:f,left:a});jQuery("#gMenu_"+n).offset({top:d.top+30,left:d.left+20});jQuery("#gMenu_"+n).offset({top:d.top+cvjs_gMenu_pos_x,left:d.left+cvjs_gMenu_pos_y});d=jQuery("#topIconMenu_placeholder_1_"+n).width();jQuery("#topIconMenu_"+n).position();392<jQuery(h).width()-d?(jQuery("#topIconMenu_"+n).css({height:"32px"}),jQuery("#topIconMenu_placeholder_2_"+n).offset({top:jQuery(h).position().top+1,left:a+78})):(jQuery("#topIconMenu_placeholder_2_"+
n).offset({top:jQuery(h).position().top+33,left:a+78}),jQuery("#topIconMenu_"+n).css({height:"64px"}))}function cvjs_windowResize_fixedSize(a,d,f,h){cvjs_windowResize_position_WidthHeight(a,d,f,h);jQuery("#topIconMenu_"+h+"_svg").css({left:jQuery("#"+h).position().left+1,top:jQuery("#"+h).position().top+1})}window.console&&console.log||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}});
var touchCount=0,x1=0,y1=0,x2=0,y2=0,pdx=0,pdy=0,vbx=0,vby=0,basex,basey,lastDx=0,lastDy=0,initFlagPolygons=!0,DefaultZoomFactor=1.075,DefaultZoomFactor_mouseWheel=1.075;function CheckPt(a,d){return a<viewBox[cvjs_active_floorplan_div_nr].X||a>viewBox[cvjs_active_floorplan_div_nr].X+viewBox._viewBox[2]||d<viewBox[cvjs_active_floorplan_div_nr].Y||d>viewBox[cvjs_active_floorplan_div_nr].Y+viewBox._viewBox[3]?!1:!0}
function CheckRoomOnScreen(a){a=a.getBBox();var d=CheckPt(a.x,a.y);d=d&&CheckPt(a.x2,a.y2);d||(a.width>viewBoxWidth[cvjs_active_floorplan_div_nr]||a.height>viewBoxHeight[cvjs_active_floorplan_div_nr]?zoomHere():(viewBox[cvjs_active_floorplan_div_nr].X=a.x+(a.width-viewBoxWidth[cvjs_active_floorplan_div_nr])/2,viewBox[cvjs_active_floorplan_div_nr].Y=a.y+(a.height-viewBoxHeight[cvjs_active_floorplan_div_nr])/2,setView(cvjs_rPaper[cvjs_active_floorplan_div_nr],viewBox[cvjs_active_floorplan_div_nr].X,
viewBox[cvjs_active_floorplan_div_nr].Y,viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr])))}var cvjs_menu_firing=!1,cvjs_initDataMapsDisplay=!0,cvjs_modalsInitialized=!1,cvjs_modalsInitialized_FileLoadModal=!1,cvjs_containmentModalLeft=150,cvjs_containmentModalTop=150,cvjs_containmentModalRight=150,cvjs_containmentModalBottom=150,cvjs_topDownloadButtonPane=!1,cvjs_topDownloadButtonPane_adjustment=50;
function cvjs_InitializeModals(a){for(i=0;i<floorplans_divs_Initialized.length;i++)if(floorplans_divs_Initialized[i]==a){console.log(cvjs_versionNumber+" floorplan "+a+" is already initialized, returning");return}for(var d=!0,f=0;d;)""==floorplans_divs_Initialized[f]&&(floorplans_divs_Initialized[f]=a,d=!1),f++;cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a+"_svg");jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("");floorPlan_Modal=a;var h=floorPlan_div=a+"_svg";jQuery("#"+floorPlan_Modal).append('<div class="topDownloadButtonPane" id="topDownloadButtonPane_'+
h+'" ><table id="CVTable"  width="1000" height="'+cvjs_topDownloadButtonPane_adjustment+'" ><tr id="downloadrow" ><td style="vertical-align: middle" width="200" height="'+cvjs_topDownloadButtonPane_adjustment+'"><div id="downloadbutton">Hello this is the download button! <div></td></tr></table></div>');jQuery("#topDownloadButtonPane_"+h).hide();jQuery("#"+floorPlan_Modal).append('<svg id="'+floorPlan_div+'"></svg>');jQuery("#"+floorPlan_Modal).append('<div id="gMenu_'+h+'"></div><div id="tip_'+h+
'" ></div><div class="cvjs_wait_looper" id="cvjs_wait_looper_'+h+'"></div><div id="cvjs_modals_'+h+'" ></div>');jQuery("#"+floorPlan_Modal).append('<div class="topIconMenu_placeholder_1" id="topIconMenu_placeholder_1_'+h+'"  ></div>');jQuery("#"+floorPlan_Modal).append('<div class="topIconMenu_placeholder_2" id="topIconMenu_placeholder_2_'+h+'"  ></div>');jQuery("#topIconMenu_"+h).css({left:jQuery("#"+floorPlan_Modal).position().left+1,top:jQuery("#"+floorPlan_Modal).position().top+1});jQuery("#topIconMenu_"+
h).css({width:"100%"});jQuery("#topIconMenu_"+h).css({height:"32px"});jQuery("#topIconMenu_"+h).css({position:"absolute"});jQuery("#topIconMenu_"+h).css({"z-index":2});jQuery("#topIconMenu_"+h).css({display:"block"});jQuery("#topIconMenu_placeholder_2_"+h).css({"z-index":2});jQuery("#topIconMenu_placeholder_2_"+h).css({display:"block"});jQuery("#topIconMenu_placeholder_2_"+h).css({position:"absolute"});jQuery("#topIconMenu_placeholder_2_"+h).css({overflow:"visible"});jQuery("#topIconMenu_placeholder_1_"+
h).css({"z-index":2});jQuery("#topIconMenu_placeholder_1_"+h).css({display:"block"});jQuery("#topIconMenu_placeholder_1_"+h).css({position:"absolute"});jQuery("#topIconMenu_placeholder_1_"+h).css({overflow:"visible"});jQuery("#topIconMenu_placeholder_2_"+h).draggable();jQuery("#topIconMenu_"+h).draggable();cvjs_setIconInterfaceControls_MimimumDisk_internal(!0,floorPlan_Modal);a=cvjs_serverHandlersPath+cvjs_serverLoadFileController;d={};d.file=cvjs_ServerLocation+cvjs_loadCADViewerLanguageLocation;
cvjs_debug&&console.log("language file Load! "+d.file+"  "+a);f="post";cvjs_isAngular&&(f="get",d=null,a=cvjs_loadCADViewerLanguageLocation);jQuery.ajax({url:a,type:f,async:!1,data:d,success:function(a){cvjs_debug&&console.log("menu "+a);cvjs_isAngular&&(a=(new XMLSerializer).serializeToString(a));var d=new X2JS;JSON.stringify(d.xml_str2json(a));languageTable=d.xml_str2json(a);languageTable=languageTable.cvjs;cvjs_debug&&console.log(languageTable);cvjs_debug&&languageTable.numberOfLanguages;try{cvjs_currentLanguage=
1;for(var f=0;f<languageTable.numberOfLanguages;f++)0==cvjs_loadCADViewerLanguageName.toLowerCase().indexOf(languageTable.languages[f].thisLanguage.toLowerCase())&&cvjs_loadCADViewerLanguageName.length==languageTable.languages[f].thisLanguage.length&&(cvjs_currentLanguage=f);cvjs_debug&&console.log(languageTable.languages[cvjs_currentLanguage].thisLanguage)}catch(v){console.log("Error:"+v)}try{for(f=0;f<languageTable.numberOfLanguages;f++)0==cvjs_loadCADViewerLanguageName.indexOf(languageTable.languages[f].languageCode)&&
(cvjs_currentLanguage=f)}catch(v){console.log(v)}cvjs_debug&&console.log(languageTable.languages[cvjs_currentLanguage].thisLanguage);cvjs_LoadTopNavigationMenu(floorPlan_Modal);cvjs_loadTopIconMenuXML[cvjs_interfaceCounterIndex(h)]?(f=cvjs_serverHandlersPath+cvjs_serverLoadFileController,a={},a.file=cvjs_ServerLocation+cvjs_topIconMenuXML_location+cvjs_topIconMenuXML[cvjs_interfaceCounterIndex(h)],cvjs_debug&&console.log("opening menu config "+a.file+"  cvjs_XMLloadLocation "+f),d="post",cvjs_isAngular&&
(d="get",a=null,f=cvjs_topIconMenuXML_location+cvjs_topIconMenuXML[cvjs_interfaceCounterIndex(h)]),jQuery.ajax({url:f,type:d,data:a,success:function(a){cvjs_debug&&console.log("menu "+a);cvjs_isAngular&&(a=(new XMLSerializer).serializeToString(a));var d=new X2JS;JSON.stringify(d.xml_str2json(a));a=d.xml_str2json(a);cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(h)]=a.cvjs.iconmenu.startpage-1;cvjs_topIconMenu[cvjs_interfaceCounterIndex(h)]=a;cvjs_LoadTopIconMenuXML(h,a)},error:function(a){console.log("Error "+
a)}})):(console.log("cvjs_loadTopIconMenuXML="+cvjs_loadTopIconMenuXML),cvjs_LoadTopIconMenuViewing(h));cvjs_debug&&console.log("before cvjs_initCADViewerPro_FileLoadModal(floorplan_div)");cvjs_Community_Version||cvjs_initCADViewerPro_FileLoadModal(h);jQuery("#tip_"+h).css({position:"absolute"});jQuery("#tip_"+h).css({border:"1px solid gray"});jQuery("#tip_"+h).css({"z-index":2E3});jQuery("#tip_"+h).css({color:"#333"});jQuery("#tip_"+h).css({"background-color":"#efefef"});jQuery("#tip_"+h).css({padding:"3px"});
jQuery("#tip_"+h).css({"max-width":"300px"});jQuery("#tip_"+h).css({"white-space":"nowrap"});jQuery("#tip_"+h).css({"font-family":"arial, verdana, sans-serif"});jQuery("#tip_"+h).css({"font-size":"0.75em"});tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+h);jQuery("#tip_"+h).hide();jQuery("#gMenu_"+h).css({width:"80px"});jQuery("#gMenu_"+h).css({height:"300px"});jQuery("#gMenu_"+h).css({position:"absolute"});jQuery("#gMenu_"+h).css({"z-index":1E3});jQuery("#gMenu_"+h).css({display:"block"});cvjs_Community_Version||
cvjs_initCADViewerPro_Section01(h);cvjs_Community_Version||cvjs_initCADViewerPro_Section02(h);jQuery("#cvjs_modals_"+h).append('<table id="floorPlanCanvasObject_table_'+h+'"><tr><td><canvas id="floorPlanCanvasObject_'+h+'" width="10" height="10"></canvas></td></tr></table>');jQuery("#floorPlanCanvasObject_"+h).hide();jQuery("#floorPlanCanvasObject_table_"+h).hide();printDebugFlag&&jQuery("#floorPlanCanvasObject_table_"+h).show();jQuery("#cvjs_modals_"+h).append('<map name="PanZoomMap" ><area shape="rect" alt="" title="Zoom Extents" coords="16,6,69,58" href="javascript:cvjs_resetZoomPan();"/><area shape="rect" alt="" title="Zoom In" coords="16,66,69,115" href="javascript:cvjs_zoomIn("'+
h+'");"/><area shape="rect" alt="" title="Zoom Out" coords="16,116,69,161" href="javascript:cvjs_zoomOut();"/><area shape="rect" alt="" title="Zoom Window" coords="16,162,69,210" href="javascript:cvjs_zoomWindow();"/><area shape="rect" alt="" title="Load Last Page" coords="16,220,69,255" href="javascript:cvjs_lastPage("'+h+'");"/><area shape="rect" alt="" title="Load Next Page" coords="16,256,69,289" href="javascript:cvjs_nextPage("'+h+'");"/><area shape="rect" alt="" title="Load Previous Page" coords="16,290,69,324" href="javascript:cvjs_previousPage("'+
h+'");"/><area shape="rect" alt="" title="Load First Page" coords="16,325,69,360" href="javascript:cvjs_firstPage("'+h+'");"/></map>');jQuery("#cvjs_modals_"+h).append('<map name="PanZoomMapClassic_'+h+'" ><area shape="rect" alt="" title="Zoom In" coords="16,164,69,211" href="javascript:cvjs_zoomIn("'+h+'");"/><area shape="rect" alt="" title="Zoom Out" coords="16,211,69,258" href="javascript:cvjs_zoomOut();"/><area shape="rect" alt="" title="Zoom Extents" coords="16,94,69,141" href="javascript:cvjs_resetZoomPan();"/><area shape="polygon" alt="" title="Pan Left"  coords="13,29,32,23,29,44,9,56,5,39,6,21,9,13,13,11" href="javascript:cvjs_panLeft();"/><area shape="polygon" alt="" title="Pan Right" coords="50,22,70,8,76,20,78,39,74,53,66,60,50,39,50,21" href="javascript:cvjs_panRight();"/><area shape="polygon" alt="" title="Pan Down"  coords="13,57,31,43,50,42,65,61,55,69,42,69,25,68,19,63" href="javascript:cvjs_panDown();"/><area shape="polygon" alt="" title="Pan Up"    coords="13,17,32,22,52,22,69,29,60,0,51,0,36,0,22,0,13,8" href="javascript:cvjs_panUp();"/><area shape="rect" alt="" title="Zoom Extents" coords="30,22,50,43" href="javascript:cvjs_resetZoomPan();"/></map>');
jQuery("#cvjs_modals_"+h).append('<map name="ZoomExtentsDeviceMapClassic_'+h+'" ><area shape="rect" alt="" title="Zoom In" coords="16,75,69,124" href="javascript:cvjs_zoomIn("'+h+'");"/><area shape="rect" alt="" title="Zoom Out" coords="16,127,69,173" href="javascript:cvjs_zoomOut();"/><area shape="rect" alt="" title="Zoom Extents" coords="16,6,69,54" href="javascript:cvjs_resetZoomPan();"/></map>');jQuery("#cvjs_modals_"+h).append('<div id="floatNavigationMenu_'+h+'" class="changePagebox1"><a class="cvjs_zoomextents" id="cvjs_zoomextents_'+
h+'" href="javascript:cvjs_zoomExtents(\''+h+'\');"></a><a class="cvjs_zoomwindow" id="cvjs_zoomwindow_'+h+'" href="javascript:cvjs_zoomWindow(\''+h+'\');"></a><a class="cvjs_rotateforward" id="cvjs_rotateforward_'+h+'" href="javascript:cvjs_rotateForward(\''+h+'\');"></a><a class="cvjs_rotateback" id="cvjs_rotateback_'+h+'" href="javascript:cvjs_rotateBackward(\''+h+'\');"></a><a class="cvjs_fastback" id="cvjs_fastback_'+h+'" href="javascript:cvjs_firstPage(\''+h+'\');"></a><a class="cvjs_back" id="cvjs_back_'+
h+'" href="javascript:cvjs_previousPage(\''+h+'\');"></a><a class="cvjs_enterpagenumber" id="cvjs_enterpagenumber_'+h+'" href="javascript:cvjs_enterPageChangeNumber(\''+h+'\');"></a><a class="cvjs_selectpagefromlist" id="cvjs_selectpagefromlist_'+h+'" href="javascript:cvjs_selectPageFromList(\''+h+'\');"></a><div id="floatpagemenuText_'+h+'">nr    page name</div><a class="cvjs_forward" id="cvjs_forward_'+h+'" href="javascript:cvjs_nextPage(\''+h+'\');"></a><a class="cvjs_fastforward" id="cvjs_fastforward_'+
h+'" href="javascript:cvjs_lastPage(\''+h+"');\"></a></div>");jQuery("#cvjs_modals_"+h).append('<div id="cloneObject_01"></div>');jQuery("#cvjs_modals_"+h).append('<canvas id="tempBitmapObjectHolder" width="10" height="10"></canvas>');jQuery("#cvjs_modals_"+h).append('<form id="datamaps_form" style="display:none"><table width="100%" border="0" cellspacing="0" border-spacing="0" ><tr></tr><tr><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div id="unlink_Modal_header" class="datamaps_text_modal">Data Maps</div></td><td><div class="onoffswitch"><input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="cvjs_displayData_switch" ><label class="onoffswitch-label" for="cvjs_displayData_switch"><span class="onoffswitch-inner"></span><span class="onoffswitch-switch"></span></label></div></td>  </tr></table><div id ="datamaps_modal_line" class="horizontal_modal_line"></div><table id="datamaps_modal_table" class="text_modal_table_class" width="100%" border="0" cellspacing="0" border-spacing="0" > \t<tr><td><div id="cv_link11_fixtures" class="dropdown"><span class="dropdown-toggle" role="button" data-toggle="dropdown" href="#" data-target="#" id="drop_select_datamaps">None Selected<b class="caret"></b></span><ul id="select_datamaps" class="dropdown-menu" role="menu" aria-labelledby="drop_select_datamaps"></ul></div></td></tr> <tr><td>    <div id="cvjs_display_selection_1" class="occupancy-colors"><span class="hint--top void color-chip" data-hint="No Data"></span><span class="hint--top low2 color-chip" data-hint="&gt; 10 min"></span><span class="hint--top low1 color-chip" data-hint="7.5 to 10 min"></span><span class="hint--top mid0 color-chip" data-hint="5 to 7.5 min"></span><span class="hint--top high1 color-chip" data-hint="2.5 to 5 min"></span><span class="hint--top high2 color-chip" data-hint="&lt; 2.5 min"></span></div>        <div id="cvjs_display_selection_2" class="power-colors"><span class="hint--top void color-chip" data-hint="No Data"></span><span class="hint--top low2 color-chip" data-hint="&lt; 0.1 W/sq ft | 1.08 W/sq m"></span><span class="hint--top low1 color-chip" data-hint="0.1 to 0.2 W/sq ft | 1.1 to 2.2 W/sq m"></span><span class="hint--top mid0 color-chip" data-hint="0.2 to 0.4 W/sq ft | 2.2 to 4.3 W/sq m"></span><span class="hint--top high1 color-chip" data-hint="0.4 to 0.5 W/sq ft | 4.3 to 5.4 W/sq m"></span><span class="hint--top high2 color-chip" data-hint="&gt; 0.5 W/sq ft | 5.4 W/sq m"></span></div><div id="cvjs_display_selection_3" class="temperature-colors"><span class="hint--top void color-chip" data-hint="No Data"></span><span class="hint--bottom low2 color-chip" data-hint="&lt; 70 &deg;F | 21 &deg;C"></span></span><span class="hint--bottom low1 color-chip" data-hint="70 to 72 &deg;F | 21 to 22 &deg;C"></span><span class="hint--bottom mid0 color-chip" data-hint="72 to 77 &deg;F | 22 to 25 &deg;C"></span><span class="hint--bottom high1 color-chip" data-hint="77 to 81 &deg;F | 25 to 27 &deg;C"></span><span class="hint--bottom high2 color-chip" data-hint="&gt; 81 &deg;F | 27 &deg;C"></span></div> <div id="cvjs_display_selection_4" class="lightlevel-colors"> <span class="hint--top void color-chip" data-hint="No Data"></span><span class="hint--bottom low2 color-chip" data-hint="&lt; 70 &deg;F | 21 &deg;C"></span><span class="hint--bottom low1 color-chip" data-hint="70 to 72 &deg;F | 21 to 22 &deg;C"></span><span class="hint--bottom mid0 color-chip" data-hint="72 to 77 &deg;F | 22 to 25 &deg;C"></span><span class="hint--bottom high1 color-chip" data-hint="77 to 81 &deg;F | 25 to 27 &deg;C"></span><span class="hint--bottom high2 color-chip" data-hint="&gt; 81 &deg;F | 27 &deg;C"></span></div></td></tr></tr>     </table><table id="datamaps_select_save_changes" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="5" height="5" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><div style="width: 60px" ><div id="button2-nounlink"><img id="unlink_modal_cancel_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Cancel_Inactive_4.png" border="0"></div></div></td><td><td div style="height: 10px" ><img src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td><div style="width: 111px" ><div id="button1-unlink"><img id="unlink_modal_proceed_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Proceed_111x28_Up.png" border="0"></div></div></td></tr><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="7" height="7" /></td></tr></table></form>');jQuery("#datamaps_form").hide();jQuery("#datamaps_modal_line").hide();jQuery("#datamaps_modal_table").hide();jQuery("#datamaps_select_save_changes").hide();
jQuery("#cvjs_display_selection_1").hide();jQuery("#cvjs_display_selection_2").hide();jQuery("#cvjs_display_selection_3").hide();jQuery("#cvjs_display_selection_4").hide();a='<div class="dropdown-content">';for(f=0;4>f;f++)a=a+"<li><a href=\"javascript:cvjs_change_datamaps('"+f+"')\">"+languageTable.languages[cvjs_currentLanguage].DataMaps.Map[f]+"</a></li>";a+="</div>";jQuery("#select_datamaps").html(a);jQuery("#cvjs_displayData_switch").change(function(){jQuery(this).is(":checked")?(spaceLayer=
cvjs_clearLayer(spaceLayer,floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_ParseDisplayDataMaps(cvjs_currentMapNumber),jQuery("#datamaps_modal_table").show(),jQuery("#datamaps_select_save_changes").hide(),jQuery("#datamaps_modal_line").show(),jQuery("#datamaps_form").css({height:"120px"}),jQuery("#datamaps_form").css("left",40).css("top",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height()-197),
cvjs_initDataMapsDisplay&&(cvjs_initDataMapsDisplay=!1,cvjs_change_datamaps(0))):(spaceLayer=cvjs_clearLayer(spaceLayer),jQuery("#datamaps_modal_table").hide(),jQuery("#datamaps_select_save_changes").hide(),jQuery("#datamaps_modal_line").hide(),jQuery("#datamaps_form").css({height:"43px"}),jQuery("#datamaps_form").css("left",40).css("top",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height()-120))});jQuery(function(){jQuery("#datamaps_form").draggable()});
cvjs_layerlistModal_content='<table class="layerListTable" ><tr><td><div class="pagechangeListHeaderLayers" id="layerListHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_layerListTextHeader">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_layerlist(\''+h+'\');"></div></td></tr><tr><td><canvas id="dummy" width="30" height="8"></canvas></td></tr><tr><td><canvas id="dummy" width="30" height="4"></canvas><input id="cvjs_layer_search_field" class="search cvjs_search " placeholder="'+
languageTable.languages[cvjs_currentLanguage].LayerListModal.Search+'" /><canvas id="dummy" width="30" height="4"></canvas><button id="cvjs_layer_sort_button" class="sort cvjs_sort" data-sort="layer">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.Sort+'</button></td></tr><tr><td><canvas id="dummy" width="30" height="4"></canvas></td></tr><tr><td><ul class="list cvjs_list" id="layerlist_id"></ul><canvas id="dummy" width="30" height="20"></canvas><input id="cvjs_layer_settings_button1" class="cvjs_input" type="button_layer" name="Button3" value="'+
languageTable.languages[cvjs_currentLanguage].LayerListModal.AllLayerOn+'" onClick="modal_all_layer_on();" ><canvas id="dummy" width="30" height="20"></canvas><input id="cvjs_layer_settings_button2" class="cvjs_input" type="button_layer" name="Button3" value="'+languageTable.languages[cvjs_currentLanguage].LayerListModal.AllLayerOff+'" onClick="modal_all_layer_off();" ><canvas id="dummy" width="30" height="20"></canvas><input id="cvjs_layer_settings_button3" class="cvjs_input" type="button_layer" name="Button3" value="'+
languageTable.languages[cvjs_currentLanguage].LayerListModal.SwapLayers+'" onClick="modal_swap_layers_on_off();" ></td></tr><tr><td><canvas id="" width="10" height="25"></canvas><font id="cvjs_layer_selectdrawing">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.SelectDrawings+'</font><br><canvas id="dummy" width="2" height="21"></canvas><div id="cvjs_LayerSelectorLocation"><select id="cvjs_SelectLayerDrawings" multiple="multiple"><option value="1">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.BaseAndXref+
'</option><option value="2">Xref: TEMPLATE 1</option><option value="3">Xref: TEMPLATE 2</option></select></div></td></tr><tr><td style="border-bottom: 6px solid #fff"><canvas id="dummy" width="10" height="25"></canvas><input class="cvjs_btn" type="checkbox" id="cvjs_layerlist_checkbox" value="measurearea_status"><canvas id="dummy" width="15" height="25"></canvas><div id="cvjs_layerlist_checkboxText">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.XrefLayerName+"</div></td></tr></table>";
jQuery("#cvjs_modals_"+h).append('<div id="layerList_'+h+'" class="cvjs_listwrapper"></div>');jQuery("#layerList_"+h).html(cvjs_layerlistModal_content);cvjs_pagechangeListModal_content='<table class="pagechangeListTable" ><tr><td><div class="pagechangeListHeader" id="pagechangeListHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_pagechangeListTextHeader">'+languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Header+
'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_pagechangelist(\''+h+'\');"></div></td></tr><tr><td><canvas id="dummy" width="30" height="8"></canvas></td></tr><tr><td><canvas id="dummy" width="30" height="4"></canvas><input id="cvjs_pagechange_search_field" class="search cvjs_search" placeholder="'+languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Search+'" /><canvas id="dummy" width="30" height="4"></canvas><button id="cvjs_pagechange_sort_button" class="sort cvjs_sort" data-sort="layer">'+
languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Sort+'</button></td></tr><tr><td><canvas id="dummy" width="30" height="4"></canvas></td></tr><tr><td><ul class="list cvjs_list" id="pagechangelist_id"></ul></td></tr><tr><td><canvas id="dummy" width="5" height="4"><></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div id="pagechangeList_'+h+'" class="pagechangeListModal cvjs_listwrapper"></div>');jQuery("#pagechangeList_"+h).html(cvjs_pagechangeListModal_content);cvjs_birdseyeModal_content=
'<table class="cvjs_floorPlanMagnifyingGlassTable" ><tr><td><div class="cvjs_floorPlanMagnifyingGlassTop"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_magnifyHeader">'+languageTable.languages[cvjs_currentLanguage].BirdsEyeModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitBirdsEye(\''+h+"');\">";jQuery("#cvjs_modals_"+h).append('<div class="cvjs_floorPlanMagnifyingGlassEncapsulate" id="cvjs_floorPlanMagnifyingGlassEncapsulate_'+
h+'"></div>');jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+h).html(cvjs_birdseyeModal_content);cvjs_calibrateModal_content='<table class="calibrateModalanguageTable"><tr><td><div class="calibrateModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText" id="cvjs_calibrateModalHeader">'+languageTable.languages[cvjs_currentLanguage].CalibrateModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitCalibrateModal(\''+
h+'\',1);"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_calibrate_modal_unit">'+languageTable.languages[cvjs_currentLanguage].CalibrateModal.Unit+'</font><canvas id="dummy" width="10" height="10"></canvas><select id="cvjs_unitForScale"><option value="1">m</option><option value="2">cm</option><option value="3">mm</option><option value="4">km</option><option value="5">feet</option><option value="6">inches</option><option value="7">miles</option></select></td></tr><tr><td><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_calibrate_modal_distance">'+
languageTable.languages[cvjs_currentLanguage].CalibrateModal.Distance+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="1" id="cvjs_calibrateReferenceDistance" class="cvjs_inputCalibrateModal"><canvas id="dummy" width="116" height="10"></canvas><input id="cvjs_calibrate_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].CalibrateModal.OK+'" onClick="cvjs_exitCalibrateModal(\''+h+'\',2);"></td></tr><tr><td><div id="cvjs_calibrationModalText"><canvas id="dummy" width="0" height="17"></canvas><font id="cvjs_calibrate_modal_text">'+
languageTable.languages[cvjs_currentLanguage].CalibrateModal.Text+"</font></div></td></tr></table>";jQuery("#cvjs_modals_"+h).append('<div class="calibrateModal" id="calibrateModal_'+h+'"></div>');jQuery("#calibrateModal_"+h).html(cvjs_calibrateModal_content);f="";for(k=0;7>k;k++)f=f+'<option value="'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.MenuItems.MenuItem[k]+"</option>";cvjs_measurementModal_content='<table class="measurementModalanguageTable" ><tr><td><div class="measurementModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_measurementHeader">'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitMeasurementModal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="25"></canvas><textarea class="cvjs_measurementDisplayBox" id="cvjs_measurementBox_'+h+'" cols="26" rows="1"></textarea><button id="cvjs_measurement_button_icon" class="cvjs_btn btn" onClick="cvjs_copyMeasurementField(\''+
h+'\');"><i class="fa fa-copy"></i></button><div class="cvjs_measurementLength" id="cvjs_measurementLength_'+h+'">'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance+'</div><canvas id="dummy" width="5" height="5"></canvas><input id="cvjs_measurement_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.MeasureAgain+'" onClick="cvjs_repeatMeasurementModal();"><canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td><div id="cvjs_measurementModalText"><canvas id="dummy" width="0" height="20"></canvas>'+
languageTable.languages[cvjs_currentLanguage].MeasurementModal.Text+'</div></td></tr><tr><td><select id="cvjs_measurementOption">'+f+'</select><canvas id="dummy" width="30" height="30"></canvas></td><div id="measureareaLocation">'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area+'</div></td><td><input id="cvjs_closearea_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.ClosePolygon+'" onClick="cvjs_closeAreaMeasurement();"></td></tr></table>';
jQuery("#cvjs_modals_"+h).append('<div class="measurementModal" id="measurementModal_'+h+'"></div>');jQuery("#measurementModal_"+h).html(cvjs_measurementModal_content);jQuery("#cvjs_closearea_button").hide();a=languageTable.languages[cvjs_currentLanguage].PrintModal.PaperSizeTotal;f="";for(k=0;k<a;k++)f=f+'<option value="'+languageTable.languages[cvjs_currentLanguage].PrintModal.PaperSizes.PaperSize[k]+'">'+languageTable.languages[cvjs_currentLanguage].PrintModal.MenuItems.MenuItem[k]+"</option>";
cvjs_printModal_content='<table class="printModalanguageTable"><tr><td><div class="printModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_printHeader">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitPrintModal(\''+h+'\',1);"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="25"></canvas><font id="cvjs_printmodal_paper">'+
languageTable.languages[cvjs_currentLanguage].PrintModal.Paper+'</font><canvas id="dummy" width="10" height="10"></canvas><select id="cvjs_paperSize">'+f+'</select><canvas id="dummy" width="16" height="10"></canvas><font id="cvjs_printorientation_text">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Orientation+'</font><canvas id="dummy" width="10" height="10"></canvas><select id="cvjs_paperOrientation"><option value="1">Landscape</option><option value="2">Portrait</option></select></td></tr><tr><td><canvas id="dummy" width="10" height="25"></canvas>';
cvjs_printModal_content=cvjs_PrintModal_PrintResolution?cvjs_printModal_content+('<font id="cvjs_print_modal_resolution">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Resolution+'</print><canvas id="dummy" width="10" height="10"></canvas><input value="300" id="cvjs_printResolution" class="cvjs_inputCalibrateModal"><canvas id="dummy" width="10" height="10"></canvas><i class="cvjs_textModalSmall"><font id="cvjs_print_modal_resolution_text">'+languageTable.languages[cvjs_currentLanguage].PrintModal.ResolutionText+
'</font></i><canvas id="dummy" width="32" height="10"></canvas><input id="cvjs_print_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].PrintModal.Print+'" onmousedown="cvjs_exitPrintModal(\''+h+"', 2);\">"):cvjs_printModal_content+('<canvas id="dummy" width="350" height="10"></canvas><input id="cvjs_print_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].PrintModal.Print+'" onmousedown="cvjs_exitPrintModal(\''+h+"', 2);\">");
cvjs_PrintModal_PrintPDF&&cvjs_PrintModal_printGreyScaleflag&&(f='<select id="cvjs_grayScaleType"><option value="1">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Grayscale+'</option><option value="2">'+languageTable.languages[cvjs_currentLanguage].PrintModal.BlackWhite+"</option></select>",cvjs_printModal_content+='<canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td></td></tr></table><input type="checkbox" id="cvjs_grayscale_checkbox" value="grayscale_status"><canvas id="dummy" width="30" height="30"></canvas></td><div id="greyscaleLocation">'+
f+'</div><input type="checkbox" id="cvjs_printpdf_checkbox" value="grayscale_status"><div id="printToPdfLocation">'+languageTable.languages[cvjs_currentLanguage].PrintModal.PrintPDF+"</div>");!cvjs_PrintModal_PrintPDF&&cvjs_PrintModal_printGreyScaleflag&&(f='<select id="cvjs_grayScaleType"><option value="1">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Grayscale+'</option><option value="2">'+languageTable.languages[cvjs_currentLanguage].PrintModal.BlackWhite+"</option></select>",cvjs_printModal_content+=
'<canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td></td></tr></table><input type="checkbox" id="cvjs_grayscale_checkbox" value="grayscale_status"><canvas id="dummy" width="30" height="30"></canvas></td><div id="greyscaleLocation">'+f+"</div></div>");cvjs_PrintModal_PrintToScale&&(cvjs_printModal_content+='<input type="checkbox" id="cvjs_printtoscale_checkbox" value="printtoscale_status"><div id="printToScaleLocation">'+languageTable.languages[cvjs_currentLanguage].PrintModal.PrintToScale+
'</div><div id="enterPrintToScaleValueLocation">'+languageTable.languages[cvjs_currentLanguage].PrintModal.EnterScale+'</div><input value="1:1" id="cvjs_printToScaleValue" class="cvjs_inputCalibrateModal">');cvjs_customPrintCheckboxMode&&(cvjs_printModal_content+='<input type="checkbox" id="cvjs_custom_checkbox" value="grayscale_status"><div id="printCustomCheckbox">'+languageTable.languages[cvjs_currentLanguage].PrintModal.CustomCheckbox+"</div>");cvjs_initCustomPrintCheckboxMode=!1;cvjs_customPrintTextboxMode&&
(cvjs_customPrintDualTextboxMode?(cvjs_printModal_content+='<div id="cvjs_printModalTextboxLocation_text">'+languageTable.languages[cvjs_currentLanguage].PrintModal.TextBox1Header+"</div>",cvjs_printModal_content+='<div id="cvjs_printModalDualTextboxLocation_text">'+languageTable.languages[cvjs_currentLanguage].PrintModal.TextBox2Header+"</div>",cvjs_printModal_content+='<div id="cvjs_printModalTextboxLocation"><textarea class="cvjs_redlines_edit_text_1" id="printmodal_text" cols="35" rows="3"></textarea></div>',
cvjs_printModal_content+='<div id="cvjs_printModalDualTextboxLocation"><textarea class="cvjs_redlines_edit_text_1" id="printmodal_dual_text" cols="10" rows="3"></textarea></div>',jQuery("#cvjs_printModalTextboxLocation").hide(),jQuery("#cvjs_printModalDualTextboxLocation").hide()):(cvjs_printModal_content+='<div id="cvjs_printModalTextModalFont">'+languageTable.languages[cvjs_currentLanguage].RedlineTextModal.FontSize+'</div><div id="cvjs_inputPrintTextModal"><input value="10" id="cvjs_printTextboxFontSizeInput_'+
h+'" class="cvjs_inputRedlineTextModal"><canvas id="dummy" width="70" height="5"></div>',cvjs_printModal_content+='<div id="cvjs_printModalTextboxLocation"><textarea class="cvjs_redlines_edit_text_1" id="printmodal_text" cols="35" rows="3"></textarea></div>',cvjs_printModal_content+='<div id="cvjs_printModalTextboxVariablesLocation"><canvas id="dummy" width="1" height="10"></canvas>'+languageTable.languages[cvjs_currentLanguage].PrintModal.JsonVariable+'<br><canvas id="dummy" width="1" height="16"></canvas><select id="cvjs_SelectVariablesTextBox"><option value="1">variable1</option><option value="2">variable2</option><option value="3">variable3</option></select><div>'));
cvjs_Community_Version||cvjs_initCADViewerPro_Section03(h);f="printModal";if(cvjs_customPrintCheckboxMode||cvjs_customPrintTextboxMode)f="printModalTextbox";jQuery("#cvjs_modals_"+h).append('<div class="'+f+'" id="printModal_'+h+'"></div>');jQuery("#printModal_"+h).html(cvjs_printModal_content);cvjs_PrintModal_PrintToScale||(a=jQuery("."+f).css("height"),a=a.substring(0,a.indexOf("px")),a=parseInt(a)-25,jQuery("."+f).css("height",a+"px"));cvjs_PrintModal_PrintResolution||(a=jQuery("."+f).css("height"),
a=a.substring(0,a.indexOf("px")),a=parseInt(a)-25,jQuery("."+f).css("height",a+"px"));cvjs_PrintModal_PrintResolution||(jQuery("#greyscaleLocation").css("top","65px"),jQuery("#printToPdfLocation").css("top","65px"),jQuery("#cvjs_grayscale_checkbox").css("top","65px"),jQuery("#cvjs_printpdf_checkbox").css("top","65px"),cvjs_customPrintTextboxMode&&(cvjs_customPrintDualTextboxMode?cvjs_PrintModal_PrintToScale?(jQuery("#cvjs_printModalTextboxLocation").css("top","139x"),jQuery("#cvjs_printModalDualTextboxLocation").css("top",
"139px")):(jQuery("#cvjs_printModalTextboxLocation").css("top","114x"),jQuery("#cvjs_printModalDualTextboxLocation").css("top","114px")):cvjs_PrintModal_PrintToScale?(jQuery("#cvjs_printModalTextModalFont").css("top","120px"),jQuery("#cvjs_printModalTextboxLocation").css("top","120px"),jQuery("#cvjs_printModalTextboxVariablesLocation").css("top","143px")):(jQuery("#cvjs_printModalTextModalFont").css("top","95px"),jQuery("#cvjs_printModalTextboxLocation").css("top","95px"),jQuery("#cvjs_printModalTextboxVariablesLocation").css("top",
"118px"))),cvjs_PrintModal_PrintToScale&&(jQuery("#cvjs_printtoscale_checkbox").css("top","95px"),jQuery("#printToScaleLocation").css("top","95px"),jQuery("#enterPrintToScaleValueLocation").css("top","95px"),jQuery("#cvjs_printToScaleValue").css("top","95px")));cvjs_PrintModal_PrintToScale&&(jQuery("#cvjs_custom_checkbox").css("top","105px"),jQuery("#printCustomCheckbox").css("top","105px"));cvjs_spaceobjectsChangeSettingsModal_content='<table class="textsearchModalanguageTable" ><tr><td><div class="textSearchHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_spaceobjectchangesettingsTextHeader">'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.ModalModify+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitSpaceObjectsChangeSettingsModal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_spaceobjectchangesettingsTextLayer">'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Layer+
'</font><canvas id="dummy" width="10" height="10"></canvas><input value="'+cvjs_currentNode_layer+'" id="cvjs_spaceobjectchangeLayerFromModal" class="cvjs_inputTextSearchModalwide"></td></tr><tr><td><canvas id="dummy" width="10" height="22"></canvas><font id="cvjs_spaceobjectchangesettingsTextSpaceId">'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.SpaceId+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="myNodeId" id="cvjs_spaceobjectchangeIdFromModal" class="cvjs_inputTextSearchModal"><canvas id="dummy" width="10" height="22"></canvas><font id="cvjs_spaceobjectchangesettingsTextType">'+
languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Type+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="myType" id="cvjs_spaceobjectchangeTypeFromModal" class="cvjs_inputTextSearchModal"></td></tr><tr><td><canvas id="dummy" width="5" height="10"></canvas></canvas><b class="cvjs_textModalSmall"></b><canvas id="dummy" width="30" height="10"></canvas><input id="cvjs_spaceobjectchangesettingsUnlink" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Unlink+
'" onClick="cvjs_unlinkChangeSpaceObjects();"><canvas id="dummy" width="10" height="10"></canvas><canvas id="dummy" width="5" height="10"></canvas></canvas><b class="cvjs_textModalSmall"></b><canvas id="dummy" width="30" height="10"></canvas><input id="cvjs_spaceobjectchangesettingsUpdate" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Update+'" onClick="cvjs_updateChangeSpaceObjects();"><canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td><b id="cvjs_spaceobjectchangesettingsExplanation" class="cvjs_changespaceModalSmall">'+
languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Explanation+"</b></td></tr></table>";jQuery("#cvjs_modals_"+h).append('<div class="spaceobjectchangeModal" id="spaceobjectsChangeSettingsModal_'+h+'"></div>');jQuery("#spaceobjectsChangeSettingsModal_"+h).html(cvjs_spaceobjectsChangeSettingsModal_content);cvjs_spaceobjectsInitSettingsModal_content='<table class="textsearchModalanguageTable" ><tr><td><div class="textSearchHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_spaceobjectsettingsTextHeader">'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.ModalPoly+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitSpaceObjectsInitSettingsModal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_spaceobjectsettingsTextLayer">'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Layer+
'</font><canvas id="dummy" width="10" height="10"></canvas><input value="'+cvjs_currentNode_layer+'" id="cvjs_spaceobjectLayerFromModal" class="cvjs_inputTextSearchModalwide"></td></tr><tr><td><canvas id="dummy" width="10" height="22"></canvas><font id="cvjs_spaceobjectsettingsTextSpaceId">'+languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.SpaceId+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="myNodeId" id="cvjs_spaceobjectIdFromModal" class="cvjs_inputTextSearchModal"><canvas id="dummy" width="5" height="10"></canvas></canvas><b class="cvjs_textModalSmall"></b><canvas id="dummy" width="30" height="10"></canvas><input id="cvjs_spaceobjectsettingsTextCreate" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Create+'" onClick="cvjs_continueCreateSpaceObjects();"><canvas id="dummy" width="10" height="10"></canvas></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div class="textsearchModal" id="spaceobjectsInitSettingsModal_'+h+'"></div>');jQuery("#spaceobjectsInitSettingsModal_"+h).html(cvjs_spaceobjectsInitSettingsModal_content);cvjs_textSearchModal_content='<table class="textsearchModalanguageTable" ><tr><td><div class="textSearchHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_searchTextHeader">'+languageTable.languages[cvjs_currentLanguage].SearchTextModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_textsearchmodal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_search_text_searchtext">'+languageTable.languages[cvjs_currentLanguage].SearchTextModal.SearchText+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="" id="cvjs_searchTextFromModal" class="cvjs_inputTextSearchModalwide"></td></tr><tr><td><canvas id="dummy" width="10" height="22"></canvas><font id="cvje_search_text_zoom">'+
languageTable.languages[cvjs_currentLanguage].SearchTextModal.Zoom+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="1000" id="cvjs_percentageLevelFromModal" class="cvjs_inputTextSearchModal"><canvas id="dummy" width="5" height="10"></canvas></canvas><b class="cvjs_textModalSmall">(%)</b><canvas id="dummy" width="30" height="10"></canvas><input id="cvjs_textsearch_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].SearchTextModal.Search+
'" onClick="cvjs_startSearchText();"><canvas id="dummy" width="10" height="10"></canvas></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div class="textsearchModal" id="textsearchModal_'+h+'"></div>');jQuery("#textsearchModal_"+h).html(cvjs_textSearchModal_content);cvjs_customSearchModal_content='<table class="textsearchModalanguageTable" ><tr><td><div class="textSearchHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_searchTextHeader">'+
languageTable.languages[cvjs_currentLanguage].SearchCustomModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_customsearchmodal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_search_text_searchtext2">'+languageTable.languages[cvjs_currentLanguage].SearchCustomModal.SearchText+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="" id="cvjs_customSearchTestFromModal" class="cvjs_inputTextSearchModalwide"></td></tr><tr><td><canvas id="dummy" width="10" height="22"></canvas><canvas id="dummy" width="230" height="10"></canvas><canvas id="dummy" width="5" height="10"></canvas></canvas><canvas id="dummy" width="30" height="10"></canvas><input id="cvjs_textsearch_button" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].SearchTextModal.Search+'" onClick="cvjs_startCustomSearchText();"><canvas id="dummy" width="10" height="10"></canvas></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div class="textsearchModal" id="customsearchModal_'+h+'"></div>');jQuery("#customsearchModal_"+h).html(cvjs_customSearchModal_content);jQuery("#customsearchModal_"+h).hide();cvjs_infoMessageModal_content='<div class="modal-dialog modal-dialog-md"><div class="info_messageModalWrapper"><table><tr><td><div id="infoModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_infoMessageHeader">'+languageTable.languages[cvjs_currentLanguage].InfoMessageModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_informationmodal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="10"></canvas><div id="cvjs_informationModalText">Text here</div></td></tr></table></div></div>';jQuery("#cvjs_modals_"+h).append('<div class="info_messageModal" id="info_messageModal_'+
h+'" class="modal fade"></div>');jQuery("#info_messageModal_"+h).html(cvjs_infoMessageModal_content);cvjs_infoMessageModal_content='<table class="info_messageModal_2Table"><tr><td><div class="infoModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_infoMessageHeader2">'+languageTable.languages[cvjs_currentLanguage].InfoMessageModal.Header2+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_informationmodal_2(\''+
h+'\');"></div></td></tr><tr><td><div class="cvjs_informationModalText_2_div"   id="cvjs_informationModalText_2_'+h+'"> Text here</div></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div class="info_messageModal_2" id="info_messageModal_2_'+h+'"></div>');jQuery("#info_messageModal_2_"+h).html(cvjs_infoMessageModal_content);cvjs_documentPageChangeModal_content='<table class="documentPageChangeModalanguageTable"><tr><td><div class="thicknessHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_documentChangeModalHeader">'+languageTable.languages[cvjs_currentLanguage].DocumentPageChangeModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_documentpagechangemodal(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="24"></canvas><font id="cvjs_documentPageChangeModal_changetext">'+languageTable.languages[cvjs_currentLanguage].DocumentPageChangeModal.Page+
'</font><canvas id="dummy" width="10" height="10"></canvas><input value="1" id="cvjs_inputDocumentPageChange_'+h+'" class="cvjs_inputDocumentPageChangeModal"><canvas id="dummy" width="70" height="5"></canvas><input id="cvjs_documentPageChangeModal_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].DocumentPageChangeModal.OK+'" onClick="cvjs_changePageByNumberViaButton(\''+h+'\');"><canvas id="dummy" width="10" height="10"></canvas></td></tr></table>';jQuery("#cvjs_modals_"+
h).append('<div class="documentPageChangeModal" id="documentPageChangeModal_'+h+'"></div>');jQuery("#documentPageChangeModal_"+h).html(cvjs_documentPageChangeModal_content);cvjs_publishPDFModal_content='<table class="publishPDFModalanguageTable"><tr><td><div class="publishPDFModalHeader" id="publishPDFModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_publishPDFHeader">'+languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Header+
'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_publishPDF_modal_hide(\''+h+'\');"></div></td></tr><tr><td><br><br><canvas id="dummy" width="10" height="10"></canvas><font id="cvjs_publish_pdf_selectmode">'+languageTable.languages[cvjs_currentLanguage].PublishPDFModal.SelectMode+'</font><canvas id="dummy" width="20" height="10"></canvas><input class="radioPublishPDF1" id="radioPublishAsPDF1_'+h+'" type="radio" name="radioColor" value="1" checked="checked"><label id="cvjs_publishpdfmode1" for="radio1">'+
languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Mode1+'</label><canvas id="dummy" width="26" height="10"></canvas><input class="radioPublishPDF2" id="radioPublishAsPDF2_'+h+'" type="radio" name="radioColor" value="2"><label id="cvjs_publishpdfmode2" for="radio2">'+languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Mode2+'</label><canvas id="dummy" width="303" height="10"></canvas><input class="radioPublishPDF3" id="radioPublishAsPDF3_'+h+'" type="radio" name="radioColor" value="3"><label id="cvjs_publishpdfmode3" for="radio3">'+
languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Mode3+'</label></td></tr><tr id="publishPDFModal_row2_'+h+'" ><td><canvas id="dummy" width="10" height="10"></canvas><font id="cvjs_entiredoc_checkbox_text">'+languageTable.languages[cvjs_currentLanguage].PublishPDFModal.EntireDoc+'</font><input type="checkbox" id="cvjs_entiredoc_checkbox" value="grayscale_status"></td></tr> <tr id="publishPDFModal_row3_'+h+'" ><td></td></tr> <tr class="publishPDFModal_row4" id="publishPDFModal_row4_'+
h+'" ><td><table id="enter_email_content_table">         <tr><td><canvas id="dummy" width="10" height="20"></canvas><font id="cvjs_entiredoc_checkbox_text_recep">'+languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Recipient+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="email" id="cvjs_publishPDFemailrecipient_'+h+'" class="cvjs_publishPDFemailrecipient"></td></tr>        <tr><td><canvas id="dummy" width="10" height="20"></canvas><font id="cvjs_entiredoc_checkbox_title">'+
languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Title+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="title" id="cvjs_publishPDFemailtitle_'+h+'" class="cvjs_publishPDFemailtitle"></td></tr>                <tr><td><canvas id="dummy" width="10" height="10"></canvas>    <table><tr><td><canvas id="dummy" width="10" height="10"></canvas><font id="cvjs_entiredoc_checkbox_message">'+languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Message+'</font></td></tr><tr><td></td></tr></table>    <textarea class="cvjs_pdfmail_edit_text_1" id="pdfmail_text" cols="43" rows="3"></textarea></td></tr>                         </table></td></tr> <tr><td><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_publish_redline_to_pdf_button" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].PublishPDFModal.OK+'" onClick="cvjs_publishPDFViaButton(\''+h+'\');"><canvas id="dummy" width="10" height="10"></td></tr><tr></tr></table>';jQuery("#cvjs_modals_"+h).append('<div  class="publishPDFModal"  id="publishPDFModal_'+h+'"></div>');jQuery("#publishPDFModal_"+h).html(cvjs_publishPDFModal_content);cvjs_backgroundColorModal_content='<table class="backgroundModalanguageTable"><tr><td><div class="backgroundModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_backgroundColorHeader">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_backgroundColor(\''+h+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_background_color_pickcolor">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.PickColor+
'</font><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_backgroundPickerValue" value="FFFFFF" class="cvjs_inputBackgroundColorModal jscolor {width:101, padding:10, shadow:false, borderWidth:0, backgroundColor:\'transparent\', insetColor:\'#000\',closable:true, closeText:\'Close Color Picker!\', onFineChange:\'cvjs_setBackgroundColorHex(this)\'}"><canvas id="dummy" width="20" height="10"></canvas><font id="cvjs_background_color_selectcolor">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.SelectColor+
'</font><canvas id="dummy" width="20" height="10"></canvas><input class="radioColor1_background" id="radioColor1_background_'+h+'" type="radio" name="radioColor" value="1" checked="checked"><img id="cvjs_radioColor1_img_background" src="'+cvjs_imagesLocation+'white_color.png" border="1"/><label id="cvjs_radio1" for="radio1"><font id="cvjs_radio1_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.White+'</font></label><canvas id="dummy" width="26" height="10"></canvas><input class="radioColor2_background"  id="radioColor2_background_'+
h+'" type="radio" name="radioColor" value="2"><img id="cvjs_radioColor2_img_background" src="'+cvjs_imagesLocation+'black_color.png" border="1"/><label id="cvjs_radio2" for="radio2"><font id="cvjs_radio2_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Black+'</font></label></td></tr><tr><td><canvas id="dummy" width="303" height="10"></canvas><input class="radioColor3_background"  id="radioColor3_background_'+h+'" type="radio" name="radioColor" value="3"><img id="cvjs_radioColor3_img_background" src="'+
cvjs_imagesLocation+'azure_color.png" border="1"/><label id="cvjs_radio3" for="radio3"><font id="cvjs_radio3_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Azure+'</font></label><canvas id="dummy" width="24" height="10"></canvas><input class="radioColor4_background"  id="radioColor4_background_'+h+'" type="radio" name="radioColor" value="4"><img id="cvjs_radioColor4_img_background" src="'+cvjs_imagesLocation+'pink_color.png" border="1"/><label id="cvjs_radio4" for="radio4"><font id="cvjs_radio4_text">'+
languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Pink+'</font></label></td></tr><tr><td><canvas id="dummy" width="303" height="10"></canvas><input class="radioColor5_background"  id="radioColor5_background_'+h+'" type="radio" name="radioColor" value="5"><img id="cvjs_radioColor5_img_background" src="'+cvjs_imagesLocation+'snow_color.png" border="1"/><label id="cvjs_radio5" for="radio5"><font id="cvjs_radio5_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Snow+
'</font></label><canvas id="dummy" width="26" height="10"></canvas><input class="radioColor6_background"  id="radioColor6_background_'+h+'" type="radio" name="radioColor" value="6"><img id="cvjs_radioColor6_img_background" src="'+cvjs_imagesLocation+'silver_color.png" border="1"/><label id="cvjs_radio6" for="radio6"><font id="cvjs_radio6_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Silver+'</font></label></td></tr><tr><td><canvas id="dummy" width="303" height="10"></canvas><input class="radioColor7_background"  id="radioColor7_background_'+
h+'" type="radio" name="radioColor" value="7"><img id="cvjs_radioColor7_img_background" src="'+cvjs_imagesLocation+'gray_color.png" border="1"/><label id="cvjs_radio7" for="radio7"><font id="cvjs_radio7_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Gray+'</font></label><canvas id="dummy" width="29" height="10"></canvas><input class="radioColor8_background"  id="radioColor8_background_'+h+'" type="radio" name="radioColor" value="8"><img id="cvjs_radioColor8_img_background" src="'+
cvjs_imagesLocation+'brown_color.png" border="1"/><label id="cvjs_radio8" for="radio8"><font id="cvjs_radio8_text">'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Brown+'</font></label> </td></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_backgroundcolor_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.OK+'" onClick="cvjs_setBackgroundColorViaButton(\''+
h+'\');"><canvas id="dummy" width="10" height="10"></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div class="backgroundModal" id="backgroundModal_'+h+'"></div>');jQuery("#backgroundModal_"+h).html(cvjs_backgroundColorModal_content);jQuery("#cvjs_modals_"+h).append('<div id="genericColorModal_'+h+'"><table><tr><td><div id="genericColorModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><b id="cvjs_textSearchHeader">Select Color</b><input class="cvjs_new_header_button" type="button" value="&times;" onClick="jQuery(\'#genericColorModal\').hide();"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas>Select Color:<canvas id="dummy" width="30" height="10"></canvas><input id="radioColor1_generic" type="radio" name="radioColor" value="1" checked="checked"><img id="cvjs_radioColor1_img_generic" src="'+
cvjs_imagesLocation+'blue_color.png" border="1"/><label id="cvjs_radio1_generic" for="radio1">Blue</label><canvas id="dummy" width="26" height="10"></canvas><input id="radioColor2_generic" type="radio" name="radioColor" value="2"><img id="cvjs_radioColor2_img_generic" src="'+cvjs_imagesLocation+'red_color.png" border="1"/><label id="cvjs_radio2_generic" for="radio2">Red</label><canvas id="dummy" width="60" height="10"></canvas><input id="cvjs_genericcolor_button" type="button" name="bPrint" value="OK" onClick="cvjs_setGenericColorViaButton();"><canvas id="dummy" width="10" height="10"></td></tr><tr><td><canvas id="dummy" width="121" height="10"></canvas><input id="radioColor3_generic" type="radio" name="radioColor" value="3"><img id="cvjs_radioColor3_img_generic" src="'+
cvjs_imagesLocation+'orange_color.png" border="1"/><label id="cvjs_radio3_generic" for="radio3">Orange</label><canvas id="dummy" width="10" height="10"></canvas><input id="radioColor4_generic" type="radio" name="radioColor" value="4"><img id="cvjs_radioColor4_img_generic" src="'+cvjs_imagesLocation+'yellow_color.png" border="1"/><label id="cvjs_radio4_generic" for="radio4">Yellow</label></td></tr><tr><td><canvas id="dummy" width="121" height="10"></canvas><input id="radioColor5_generic" type="radio" name="radioColor" value="5"><img id="cvjs_radioColor5_img_generic" src="'+
cvjs_imagesLocation+'green_color.png" border="1"/><label id="cvjs_radio5_generic" for="radio5">Green</label><canvas id="dummy" width="17" height="10"></canvas><input id="radioColor6_generic" type="radio" name="radioColor" value="6"><img id="cvjs_radioColor6_img_generic" src="'+cvjs_imagesLocation+'purple_color.png" border="1"/><label id="cvjs_radio6_generic" for="radio6">Purple</label></td></tr><tr><td><canvas id="dummy" width="121" height="10"></canvas><input id="radioColor7_generic" type="radio" name="radioColor" value="7"><img id="cvjs_radioColor7_img_generic" src="'+
cvjs_imagesLocation+'gray_color.png" border="1"/><label id="cvjs_radio7_generic" for="radio7">Gray</label><canvas id="dummy" width="24" height="10"></canvas><input id="radioColor8_generic" type="radio" name="radioColor" value="8"><img id="cvjs_radioColor8_img_generic" src="'+cvjs_imagesLocation+'brown_color.png" border="1"/><label id="cvjs_radio8_generic" for="radio8">Brown</label> </td></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas></td></tr></table></div>');cvjs_lineThicknessModal_content=
'<table class="linethicknessModalanguageTable"><tr><td><div class="linethicknessModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_lineThicknessHeader">'+languageTable.languages[cvjs_currentLanguage].LineThicknessModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_line_thickness_modal_hide(\''+h+'\');"></div></td></tr><tr><td><canvas id="dummy" width="20" height="5"></canvas><div id="lineThicknessText">'+
languageTable.languages[cvjs_currentLanguage].LineThicknessModal.LineThickness+'</div><canvas id="dummy" width="20" height="5"></canvas><input value="1.00" id="lineThickness_'+h+'" class="cvjs_inputLineweightModal"></td><td><div class="lineThickness" id="lineThickness_'+h+'"></td></tr><tr><td><canvas id="dummy" width="50" height="5"></canvas><div class="cvjs_slider2" id="cvjs_slider2_'+h+'"><canvas id="dummy" width="50" height="5"></canvas></td></tr></table>';jQuery("#cvjs_modals_"+h).append('<div class="linethicknessModal" id="linethicknessModal_'+
h+'"></div>');jQuery("#linethicknessModal_"+h).html(cvjs_lineThicknessModal_content);a='<select id="cvjs_settingsSelectLanguage">';for(f=0;f<languageTable.numberOfLanguages;f++)a=f==cvjs_currentLanguage?a+('<option value="'+(f+1)+'" selected>'+languageTable.languages[f].thisLanguage+"</option>"):a+('<option value="'+(f+1)+'">'+languageTable.languages[f].thisLanguage+"</option>");d='<canvas id="dummy" width="10" height="33"></canvas><font id="cvjs_ax2020_paramtext">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.ConversionFixed+
"</font><br>";var n=languageTable.languages[cvjs_currentLanguage].SettingsModal.TotalParameters;f="";var u=!1;for(k=0;k<n;k++){u=!1;for(f=0;f<rest_nname[cvjs_active_floorplan_div_nr].length;f++)rest_nname[cvjs_active_floorplan_div_nr][f]==languageTable.languages[cvjs_currentLanguage].SettingsModal.ParamNames.ParamName[k]&&(u=!0);u||(f=rest_nname[cvjs_active_floorplan_div_nr].length,rest_nname[cvjs_active_floorplan_div_nr][f]=languageTable.languages[cvjs_currentLanguage].SettingsModal.ParamNames.ParamName[k],
rest_vvalue[cvjs_active_floorplan_div_nr][f]=languageTable.languages[cvjs_currentLanguage].SettingsModal.ParamValues.ParamValue[k])}for(k=0;k<rest_nname[cvjs_active_floorplan_div_nr].length;k++)d+='<div id="settings_param_lines_input"><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_param'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Param+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="'+rest_nname[cvjs_active_floorplan_div_nr][k]+
'" id="cvjs_param_list_name'+(k+1)+'" class="cvjs_inputSettingsModal"><canvas id="dummy" width="30" height="23"></canvas><font id="cvjs_param_value'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Value+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="'+rest_vvalue[cvjs_active_floorplan_div_nr][k]+'" id="cvjs_param_list_value'+(k+1)+'" class="cvjs_inputSettingsModal"><br>';for(k=rest_nname[cvjs_active_floorplan_div_nr].length;8>k;k++)d+='<div id="settings_param_lines_input"><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_param'+
(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Param+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="" id="cvjs_param_list_name'+(k+1)+'" class="cvjs_inputSettingsModal"><canvas id="dummy" width="30" height="23"></canvas><font id="cvjs_param_value'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Value+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="" id="cvjs_param_list_value'+(k+1)+'" class="cvjs_inputSettingsModal"><br>';
cvjs_settingsModal_content='<table class="settingsModalTable"><tr><td><div class="settingsModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_settingsModalHeader">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exitSettingsModal(\''+h+'\', 1);"></div></td></tr><tr><td><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_settings_language">'+
languageTable.languages[cvjs_currentLanguage].SettingsModal.OnlineLanguage+'</font><canvas id="dummy" width="10" height="10"></canvas>'+(a+"</select>")+"</td></tr><tr><td>"+(d+"</div>")+'<canvas id="dummy" width="116" height="10"></canvas><input id="cvjs_settings_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].SettingsModal.OK+'" onClick="cvjs_exitSettingsModal(\''+h+'\',2);"><div id="cvjs_settingsModalText"><canvas id="dummy" width="0" height="17"></canvas><font id="cvjs_settings_modal_text">'+
languageTable.languages[cvjs_currentLanguage].SettingsModal.Text+"</font></div></td></tr></table>";jQuery("#cvjs_modals_"+h).append('<div class="settingsModal" id="settingsModal_'+h+'"></div>');jQuery("#settingsModal_"+h).html(cvjs_settingsModal_content);jQuery(function(){jQuery("#settingsModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#settingsModal_"+
h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#settingsModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#settingsModal_"+h).hide();jQuery("#genericColorModal_"+h).hide();jQuery(function(){jQuery("#genericColorModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#backgroundModal_"+h).width()+
cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#backgroundModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#backgroundModal_"+h).hide();jQuery(function(){jQuery("#backgroundModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#backgroundModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+
jQuery("#"+h).height()-jQuery("#backgroundModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#colorModal_"+h).hide();jQuery(function(){jQuery("#colorModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#colorModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#colorModal_"+h).height()+
cvjs_containmentModalBottom]})});jQuery("#creationModeModal_"+h).hide();jQuery(function(){jQuery("#creationModeModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#ellipseModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#ellipseModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#publishPDFModal_"+
h).hide();jQuery(function(){jQuery("#publishPDFModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#colorModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#colorModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#documentPageChangeModal_"+h).hide();jQuery(function(){jQuery("#documentPageChangeModal_"+
h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#documentPageChangeModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#documentPageChangeModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#printModal_"+h).hide();jQuery(function(){jQuery("#printModal_"+h).draggable({containment:[jQuery("#"+
h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#printModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#printModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery(function(){jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+h).draggable()});jQuery("#cvjs_floorPlanMagnifyingGlassEncapsulate_"+h).hide();jQuery(function(){jQuery("#pagechangeList_"+
h).draggable({containment:[jQuery("#"+h).position().left-2*cvjs_containmentModalLeft,jQuery("#"+h).position().top-2*cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#pagechangeList_"+h).width()+2*cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#pagechangeList_"+h).height()+2*cvjs_containmentModalBottom]})});jQuery("#pagechangeList"+h).css("position","absolute");jQuery("#pagechangelist_id_"+h).mouseover(function(){jQuery("#pagechangelist_"+
h).draggable({disabled:!0})});jQuery("#pagechangelist_id_"+h).mouseout(function(){jQuery("#pagechangelist_"+h).draggable({disabled:!1})});jQuery("#pagechangeList_"+h).hide();jQuery("#exit_pagechangelist").mouseover(function(){jQuery("#exit_pagechangelist").css("filter","alpha(opacity=70)");jQuery("#exit_pagechangelist").css("opacity","0.7")});jQuery("#exit_pagechangelist").mouseout(function(){jQuery("#exit_pagechangelist").css("filter","alpha(opacity=100)");jQuery("#exit_pagechangelist").css("opacity",
"1.0")});jQuery(function(){jQuery("#layerList_"+h).draggable({containment:[jQuery("#"+h).position().left-2*cvjs_containmentModalLeft,jQuery("#"+h).position().top-2*cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#layerList_"+h).width()+2*cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#layerList_"+h).height()+2*cvjs_containmentModalBottom]})});jQuery("#layerList_"+h).css("position","absolute");jQuery("#layerlist_id_"+h).mouseover(function(){jQuery("#layerList_"+
h).draggable({disabled:!0})});jQuery("#layerlist_id_"+h).mouseout(function(){jQuery("#layerList_"+h).draggable({disabled:!1})});jQuery("#layerList_"+h).hide();jQuery("#exit_layerlist").mouseover(function(){jQuery("#exit_layerlist").css("filter","alpha(opacity=70)");jQuery("#exit_layerlist").css("opacity","0.7")});jQuery("#exit_layerlist").mouseout(function(){jQuery("#exit_layerlist").css("filter","alpha(opacity=100)");jQuery("#exit_layerlist").css("opacity","1.0")});jQuery("#cvjs_wait_looper_"+h).hide();
jQuery(function(){jQuery("#gMenu_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#gMenu_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#gMenu_"+h).height()+cvjs_containmentModalBottom]})});jQuery(function(){jQuery("#calibrateModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,
jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#calibrateModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#calibrateModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#calibrateModal_"+h).hide();jQuery(function(){jQuery("#measurementModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,
jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#measurementModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#measurementModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#measurementModal_"+h).hide();jQuery(function(){jQuery("#textsearchModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+
h).width()-jQuery("#textsearchModal_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#textsearchModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#textsearchModal_"+h).hide();jQuery(function(){jQuery("#spaceobjectsInitSettingsModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#textsearchModal_"+
h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#textsearchModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#spaceobjectsInitSettingsModal_"+h).hide();jQuery(function(){jQuery("#spaceobjectsChangeSettingsModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#textsearchModal_"+h).width()+
cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#textsearchModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#spaceobjectsChangeSettingsModal_"+h).hide();jQuery(function(){jQuery("#linethicknessModal_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#linethicknessModal_"+h).width()+cvjs_containmentModalRight,
jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#linethicknessModal_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#linethicknessModal_"+h).hide();cvjs_modalsInitialized_FileLoadModal||(jQuery(function(){jQuery("#cvjs_serverFileLoadModal").draggable()}),jQuery("#cvjs_serverFileLoadModal").hide(),jQuery("#cvjs_serverFileLoadModal_table").hide());cvjs_modalsInitialized_FileLoadModal||(cvjs_modalsInitialized_FileLoadModal=!0);jQuery(function(){jQuery("#delete_form_"+h).draggable()});
jQuery(function(){jQuery("#clear_form_"+h).draggable()});jQuery(function(){jQuery("#unlink_form_"+h).draggable()});jQuery(function(){jQuery("#info_messageModal_2_"+h).draggable({containment:[jQuery("#"+h).position().left-cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#info_messageModal_2_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#info_messageModal_2_"+
h).height()+cvjs_containmentModalBottom]})});jQuery("#info_messageModal_2_"+h).hide();jQuery("#info_messageModal_"+h).hide();cvjs_iconInterfaceDisabled[cvjs_interfaceCounterIndex(h)]?cvjs_iconInterfaceClassicSkin[cvjs_interfaceCounterIndex(h)]&&(cvjs_iconInterfaceClassicSkin_MinimumDisk[cvjs_interfaceCounterIndex(h)]?(jQuery("#gMenu_"+h).html('<div class="cvjs_controls_min" ><li style="list-style-type:none;" id="zoom-extents_'+h+'"><i class="fa fa-arrows-alt"></i></li><li style="list-style-type:none" id="zoom-in_'+
h+'"><i class="fa fa-plus"></i></li><li style="list-style-type:none" id="zoom-out_'+h+'"><i class="fa fa-minus"></i></li><li style="list-style-type:none" id="zoom-window_'+h+'"><i class="fa fa-search-plus"></i></li></div>'),jQuery("#zoom-in_"+h).on("click",function(){cvjs_zoomIn(h)}),jQuery("#zoom-out_"+h).on("click",function(){cvjs_zoomOut(h)}),jQuery("#zoom-extents_"+h).on("click",function(){cvjs_resetZoomPan(h)}),jQuery("#zoom-window_"+h).on("click",function(){cvjs_zoomWindow(h)}),jQuery("#zoom-in_"+
h).on("mouseover",function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(v){}cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(h);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomIn);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+h).position().left+42).css("top",jQuery("#gMenu_"+h).position().top+66)}),jQuery("#zoom-in_"+h).on("mouseout",
function(){tip[cvjs_active_floorplan_div_nr].hide()}),jQuery("#zoom-out_"+h).on("mouseover",function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(v){}cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(h);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomOut);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+h).position().left+42).css("top",
jQuery("#gMenu_"+h).position().top+96)}),jQuery("#zoom-out_"+h).on("mouseout",function(){tip[cvjs_active_floorplan_div_nr].hide()}),jQuery("#zoom-extents_"+h).on("mouseover",function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(v){}cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(h);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomExtents);tip[cvjs_active_floorplan_div_nr].show();
tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+h).position().left+42).css("top",jQuery("#gMenu_"+h).position().top+35)}),jQuery("#zoom-extents_"+h).on("mouseout",function(){tip[cvjs_active_floorplan_div_nr].hide()}),jQuery("#zoom-window_"+h).on("mouseover",function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(v){}cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(h);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomWindow);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+h).position().left+42).css("top",jQuery("#gMenu_"+h).position().top+127)}),jQuery("#zoom-window_"+h).on("mouseout",function(){tip[cvjs_active_floorplan_div_nr].hide()})):cvjs_iconInterfaceClassicSkin_PanZoomDisk[cvjs_interfaceCounterIndex(h)]?jQuery("#gMenu_"+h).html('<img src="'+cvjs_imagesLocation+'PanZoomWindowFullPages7t.png" usemap="#PanZoomMap" border="0" height="363" width="78" class="map" hidefocus="true">'):
isSmartPhoneOrTablet||cvjs_iconInterfaceClassicSkinDeviceSize[cvjs_interfaceCounterIndex(h)]?jQuery("#gMenu_"+h).html('<img src="'+cvjs_imagesLocation+'ZoomExtentsDevice.png" usemap="#ZoomExtentsDeviceMapClassic" border="0" height="176" width="79" class="map" hidefocus="true">'):jQuery("#gMenu_"+h).html('<img src="'+cvjs_imagesLocation+'PanZoomFull.png" usemap="#PanZoomMapClassic" border="0" height="267" width="79" class="map" hidefocus="true">')):isSmartPhoneOrTablet?jQuery("#gMenu_"+h).html('<img src="'+
cvjs_imagesLocation+'PanZoomWindowFullPages7t.png" usemap="#PanZoomMap" border="0" height="363" width="78" class="map" hidefocus="true">'):pageChangeInterface[cvjs_interfaceCounterIndex(h)]?cvjs_version_3_2_modal?jQuery("#gMenu_"+h).html('<img src="'+cvjs_imagesLocation+'cvjsToolbar_dra_p1_8.png" style="margin-left: 10px; margin-top: 10px;" usemap="#cvjsToolbarMap_p1_8_'+h+'" border="0" height="276" width="62" class="map" hidefocus="true">'):jQuery("#gMenu_"+h).html('<img src="'+cvjs_imagesLocation+
'cvjsToolbar_dra_p1_3.png" style="margin-left: 10px; margin-top: 10px;" usemap="#cvjsToolbarMap_p1_3" border="0" height="276" width="62" class="map" hidefocus="true">'):pageChangeInterfaceFalse_noIconNavigation[cvjs_interfaceCounterIndex(h)]?jQuery("#gMenu_"+h).html('<img src="'+cvjs_imagesLocation+'cvjsToolbar_dra_p1_8.png" style="margin-left: 10px; margin-top: 10px;" usemap="#cvjsToolbarMap_p1_8_'+h+'" border="0" height="276" width="62" class="map" hidefocus="true">'):jQuery("#gMenu_"+h).html('<img src="'+
cvjs_imagesLocation+'cvjsToolbar_dra_p1_2.png" style="margin-left: 10px; margin-top: 10px;" usemap="#cvjsToolbarMap_p1" border="0" height="303" width="62" class="map" hidefocus="true">');cvjs_Community_Version||cvjs_initializeAllFileSelectorDivs(h);jQuery(function(){jQuery("#cvjs_slider2_"+h).slider({value:lineSliderStartValue,min:1,max:500,step:15,slide:function(a,d){jQuery("#lineThickness_"+h).val((d.value/100*lineSliderValue).toFixed(2));cvjs_MinWidthSVG=d.value/100*lineSliderValue;for(var f in cvjs_SVGLineThicknessArray)jQuery("#"+
f).css("stroke-width",cvjs_SVGLineThicknessArray[f]*cvjs_MinWidthSVG);cvjs_MinWidthSVGZWfactor=d.value/100;jQuery("#cv_styles").html(cvjs_cvStyles_part1+cvjs_MinWidthSVGZWfactor*cvjs_MinWidthSVGZW+cvjs_cvStyles_part2)}});jQuery("#lineThickness_"+h).val((jQuery("#cvjs_slider2_"+h).slider("value")/100*lineSliderValue).toFixed(2))});jQuery("#lineThickness_"+h).change(function(){cvjs_MinWidthSVG=jQuery("#lineThickness_"+h).val();for(var a in cvjs_SVGLineThicknessArray)jQuery("#"+a).css("stroke-width",
cvjs_SVGLineThicknessArray[a]*cvjs_MinWidthSVG);cvjs_MinWidthSVGZWfactor=jQuery("#lineThickness_"+h).val();jQuery("#cv_styles").html(cvjs_cvStyles_part1+cvjs_MinWidthSVGZWfactor*cvjs_MinWidthSVGZW+cvjs_cvStyles_part2);5<cvjs_MinWidthSVG?jQuery("#cvjs_slider2_"+h).slider("value",500):.01>cvjs_MinWidthSVG?jQuery("#cvjs_slider2_"+h).slider("value",1):jQuery("#cvjs_slider2_"+h).slider("value",100*cvjs_MinWidthSVG)});jQuery("#sortable").sortable({disabled:!1});jQuery(function(){jQuery("#floatNavigationMenu_"+
h).draggable({containment:[jQuery("#"+h).position().left-2*cvjs_containmentModalLeft,jQuery("#"+h).position().top-cvjs_containmentModalTop,jQuery("#"+h).position().left+jQuery("#"+h).width()-jQuery("#floatNavigationMenu_"+h).width()+cvjs_containmentModalRight,jQuery("#"+h).position().top+jQuery("#"+h).height()-jQuery("#floatNavigationMenu_"+h).height()+cvjs_containmentModalBottom]})});jQuery("#floatNavigationMenu_"+h).hide();jQuery("#cvjs_zoomextents_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=
jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.ZoomExtents);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left-30).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_zoomextents_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#cvjs_zoomwindow_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.ZoomWindow);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left).css("top",
jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_zoomwindow_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_rotateback_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.RotateBack);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+30).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_rotateback_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_rotateforward_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(19);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.RotateBack);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+60).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_rotateforward_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_fastback_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=
jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.First);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+90).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_fastback_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#cvjs_back_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.Previous);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+120).css("top",
jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_back_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_enterpagenumber_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(21);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.EnterPage);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+160).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_enterpagenumber_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_selectpagefromlist_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(24);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.SelectPageFromList);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+240).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_selectpagefromlist_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_selectpagefromlist_"+
h).mousedown(function(){cvjs_PageChangeList(h)});jQuery("#cvjs_forward_"+h).mouseover(function(){cvjs_debug&&console.log(cvjs_active_floorplan_div_nr+"  "+jQuery(this).attr("id"));try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(13);console.log(a);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.Next);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+290).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_forward_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_fastforward_"+h).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(w){}var a=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].PageModal.Last);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#floatNavigationMenu_"+h).position().left+305).css("top",jQuery("#floatNavigationMenu_"+h).position().top+33)});jQuery("#cvjs_fastforward_"+h).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});cvjs_initialize_allColorCheckboxes(h);f="url("+cvjs_imagesLocation+"pageChange_08.png)";jQuery(".changePagebox1").css("background-image",
f);f="url("+cvjs_imagesLocation+"compareDrawingName_11B.png)";jQuery(".compareDrawingbox1").css("background-image",f);f="url("+cvjs_imagesLocation+"cvjsToolbar_dra_pageChange_11B.png)";jQuery(".changePagebox_topBar").css("background-image",f);jQuery("#"+floorPlan_Modal).append('<div id="cvjs_qrcode_'+h+'" style="width:200px; height:200px; margin-top:15px;"></div>');jQuery("#cvjs_qrcode_"+h).hide();cvjs_modalsInitialized=!0},error:function(a){console.log("Error "+a)}})}
var cvjs_makePDFEntireDoc=!1,radioButton_publishAsPDF=1,radioButton_mergeAsDXF=1;
function cvjs_initialize_allColorCheckboxes(a){jQuery("#radioMergeAsDXF1_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),radioButton_mergeAsDXF=1,0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_customPdfFolderFlag?(console.log("show entire document button"),jQuery("#mergeDXFModal_row2_"+a).show(),jQuery("#mergeDXFModal_row3_"+a).hide()):(console.log("hide button"),jQuery("#mergeDXFModal_row2_"+a).hide(),jQuery("#mergeDXFModal_row3_"+a).show()),
jQuery("#mergeDXFModal_row4_"+a).hide())});jQuery("#radioMergeAsDXF2_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),radioButton_mergeAsDXF=2,cvjs_mailServerSetup?(jQuery("#mergeDXFModal_row2_"+a).hide(),jQuery("#mergeDXFModal_row3_"+a).hide(),jQuery("#mergeDXFModal_row4_"+a).show()):window.alert("Please set up e-mail server."))});jQuery("#radioMergeAsDXF3_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),radioButton_mergeAsDXF=3,0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&
cvjs_customPdfFolderFlag?(console.log("show entire document button"),jQuery("#mergeDXFModal_row2_"+a).show(),jQuery("#mergeDXFModal_row3_"+a).hide()):(console.log("hide button"),jQuery("#mergeDXFModal_row2_"+a).hide(),jQuery("#mergeDXFModal_row3_"+a).show()),jQuery("#mergeDXFModal_row4_"+a).hide())});jQuery("#radioPublishAsPDF1_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),radioButton_publishAsPDF=1,0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&
cvjs_customPdfFolderFlag?(console.log("show entire document button"),jQuery("#publishPDFModal_row2_"+a).show(),jQuery("#publishPDFModal_row3_"+a).hide()):(console.log("hide button"),jQuery("#publishPDFModal_row2_"+a).hide(),jQuery("#publishPDFModal_row3_"+a).show()),jQuery("#publishPDFModal_row4_"+a).hide())});jQuery("#radioPublishAsPDF2_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),radioButton_publishAsPDF=2,cvjs_mailServerSetup?(jQuery("#publishPDFModal_row2_"+a).hide(),
jQuery("#publishPDFModal_row3_"+a).hide(),jQuery("#publishPDFModal_row4_"+a).show()):window.alert("Please set up e-mail server."))});jQuery("#radioPublishAsPDF3_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),radioButton_publishAsPDF=3,0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_customPdfFolderFlag?(console.log("show entire document button"),jQuery("#publishPDFModal_row2_"+a).show(),jQuery("#publishPDFModal_row3_"+a).hide()):(console.log("hide button"),
jQuery("#publishPDFModal_row2_"+a).hide(),jQuery("#publishPDFModal_row3_"+a).show()),jQuery("#publishPDFModal_row4_"+a).hide())});jQuery("#radioEllipse1_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_ellipseRedlineType=1)});jQuery("#radioEllipse2_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_ellipseRedlineType=2)});jQuery("#radioCreation1_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_creationInputType=1)});
jQuery("#radioCreation2_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_creationInputType=2)});jQuery("#radioColor1_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#0000FF",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#0000FF"))});jQuery("#radioColor2_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor=
"#FF0000",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#FF0000"))});jQuery("#radioColor3_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#ffa500",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#ffa500"))});jQuery("#radioColor4_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#fff200",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#fff200"))});
jQuery("#radioColor5_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#22B14C",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#22B14C"))});jQuery("#radioColor6_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#800080",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#800080"))});jQuery("#radioColor7_"+a).change(function(){jQuery(this).is(":checked")&&
(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#808080",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#808080"))});jQuery("#radioColor8_"+a).change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_currentRedline_color=cvjs_genericPickedColor="#B97A57",document.getElementById("cvjs_colorPickerValue").jscolor.fromString("#B97A57"))});jQuery("#radioColor1_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();
cvjs_genericPickedColor="#FFFFFF";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#FFFFFF")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#FFFFFF",floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor2_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();cvjs_genericPickedColor="#000000";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#000000")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#000000",
floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor3_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();cvjs_genericPickedColor="#F0FFFF";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#F0FFFF")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#F0FFFF",floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor4_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();
cvjs_genericPickedColor="#FFC0CB";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#FFC0CB")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#FFC0CB",floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor5_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();cvjs_genericPickedColor="#FFFAFA";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#FFFAFA")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#FFFAFA",
floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor6_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();cvjs_genericPickedColor="#C0C0C0";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#C0C0C0")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#C0C0C0",floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor7_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();
cvjs_genericPickedColor="#808080";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#808080")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#808080",floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor8_background_"+a).change(function(){if(jQuery(this).is(":checked")){jQuery(this).val();cvjs_genericPickedColor="#B97A57";try{document.getElementById("cvjs_backgroundPickerValue").jscolor.fromString("#B97A57")}catch(d){console.log(d)}cvjs_setBackgroundColorHex("#B97A57",
floorplan_div_Array[cvjs_active_floorplan_div_nr])}});jQuery("#radioColor1_generic").change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_genericPickedColor="#0000FF")});jQuery("#radioColor2_generic").change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_genericPickedColor="#FF0000")});jQuery("#radioColor3_generic").change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_genericPickedColor="#ffa500")});jQuery("#radioColor4_generic").change(function(){jQuery(this).is(":checked")&&
(jQuery(this).val(),cvjs_genericPickedColor="#ffff00")});jQuery("#radioColor5_generic").change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_genericPickedColor="#22B14C")});jQuery("#radioColor6_generic").change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_genericPickedColor="#800080")});jQuery("#radioColor7_generic").change(function(){jQuery(this).is(":checked")&&(jQuery(this).val(),cvjs_genericPickedColor="#808080")});jQuery("#radioColor8_generic").change(function(){jQuery(this).is(":checked")&&
(jQuery(this).val(),cvjs_genericPickedColor="#B97A57")});jQuery("#cvjs_grayscale_checkbox").change(function(){cvjs_printGrayscale=jQuery(this).is(":checked")?!0:!1});jQuery("#cvjs_printtoscale_checkbox").change(function(){cvjs_PrintToScale=jQuery(this).is(":checked")?!0:!1});jQuery("#cvjs_measurementOption").change(function(){if(1==jQuery(this).val()){cvjs_measureArea=!1;cvjs_measurementInteractiveType=1;jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance);
jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("0 "+cvjs_units[cvjs_active_floorplan_div_nr]);jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",1);tRubberBand_poly_redline1.attr({path:"M0,0"});cvjs_removeHandleFunc_MeasurementFilledPolygon();jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.Text);jQuery("#cvjs_measurementModalText").css("top",
52);jQuery("#cvjs_measurementModalText").css("left",0);jQuery("#cvjs_closearea_button").hide();tPolygon_redline1.attr({transform:"T0,0S0.01"});tRubberBand_poly_redline1.attr({path:"M0,0"});var a="S0";measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a});measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a});tPolygon_redline1.remove();measurement_Triangle.remove();measurement_Triangle2.remove();cvjs_Measurement_RedlinePolyline()}2==jQuery(this).val()&&(cvjs_measureArea=
!0,cvjs_measurementInteractiveType=2,jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("0 "+cvjs_units[cvjs_active_floorplan_div_nr]+"\u00b2"),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",1),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+
languageTable.languages[cvjs_currentLanguage].MeasurementModal.TextArea),jQuery("#cvjs_measurementModalText").css("top",52),jQuery("#cvjs_measurementModalText").css("left",0),jQuery("#cvjs_closearea_button").show(),cvjs_removeHandleFunc_MeasurementPolyline(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),
tPolygon_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_addHandleFunc_MeasurementFilledPolygon());3==jQuery(this).val()&&(cvjs_measureArea=!1,cvjs_measurementInteractiveType=3,jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Point),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("(0,0)"),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",
1),tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon(),cvjs_removeHandleFunc_MeasurementPolyline(),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.PointText),jQuery("#cvjs_measurementModalText").css("top",52),jQuery("#cvjs_measurementModalText").css("left",0),jQuery("#cvjs_closearea_button").hide(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),
tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),tPolygon_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_Measurement_RedlinePolyline());4==jQuery(this).val()&&(cvjs_measurementInteractiveType=4,cvjs_measureArea=!1,jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Point),
jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("(0,0)"),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",1),tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon(),cvjs_removeHandleFunc_MeasurementPolyline(),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.PointText),
jQuery("#cvjs_measurementModalText").css("top",52),jQuery("#cvjs_measurementModalText").css("left",0),jQuery("#cvjs_closearea_button").hide(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),tPolygon_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_Measurement_RedlinePolyline());
5==jQuery(this).val()&&(cvjs_measurementInteractiveType=5,cvjs_measureArea=!1,jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Points),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("(0,0)"),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",2),tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon(),
cvjs_removeHandleFunc_MeasurementPolyline(),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.PointsText),jQuery("#cvjs_measurementModalText").css("top",76),jQuery("#cvjs_measurementModalText").css("left",226),jQuery("#cvjs_closearea_button").hide(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,
transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),tPolygon_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_Measurement_RedlinePolyline());6==jQuery(this).val()&&(cvjs_measurementInteractiveType=6,cvjs_measureArea=!1,jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Points),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("(0,0)"),
jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",2),tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon(),cvjs_removeHandleFunc_MeasurementPolyline(),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.PointsText),jQuery("#cvjs_measurementModalText").css("top",76),jQuery("#cvjs_measurementModalText").css("left",
226),jQuery("#cvjs_closearea_button").hide(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),tPolygon_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_Measurement_RedlinePolyline());7==jQuery(this).val()&&(cvjs_measurementInteractiveType=7,cvjs_measureArea=!1,jQuery("#cvjs_measurementLength_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Points),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("M0,0"),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).attr("rows",2),tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon(),cvjs_removeHandleFunc_MeasurementPolyline(),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+
languageTable.languages[cvjs_currentLanguage].MeasurementModal.PointsText),jQuery("#cvjs_measurementModalText").css("top",76),jQuery("#cvjs_measurementModalText").css("left",226),jQuery("#cvjs_closearea_button").hide(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),tPolygon_redline1.remove(),measurement_Triangle.remove(),
measurement_Triangle2.remove(),cvjs_Measurement_RedlinePolyline())});jQuery("#cvjs_measurearea_checkbox").change(function(){if(jQuery(this).is(":checked")){cvjs_measureArea=!0;jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.TextArea);jQuery("#cvjs_closearea_button").show();cvjs_removeHandleFunc_MeasurementPolyline();tPolygon_redline1.attr({transform:"T0,0S0.01"});tRubberBand_poly_redline1.attr({path:"M0,0"});
var a="S0";measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a});measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a});tPolygon_redline1.remove();measurement_Triangle.remove();measurement_Triangle2.remove();cvjs_addHandleFunc_MeasurementFilledPolygon()}else cvjs_measureArea=!1,tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon(),jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+
languageTable.languages[cvjs_currentLanguage].MeasurementModal.Text),jQuery("#cvjs_closearea_button").hide(),tPolygon_redline1.attr({transform:"T0,0S0.01"}),tRubberBand_poly_redline1.attr({path:"M0,0"}),a="S0",measurement_Triangle.attr({fill:cvjs_currentRedline_color,transform:a}),measurement_Triangle2.attr({fill:cvjs_currentRedline_color,transform:a}),tPolygon_redline1.remove(),measurement_Triangle.remove(),measurement_Triangle2.remove(),cvjs_Measurement_RedlinePolyline()});jQuery("#cvjs_SelectVariablesTextBox").change(function(){cvjs_customPrintTextboxOnChange()});
jQuery("#cvjs_layerlist_checkbox").change(function(){cvjs_layerList_checkbox=jQuery(this).is(":checked")?!0:!1;cvjs_LayerListModalXrefOnChange(1)});jQuery("#cvjs_SelectLayerDrawings").change(function(){cvjs_LayerListModalXrefOnChange(2)});jQuery("#cvjs_entiredoc_checkbox").change(function(){cvjs_makePDFEntireDoc=jQuery(this).is(":checked")?!0:!1});jQuery("#cvjs_printpdf_checkbox").change(function(){cvjs_printPdf=jQuery(this).is(":checked")?!0:!1});jQuery("#cvjs_custom_checkbox").change(function(){if(jQuery(this).is(":checked")){cvjs_customPrintCheckbox=
!0;jQuery("#cvjs_printModalTextboxLocation").show();jQuery("#cvjs_printModalTextboxLocation_text").show();cvjs_customPrintDualTextboxMode&&(jQuery("#cvjs_printModalDualTextboxLocation").show(),jQuery("#cvjs_printModalDualTextboxLocation_text").show());var a="printModal";if(cvjs_customPrintCheckboxMode||cvjs_customPrintTextboxMode)a="printModalTextbox";var f=jQuery("."+a).css("height");f=f.substring(0,f.indexOf("px"));f=parseInt(f)+90}else{cvjs_customPrintCheckbox=!1;jQuery("#cvjs_printModalTextboxLocation").hide();
jQuery("#cvjs_printModalTextboxLocation_text").hide();cvjs_customPrintDualTextboxMode&&(jQuery("#cvjs_printModalDualTextboxLocation").hide(),jQuery("#cvjs_printModalDualTextboxLocation_text").hide());a="printModal";if(cvjs_customPrintCheckboxMode||cvjs_customPrintTextboxMode)a="printModalTextbox";f=jQuery("."+a).css("height");f=f.substring(0,f.indexOf("px"));f=parseInt(f)-90}jQuery("."+a).css("height",f+"px")})}var cvjs_customPrintTextboxOnChange_pre=1;
function cvjs_customPrintTextboxOnChange(){var a=jQuery("#cvjs_SelectVariablesTextBox").val();cvjs_printModalCustomTextBoxVariablesContent[cvjs_customPrintTextboxOnChange_pre-1]=jQuery("#printmodal_text").val();jQuery("#printmodal_text").val(cvjs_printModalCustomTextBoxVariablesContent[a-1]);cvjs_customPrintTextboxOnChange_pre=a}
function cvjs_LayerListModalXrefOnChange(a){var d=jQuery("#cvjs_SelectLayerDrawings").val(),f=document.getElementById("cvjs_SelectLayerDrawings").length,h=[];null==d?h[0]="none":(d=d.toString(),h=d.split(","));if(0==h[0].indexOf("none")&&2==a)for(cvjs_layerList.clear(),id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer);else if(h.length==f){cvjs_layerList.clear();for(i=0;i<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;i++){var n=
"javascript: cvjs_LayerListClick("+i+","+i+")";cvjs_layerList_checkbox?("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_spaceObjectLayerOnOff(floorplan_div_Array[cvjs_active_floorplan_div_nr],layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName,"off"),cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:n,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName})),
"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_spaceObjectLayerOnOff(floorplan_div_Array[cvjs_active_floorplan_div_nr],layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName,"on"),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName}))):("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&
(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:n,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})),"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})))}2==
a&&modal_all_layer_on()}else{f=d=!1;for(l=0;l<h.length;l++)0==h[l].indexOf("1")&&1==h[l].length&&(d=!0),2<=parseInt(h[l])&&(f=!0);cvjs_layerList.clear();var p=0;for(i=0;i<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;i++)if(n=layerTable[cvjs_active_floorplan_div_nr].layers[i].xRefFile,0==n.indexOf("none")&&d)n="javascript: cvjs_LayerListClick("+i+","+p+")",1==a?cvjs_layerList_checkbox?("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),
cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName})),"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName}))):("OFF"==
layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})),"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,
link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName}))):cvjs_layerList_checkbox?(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName})):(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,
link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})),p++;else{var q=!1;if(f)for(m=0;m<h.length;m++){var t=parseInt(h[m]);1<t&&(t=document.getElementById("cvjs_SelectLayerDrawings").options[t-1].text,console.log("first "+t+"  "+n),t=t.substring(languageTable.languages[cvjs_currentLanguage].LayerListModal.Xref.length+1),console.log("second "+t+" "+n),0==t.indexOf(n)&&t.length==n.length&&(q=!0))}q?(n="javascript: cvjs_LayerListClick("+i+","+p+")",1==a?cvjs_layerList_checkbox?
("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName})),"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,
link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName}))):("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})),"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),
cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName}))):cvjs_layerList_checkbox?(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerBaseName})):(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer),
cvjs_layerList.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On,link:n,id:p,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})),p++):cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[i].layer)}}}function cvjs_line_thickness_modal_hide(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#linethicknessModal_"+a).hide()}
function cvjs_exit_documentpagechangemodal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#documentPageChangeModal_"+a).hide()}function cvjs_exit_redlinethicknessmodal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#thicknessModal_"+a).hide()}function cvjs_exit_informationmodal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#info_messageModal_"+a).modal("hide")}
function cvjs_exit_informationmodal_2(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#info_messageModal_2_"+a).hide()}function cvjs_exit_textsearchmodal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#textsearchModal_"+a).hide();jQuery(cvjs_textSearchPreElement).css("fill",cvjs_textSearchPreFill)}
function cvjs_exit_layerlist_spaceobjects(a){for(i=0;i<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;i++){var d=cvjs_layerListSpace.get("id",i)[0].values().text_room_layer;-1<d.indexOf(languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned)||(-1<d.indexOf(languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.TextLayer)?cvjs_convertTextLayer=layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName:cvjs_convertRoomLayer=layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName)}cvjs_layerListSpace.clear();
jQuery("#layerListSpaceObject_"+a).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1}function cvjs_exit_layerlist(a){cvjs_layerList.clear();jQuery("#layerList_"+a).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1}function cvjs_exit_pagechangelist(a){cvjs_pagechangeList.clear();jQuery("#pagechangeList_"+a).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1}
function cvjs_exitLineThicknessModal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#linethicknessModal_"+a).hide()}
function cvjs_adjustMinimumLineThickness(a){a/=100;cvjs_svgLineThickness=!0;console.log("factor ="+a+" "+cvjs_svgLineThickness);if(0<a)if(cvjs_svgLineThickness){console.log("We are adjusting!!!");var d={},f="*[id]";cvjs_zeroWidthHandling&&(f="*[id] .ZW");jQuery(f).each(function(){var a=jQuery(this).attr("id");d[a]||(d[a]=!0)});for(var h in d)try{if(f="#"+h,0==jQuery(f).parent().attr("id").indexOf("layer_")||0==jQuery(f).parent().attr("id").indexOf("Layer_")){var n=jQuery(f).css("stroke-width");-1<
n.indexOf("px")&&(n=n.substring(0,n.indexOf("px")),n=parseFloat(n));n*=a;jQuery(f).css("stroke-width",n)}}catch(p){}}else cvjs_MinWidth*=a,layers_all.clear(),drawDrawing(cvjs_rPaper[cvjs_active_floorplan_div_nr]),cvjs_masterBackground[cvjs_active_floorplan_div_nr].add(layers_all)}
var linethickness_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],first_thickness=!0,reference_thickness=.3,cvjs_cvStyles_part1="",cvjs_cvStyles_part2="",lineSliderValue=.3,lineSliderValue3=1,lineSliderStartValue=100,lineSliderStartValue3=100,lineSliderMax=.5,lineSliderStep=lineSliderMax/5,cvjs_MinWidthSVG=1,cvjs_MinWidthSVGZW=.6,cvjs_MinWidthSVGZWfactor=1,cvjs_svgLineThickness=!1,cvjs_SVGLineThicknessArray={};
function cvjs_activateLineThicknessModal(a){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");linethickness_offset_flag[cvjs_active_floorplan_div_nr]&&(linethickness_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#linethicknessModal_"+a).css({position:"fixed"}),jQuery("#linethicknessModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}));
if(first_thickness){var d=first_thickness=!1;try{reference_thickness=cvjs_MinWidth}catch(t){d=!0}try{-1==cvjs_MinWidth&&(cvjs_MinWidth=reference_thickness=1,d=!0)}catch(t){d=!0}var f=jQuery("#cv_styles").html();try{cvjs_cvStyles_part1=f.substring(0,f.indexOf("tmsMinLineWidth:")+17);cvjs_cvStyles_part2=f.substring(f.indexOf("tmsMinLineWidth:")+17);cvjs_cvStyles_part2=cvjs_cvStyles_part2.substring(cvjs_cvStyles_part2.indexOf(";"));var h=f.substring(f.indexOf("tmsMinLineWidth:")+17);h=h.substring(0,
h.indexOf(";"));cvjs_MinWidthSVGZW=parseFloat(h)}catch(t){f=document.querySelector(".ZW");f=getComputedStyle(f).getPropertyValue("stroke-width");try{cvjs_MinWidthSVGZW=parseFloat(f.substring(0,f.indexOf("px")))}catch(u){console.log("cv_styles as getproperty value: "+u)}}if(d){reference_thickness=cvjs_MinWidthSVG=1;cvjs_svgLineThickness=!0;cvjs_SVGLineThicknessArray={};var n={};jQuery("*[id^='cv_']").each(function(a,d){a=jQuery(this).attr("id");n[a]||(n[a]=!0)});for(var p in n)try{if(d="#"+p,0==jQuery(d).parent().attr("id").indexOf("cvclr_")&&
!jQuery(d).hasClass("ZW")){var q=jQuery(d).css("stroke-width");-1<q.indexOf("px")&&(q=q.substring(0,q.indexOf("px")),q=parseFloat(q));cvjs_SVGLineThicknessArray[p]=q}}catch(t){}}}try{lineSliderValue=cvjs_MinWidth}catch(t){lineSliderValue=cvjs_MinWidthSVG}lineSliderStartValue3=lineSliderStartValue=100;jQuery("#cvjs_slider2_"+a).slider("value",lineSliderStartValue);try{jQuery("#lineThickness_"+a).val(cvjs_MinWidth.toFixed(2))}catch(t){jQuery("#lineThickness_"+a).val(cvjs_MinWidthSVG.toFixed(2))}jQuery("#linethicknessModal_"+
a).show()}}
var cvjs_iconInterfaceDisabled=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_iconInterfaceClassicSkin=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_iconInterfaceClassicSkinDeviceSize=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_iconInterfaceClassicSkin_MinimumDisk=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pageChangeInterfaceFalse_noIconNavigation=[!1,
!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_iconInterfaceClassicSkin_PanZoomDisk=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],pageChangeInterface=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],interfaceCounterDiv="                             ".split(" "),interfaceCounter=0;
function cvjs_interfaceCounterIndex(a){for(var d=0;d<interfaceCounterDiv.length;d++)if(-1<interfaceCounterDiv[d].indexOf(a)&&interfaceCounterDiv[d].length==a.length)return d;a+="_svg";for(d=0;d<interfaceCounterDiv.length;d++)if(-1<interfaceCounterDiv[d].indexOf(a)&&interfaceCounterDiv[d].length==a.length)return d;return 0}function cvjs_displayAllInterfaceControlsZoomDisk(a){jQuery("#gMenu_"+(a+"_svg")).show()}function cvjs_hideAllInterfaceControls(a){jQuery("#gMenu_"+(a+"_svg")).hide()}
function cvjs_setIconInterfaceControls_PageModal(a,d,f){interfaceCounter++;var h=interfaceCounter;interfaceCounterDiv[h]=f+"_svg";pageChangeInterface[h]=a;pageChangeInterfaceFalse_noIconNavigation[h]=d}function cvjs_setIconInterfaceControls_DisableIcons(a,d){interfaceCounter++;var f=interfaceCounter;interfaceCounterDiv[f]=d+"_svg";cvjs_iconInterfaceDisabled[f]=a;pageChangeInterface[f]=!1;cvjs_iconInterfaceClassicSkin[f]=!1}
function cvjs_displayAllInterfaceControls(a,d){var f=cvjs_interfaceCounterIndex(d);0<f||(interfaceCounter++,f=interfaceCounter,interfaceCounterDiv[f]=d+"_svg");cvjs_iconInterfaceDisabled[f]=!a;pageChangeInterface[f]=!1;cvjs_iconInterfaceClassicSkin[f]=!1;cvjs_loadTopIconMenuVisible[f]=a;cvjs_loadTopIconNavigationVisible[f]=a}
function cvjs_setIconInterfaceControls_ClassicSkin(a,d){interfaceCounter++;var f=interfaceCounter;interfaceCounterDiv[f]=d+"_svg";cvjs_iconInterfaceDisabled[f]=a;pageChangeInterface[f]=!1;cvjs_iconInterfaceClassicSkin[f]=a;cvjs_iconInterfaceClassicSkinDeviceSize[f]=!1}
function cvjs_setIconInterfaceControls_ClassicSkin_DevicesSizeOnly(a,d){interfaceCounter++;var f=interfaceCounter;interfaceCounterDiv[f]=d+"_svg";cvjs_iconInterfaceDisabled[f]=a;pageChangeInterface[f]=!1;cvjs_iconInterfaceClassicSkin[f]=a;cvjs_iconInterfaceClassicSkinDeviceSize[f]=a}
function cvjs_setIconInterfaceControls_MimimumDisk(a,d){var f=cvjs_interfaceCounterIndex(d);0<f||(interfaceCounter++,f=interfaceCounter,interfaceCounterDiv[f]=d+"_svg");cvjs_iconInterfaceDisabled[f]||(cvjs_iconInterfaceDisabled[f]=a,pageChangeInterface[f]=!1,cvjs_iconInterfaceClassicSkin[f]=a,cvjs_iconInterfaceClassicSkinDeviceSize[f]=!1,cvjs_iconInterfaceClassicSkin_MinimumDisk[f]=a,window.alert(" 2cvjs_applicationFolder"+cvjs_applicationFolder),jQuery("<link/>",{rel:"stylesheet",type:"text/css",
href:cvjs_applicationFolder+"/user_resources/css/font-awesome.css"}).appendTo("head"))}
function cvjs_setIconInterfaceControls_MimimumDisk_internal(a,d){d=cvjs_interfaceCounterIndex(d);cvjs_iconInterfaceDisabled[d]||(cvjs_iconInterfaceDisabled[d]=a,pageChangeInterface[d]=!1,cvjs_iconInterfaceClassicSkin[d]=a,cvjs_iconInterfaceClassicSkinDeviceSize[d]=!1,cvjs_iconInterfaceClassicSkin_MinimumDisk[d]=a,jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/font-awesome.css"}).appendTo("head"))}
function cvjs_setIconInterfaceControls_PanZoomDisk(a,d){interfaceCounter++;var f=interfaceCounter;interfaceCounterDiv[f]=d+"_svg";cvjs_iconInterfaceDisabled[f]=a;pageChangeInterface[f]=!1;cvjs_iconInterfaceClassicSkin[f]=a;cvjs_iconInterfaceClassicSkinDeviceSize[f]=!1;cvjs_iconInterfaceClassicSkin_MinimumDisk[f]=!1;cvjs_iconInterfaceClassicSkin_PanZoomDisk[f]=a}function cvjs_overwriteDefaultDeviceSettings(a){a&&(isSmartPhoneOrTablet=!1)}
var floorPlan_div="",cvjs_location_flag=!0,hbody="",hbody_2="",dual_hbody_flag=!1;function cvjs_initFloorPlanDivArray(a){var d=floorplan_div_Array.length;cvjs_active_floorplan_div_nr=d;floorplan_div_Array[d]=a;floorplan_div_Array_current_Drawing[d]="";vqRooms[d]=[]}function cvjs_InitCADViewer_highLight_popUp_dual_Id(a,d,f,h,n,p){cvjs_InitCADViewerJS_highLight_popUp_dual_Id(a,d,f,h,n,p)}
function cvjs_InitCADViewerJS_highLight_popUp_dual_Id(a,d,f,h,n,p){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",
stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';hbody_2='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';
hbody_2+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';void 0!=d&&(defaultColor=d);void 0!=f&&(highlight=f);void 0!=h&&(selectColor=h);void 0!=n&&(hbody=n);void 0!=p&&(hbody_2=p);dual_hbody_flag=!0}function cvjs_InitCADViewer_highLight_popUp_app(a,d,f,h,n,p){cvjs_InitCADViewerJS_highLight_popUp_app(a,d,f,h,n,p)}
function cvjs_InitCADViewerJS_highLight_popUp_app(a,d,f,h,n,p){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_imagesLocation=cvjs_applicationFolder+"/images/";cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/";cvjs_defaultJSPath=cvjs_applicationFolder+"/js/";void 0!=d&&(cvjs_applicationFolder=
d,cvjs_imagesLocation=cvjs_applicationFolder+"/images/",cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/",cvjs_defaultJSPath=cvjs_applicationFolder+"/js/");cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';
hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';void 0!=f&&(defaultColor=f);void 0!=h&&(highlight=h);void 0!=n&&(selectColor=n);void 0!=p&&(hbody=p);dual_hbody_flag=!1}function cvjs_InitCADViewer_highLight_popUp(a,d,f,h,n){cvjs_InitCADViewerJS_highLight_popUp(a,d,f,h,n)}
function cvjs_InitCADViewerJS_highLight_popUp(a,d,f,h,n){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4",
"stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';void 0!=d&&(defaultColor=d);void 0!=f&&
(highlight=f);void 0!=h&&(selectColor=h);void 0!=n&&(hbody=n);dual_hbody_flag=!1}function cvjs_InitCADViewer_highLight(a,d,f,h){cvjs_InitCADViewerJS_highLight(a,d,f,h)}
function cvjs_InitCADViewerJS_highLight(a,d,f,h){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4",
"stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';void 0!=d&&(defaultColor=d);void 0!=f&&
(highlight=f);void 0!=h&&(selectColor=h);dual_hbody_flag=!1}var cvjs_applicationFolder="../app/";function cvjs_InitCADViewer_app(a,d,f){cvjs_InitCADViewerJS_app(a,d,f)}
function cvjs_InitCADViewerJS_app(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_imagesLocation=cvjs_applicationFolder+"/images/";cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/";cvjs_defaultJSPath=cvjs_applicationFolder+"/js/";void 0!=d&&(cvjs_applicationFolder=d,cvjs_imagesLocation=
cvjs_applicationFolder+"/images/",cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/",cvjs_defaultJSPath=cvjs_applicationFolder+"/js/");cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';
hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';dual_hbody_flag=!1}function cvjs_InitCADViewer_app_highLight(a,d,f,h,n){cvjs_InitCADViewerJS_app_highLight(a,d,f,h,n)}
function cvjs_InitCADViewerJS_app_highLight(a,d,f,h,n){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_imagesLocation=cvjs_applicationFolder+"/images/";cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/";cvjs_defaultJSPath=cvjs_applicationFolder+"/js/";void 0!=d&&(cvjs_applicationFolder=
d,cvjs_imagesLocation=cvjs_applicationFolder+"/images/",cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/",cvjs_defaultJSPath=cvjs_applicationFolder+"/js/");cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';
hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';dual_hbody_flag=!1;void 0!=f&&(defaultColor=f);void 0!=h&&(highlight=h);void 0!=n&&(selectColor=n)}function cvjs_InitCADViewer_app_highLight_popUp(a,d,f,h,n,p){cvjs_InitCADViewerJS_app_highLight_popUp(a,d,f,h,n,p)}
function cvjs_InitCADViewerJS_app_highLight_popUp(a,d,f,h,n,p){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);cvjs_imagesLocation=cvjs_applicationFolder+"/images/";cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/";cvjs_defaultJSPath=cvjs_applicationFolder+"/js/";void 0!=d&&(cvjs_applicationFolder=
d,cvjs_imagesLocation=cvjs_applicationFolder+"/images/",cvjs_relativeScriptsPath=cvjs_applicationFolder+"/js/",cvjs_defaultJSPath=cvjs_applicationFolder+"/js/");cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';
hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';dual_hbody_flag=!1;void 0!=f&&(defaultColor=f);void 0!=h&&(highlight=h);void 0!=n&&(selectColor=n);void 0!=p&&(hbody=p);dual_hbody_flag=!1}function cvjs_InitCADViewer(a,d,f){cvjs_InitCADViewerJS(a,d,f)}
function cvjs_InitCADViewerJS(a,d,f){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);-1==cvjs_active_floorplan_div_nr&&(cvjs_initFloorPlanDivArray(a+"_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_location_flag=!0;cvjs_Community_Version||(lastObj[cvjs_active_floorplan_div_nr]=-1);void 0!=d&&(cvjs_imagesLocation=d);void 0!=f&&(cvjs_defaultJSPath=cvjs_relativeScriptsPath=f);cvjs_InitializeModals(a);defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};
highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};hbody='<div class="cvjs_modal_1" onclick="my_own_clickmenu1();">Custom<br>Menu 1<br><i class="fa fa-undo"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="my_own_clickmenu2();">Custom<br>Menu 2<br><i class="fa fa-info-circle"></i></div>';hbody+='<div class="cvjs_modal_1" onclick="cvjs_zoomHere();">Zoom<br>Here<br><i class="fa fa-search-plus"></i></div>';
dual_hbody_flag=!1}var cvjs_imagesLocation="../images/",floor_loaded=!1,nodes_loaded=!1,stickynotesRedlines_loaded=!1,current_jsNodesFloorNames="",current_jsThumbFloorNames="",current_jsFullFloorNames="",current_jsFloorNames="",current_jsRedlinename="",current_js_initialized=0,current_redline_js_initialized=0,js_loaded_flag=0,current_FileNamePath="",cvjs_relativeScriptsPath="../app/js";function cvjs_setRelativeScriptsPath(a){cvjs_relativeScriptsPath=a}
var cvjs_customPdfFolderFlag=!1,cvjs_customPdfFolderName="",cvjs_customPdfFolderForcedUpdate=!1;function cvjs_setCustomPdfFolder(a,d){cvjs_customPdfFolderFlag=!0;cvjs_customPdfFolderName=a;cvjs_customPdfFolderForcedUpdate=d}function cvjs_getCurrentPage(){return cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]?cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage:multiPages[cvjs_active_floorplan_div_nr].currentPage}
function cvjs_LoadDrawingPDF_base(a){var d="",f="",h=cvjs_serverHandlersPath+cvjs_returnPDFparamsController;console.log("pdf configuration file "+h);jQuery.ajax({url:h,type:"post",data:{file:""},success:function(h){console.log("return from fUrl: "+h);var n=h;h=n.substring(0,n.indexOf("|"));n=n.substring(n.indexOf("|")+1);n=n.substring(0,n.indexOf("|"));d=h;f=n;h=d;n=f;var q=cvjs_serverHandlersPath+cvjs_serverPDFConverterController,t={};t.pdf_file=a;t.temp_dir="pdf/"+Math.floor(1E5*Math.random()+1);
t.custom_folder=0;cvjs_customPdfFolderFlag&&(t.temp_dir="pdf/custom_"+cvjs_customPdfFolderName,t.custom_folder=cvjs_customPdfFolderForcedUpdate?0:1);cvjs_debug&&console.log(t.pdf_file+" Temp folder: "+t.temp_dir);var u=t.temp_dir;h=d+u;n=f+u;cvjs_multipagePDFtoSVG_tempDir=u;var v=a.substring(a.lastIndexOf("/")+1,a.lastIndexOf("."));t.file_name=v;cvjs_multipageURL_FileNamePath=n;cvjs_multipage_FileNamePath=h;t.request_type="pages";jQuery.ajax({url:q,type:"post",data:t,success:function(a){cvjs_debug&&
console.log("WE now have the number of pages + status: "+a);a=a.split(" ");var d=parseInt(a[0]);if(1<=d){cvjs_debug&&console.log("Creating multipage SVG page structure n.length="+d.length+" "+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName);cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].multiPages=d;cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage=1;for(var f=0;f<d;f++){var h=v+"_"+(f+1)+".svg",n="Page "+(f+1);cvjs_debug&&console.log(h+" "+n);cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[f]=
{fileName:h,pageName:n}}cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]=!0;cvjs_PDFloadFlag=!1;actualLLX[cvjs_active_floorplan_div_nr]=0;actualLLY[cvjs_active_floorplan_div_nr]=0;actualURX[cvjs_active_floorplan_div_nr]=1;actualURY[cvjs_active_floorplan_div_nr]=1;cvjs_checkSVGOnServerBeforeLoadFirst()}"0"==a[1]&&(t.request_type="svg_conversion",jQuery.ajax({url:q,type:"post",data:t,success:function(a){cvjs_debug&&console.log("NOW THE ENTIRE PDF IS CONVERTED");jQuery.ajax({url:cvjs_serverHandlersPath+
cvjs_serverPDFSplitController,type:"post",data:t,success:function(a){cvjs_debug&&console.log("We have now split the PDF")}})}}))}})}})}
function cvjs_checkSVGOnServerBeforeLoadFirst(){var a="";a=cvjs_multipagePDFtoSVG_PhpLoadFlag?0==cvjs_getFileController.indexOf("getFile_09.php")?cvjs_phpPath+"getFile_09.php?fileTag="+cvjs_multipagePDFtoSVG_tempDir+"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.substring(0,cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.indexOf(".svg"))+"&remainOnServer=1&Type=svg":cvjs_serverHandlersPath+cvjs_getFileController+"?fileTag="+cvjs_multipagePDFtoSVG_tempDir+
"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.substring(0,cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.indexOf(".svg"))+"&remainOnServer=1&Type=svg":cvjs_multipageURL_FileNamePath+"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName;jQuery.ajax({url:a,type:"HEAD",error:function(){console.log("does not exist");setTimeout(function(){cvjs_checkSVGOnServerBeforeLoadFirst()},2500)},success:function(){console.log("exist");cvjs_debug&&console.log("loading "+
cvjs_multipageURL_FileNamePath+"  /  "+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName);cvjs_multipagePDFtoSVG_PhpLoadFlag?0==cvjs_getFileController.indexOf("getFile_09.php")?cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_phpPath+"getFile_09.php?fileTag="+cvjs_multipagePDFtoSVG_tempDir+"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.substring(0,cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.indexOf(".svg"))+
"&remainOnServer=1&Type=svg",void 0,!0):cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_serverHandlersPath+cvjs_getFileController+"?fileTag="+cvjs_multipagePDFtoSVG_tempDir+"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.substring(0,cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName.indexOf(".svg"))+"&remainOnServer=1&Type=svg",void 0,!0):cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_multipageURL_FileNamePath+
"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName,void 0,!0)}})}
function cvjs_checkSVGOnServerBeforeLoad(a){var d="";d=cvjs_multipagePDFtoSVG_PhpLoadFlag?0==cvjs_getFileController.indexOf("getFile_09.php")?cvjs_phpPath+"getFile_09.php?fileTag="+cvjs_multipagePDFtoSVG_tempDir+"/"+a.substring(0,a.indexOf(".svg"))+"&remainOnServer=1&Type=svg":cvjs_serverHandlersPath+cvjs_getFileController+"?fileTag="+cvjs_multipagePDFtoSVG_tempDir+"/"+a.substring(0,a.indexOf(".svg"))+"&remainOnServer=1&Type=svg":cvjs_multipageURL_FileNamePath+"/"+a;jQuery.ajax({url:d,type:"HEAD",
error:function(){console.log("does not exist "+a);setTimeout(function(){cvjs_checkSVGOnServerBeforeLoad(a)},2500)},success:function(){console.log("exist");cvjs_debug&&console.log("loading "+cvjs_multipageURL_FileNamePath+"  /  "+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName);cvjs_multipagePDFtoSVG_PhpLoadFlag?0==cvjs_getFileController.indexOf("getFile_09.php")?cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_phpPath+"getFile_09.php?fileTag="+cvjs_multipagePDFtoSVG_tempDir+
"/"+a.substring(0,a.indexOf(".svg"))+"&remainOnServer=1&Type=svg"):cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_serverHandlersPath+cvjs_getFileController+"?fileTag="+cvjs_multipagePDFtoSVG_tempDir+"/"+a.substring(0,a.indexOf(".svg"))+"&remainOnServer=1&Type=svg"):cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_multipageURL_FileNamePath+"/"+a)}})}var currentLoadedDrawingFullName="";
function cvjs_ClearDrawing(a){if(cvjs_loadInProgress)console.log("CADViewer: another load in progress, cannot clear: "+a);else{cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_rPaper[cvjs_active_floorplan_div_nr]=null;for(var d=document.getElementById(floorplan_div_Array[cvjs_active_floorplan_div_nr]);d.firstChild;)d.removeChild(d.firstChild);cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap("#"+a+"_svg")}}
function cvjs_LoadDrawing(a,d){currentLoadedDrawingFullName=d;cvjs_LoadDrawingInternal(a,d,void 0,!1)}var cvjs_firstLoad=!1,default_full_loaded=!1,flagSetUpVqPngDefault=!1,floorplan_div_Array=[],floorplan_div_Array_current_Drawing=[],loading_active_floorplan_div="",json_inputfile_flag=!1,json_inputfile_name="";
function cvjs_LoadDrawingInternal(a,d,f,h){cvjs_loadInProgress=!1;cvjs_setBackgroundColorHex("none",a);void 0==h&&(h=!1);if(cvjs_loadInProgress&&!h){console.log("CADViewer: another load in progress, aborting: "+a+"  "+d+" we have "+cvjs_active_floorplan_div_nr);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(loading_active_floorplan_div);console.log("Setting back : "+cvjs_active_floorplan_div_nr+"  "+loading_active_floorplan_div);try{cvjs_LoadDrawingAborted(a,d)}catch(w){cvjs_debug&&console.log("cvjs_LoadDrawing: "+
w)}}else{cvjs_loadInProgress||h||(cvjs_firstLoad=cvjs_loadInProgress=!0);!cvjs_loadInProgress&&h&&(cvjs_loadInProgress=!0,cvjs_firstLoad=!1);loading_active_floorplan_div=a;cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);console.log(cvjs_versionNumber+" Loading: "+d);a=a.toString();if(-1==a.indexOf("_svg")||-1<a.indexOf("_svg")&&a.indexOf("_svg")<a.length-4)a+="_svg";void 0==f?currentLoadedDrawingFullName=d:(currentLoadedDrawingFullName=d+f+".js",cvjs_FileNameNoExtension=f);if(void 0==f){var n=h=
"",p=d.substring(d.lastIndexOf(".")+1),q="",t=!1;-1<d.indexOf("fileName=")?(p=q=d.substring(d.lastIndexOf(".")+1),h=d.substring(0,d.lastIndexOf("fileName=")+9),n=d.substring(d.lastIndexOf("fileName=")+9),p=d.substring(d.lastIndexOf(".")+1),"svg"==q&&(t=!0),cvjs_debug&&console.log("fileName branch")):-1<d.indexOf("Type=")?(p=q=d.substring(d.lastIndexOf("Type=")+5),h=d.substring(0,d.lastIndexOf("/")+1),n=d.substring(d.lastIndexOf("/")),p=d.substring(d.lastIndexOf("=")+1),"svg"==q&&(t=!0)):(h=d.substring(0,
d.lastIndexOf("/")+1),cvjs_FileNameNoExtension=n=d.substring(d.lastIndexOf("/")+1,d.lastIndexOf(".")),p=d.substring(d.lastIndexOf(".")+1));fileExtensionLower=p.toLowerCase();cvjs_debug&&console.log("fileExtension="+p+" lower "+fileExtensionLower);for(q=0;q<floorplan_div_Array.length;q++)floorplan_div_Array[q]==a&&(floorplan_div_Array_current_Drawing[q]=d,cvjs_active_floorplan_div_nr=q,cvjs_scrollMouse_intialized[q]=!1,vqRooms[q]=[]);if(0==fileExtensionLower.indexOf("json")){d=h;f=n;fileLoad_contentFormat=
"JSON";n=cvjs_serverHandlersPath+cvjs_serverMergeDWGController;h={base_file:"none"};var u=d;-1<d.indexOf(cvjs_ServerUrl)&&(u=cvjs_ServerLocation+d.substring(cvjs_ServerUrl.length));h.merge_file=u+f+"."+p;h.out_file=cvjs_ServerLocation+"/converters/files/merged/"+f+".dwg";h.zip_output="false";h.QR_code="false";json_inputfile_flag=!0;jQuery.ajax({url:n,type:"post",data:h,async:!0,success:function(h){d=cvjs_ServerLocation+"/converters/files/merged/"+f+".dwg";p=fileExtensionLower="dwg";0==fileExtensionLower.indexOf("dwg")&&
cvjs_conversion_setContentFormat("DWG");cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;cvjs_LoadDrawing_Conversion(a,d,f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr])},error:function(a){console.log("Error Merge "+a)}});return}0==fileExtensionLower.indexOf("js")&&(d=h,f=n,fileLoad_contentFormat="JS");if(0==fileExtensionLower.indexOf("png")||
0==fileExtensionLower.indexOf("gif")||0==fileExtensionLower.indexOf("jpg")||0==fileExtensionLower.indexOf("jpeg"))d=h,f=n,fileLoad_contentFormat=p;if(0==fileExtensionLower.indexOf("tif")||0==fileExtensionLower.indexOf("tiff")||0<" cut dds exr g3 hdr ico iff jng mng pcx pbm pfm pgm ppm pict psd raw ras sgi targa wbmp webp xbm xpm jpx j2c jxr jif".indexOf(fileExtensionLower)){0==fileExtensionLower.indexOf("tif")?cvjs_conversion_setContentFormat("TIF"):0==fileExtensionLower.indexOf("tiff")?cvjs_conversion_setContentFormat("TIF"):
cvjs_conversion_setContentFormat(fileExtensionLower.toUpperCase());cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;cvjs_LoadDrawing_Conversion(a,d,f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]);return}if(cvjs_firstLoad&&cvjs_isAngular&&0==fileExtensionLower.indexOf("svg")){cvjs_conversion_setContentFormat("SVG");cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=
fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;cvjs_debug&&console.log("ANGULAR before loading cvjs_LoadDrawing_Conversion( drawing: "+d+"   "+f);cvjs_LoadDrawing_Conversion(a,d,f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]);return}if(0==fileExtensionLower.indexOf("dwg")||0==fileExtensionLower.indexOf("dwf")||0==fileExtensionLower.indexOf("dxf")){0==fileExtensionLower.indexOf("dwg")&&
cvjs_conversion_setContentFormat("DWG");0==fileExtensionLower.indexOf("dwf")&&cvjs_conversion_setContentFormat("DWF");0==fileExtensionLower.indexOf("dxf")&&cvjs_conversion_setContentFormat("DXF");cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;cvjs_LoadDrawing_Conversion(a,d,f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]);
return}if(0==fileExtensionLower.indexOf("dgn")){cvjs_debug&&console.log("IN DGN BRANCH");cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;0==fileExtensionLower.indexOf("dgn")&&cvjs_conversion_setContentFormat("DGN");cvjs_LoadDrawing_Conversion(a,d,f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]);return}if(0==fileExtensionLower.indexOf("pcf")){cvjs_debug&&
console.log("IN PCF BRANCH");cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;0==fileExtensionLower.indexOf("pcf")&&cvjs_conversion_setContentFormat("PCF");cvjs_LoadDrawing_Conversion(a,d,f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]);return}if(0==fileExtensionLower.indexOf("txt")||0==fileExtensionLower.indexOf("svg")||0==
fileExtensionLower.indexOf("svgz")){if(cvjs_firstLoad&&cvjs_fileLoadingFromSharePointServer){cvjs_firstLoad=!1;u=cvjs_serverHandlersPath+"CV-JS_sharepoint_downloadfile.php";var v=h+n+"."+p;v=v.replace(/%20/g," ");n={};n.sharepointfilename=v;n.targetfile=sharePoint_dataServerPath+v;n.user_name=cvjs_sharepoint_UserName;cvjs_debug&&console.log("share point SVG filename="+v+"  "+cvjs_sharepoint_UserName+" "+(sharePoint_dataServerPath+v)+" "+sharePoint_dataUrlPath);jQuery.ajax({url:u,type:"post",data:n,
success:function(a){console.log("download response"+a);SVGloadFile=sharePoint_dataUrlPath+v;t&&(SVGloadFile=d,t=!1);d=cvjs_relativeScriptsPath;cvjs_debug&&console.log("SVGloadFile "+SVGloadFile);6<SVGloadFile.lastIndexOf("://")&&(6<SVGloadFile.lastIndexOf("http://")?SVGloadFile=SVGloadFile.substring(SVGloadFile.lastIndexOf("http://")):6<SVGloadFile.lastIndexOf("https://")&&(SVGloadFile=SVGloadFile.substring(SVGloadFile.lastIndexOf("https://"))));cvjs_debug&&console.log("After http / httpsSVGloadFile "+
SVGloadFile);thumbs_loaded=floor_loaded=nodes_loaded=SVGloadFlag=!0;buildings={BUILDING_NAME_GOES_HERE:{name:"",company:"",address:"",city:"",state:"",zipcode:"",country:"",FacMgr:"",FacMgr_title:"",FacMgr_email:"",FacMgr_phone:"",floors:{FLOOR_NAME_GOES_HERE:{name:"name_of_file_to_appear",file:"file_name",rooms:{}}}}};if(null==cvjs_rPaper[cvjs_active_floorplan_div_nr]||void 0==cvjs_rPaper[cvjs_active_floorplan_div_nr])cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]),
console.log(cvjs_active_floorplan_div_nr+"  "+floorplan_div_Array[cvjs_active_floorplan_div_nr]);fileOverlay?cvjs_debug&&console.log("file overlay we do nothing, setup after SVG"):(layers_all=cvjs_rPaper[cvjs_active_floorplan_div_nr].g(),cvjs_Community_Version||(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()));SetUpVq(1,15)},error:function(a){console.log("2 json getEngines error="+a)}})}else{json_inputfile_flag&&(json_inputfile_flag=!1,cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=
cvjs_preConversionFileName[cvjs_active_floorplan_div_nr].substring(0,cvjs_preConversionFileName[cvjs_active_floorplan_div_nr].lastIndexOf("."))+".json",cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]="json");cvjs_firstLoad&&(cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower,cvjs_firstLoad=!1);SVGloadFile=h+n+"."+p;cvjs_buildFolderTree_crossDomain&&(SVGloadFile=0<SVGloadFile.indexOf("converters/files/pdf")?cvjs_serverHandlersPath+cvjs_serverLoadFileController+
"?file="+cvjs_ServerLocation+SVGloadFile.substring(SVGloadFile.indexOf("/converters/files/pdf")):cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+SVGloadFile);t&&(SVGloadFile=d,t=!1);d=cvjs_relativeScriptsPath;cvjs_debug&&console.log("SVGloadFile "+SVGloadFile);thumbs_loaded=floor_loaded=nodes_loaded=SVGloadFlag=!0;buildings={BUILDING_NAME_GOES_HERE:{name:"",company:"",address:"",city:"",state:"",zipcode:"",country:"",FacMgr:"",FacMgr_title:"",FacMgr_email:"",FacMgr_phone:"",floors:{FLOOR_NAME_GOES_HERE:{name:"name_of_file_to_appear",
file:"file_name",rooms:{}}}}};cvjs_debug&&console.log("ZX1 Standard SVG load cvjs_active_floorplan_div_nr="+cvjs_active_floorplan_div_nr);if(null==cvjs_rPaper[cvjs_active_floorplan_div_nr]||void 0==cvjs_rPaper[cvjs_active_floorplan_div_nr])cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]),console.log(cvjs_active_floorplan_div_nr+"  "+floorplan_div_Array[cvjs_active_floorplan_div_nr]);fileOverlay?cvjs_debug&&console.log("file overlay we do nothing, setup after SVG"):
(layers_all=cvjs_rPaper[cvjs_active_floorplan_div_nr].g(),cvjs_Community_Version||(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()));SetUpVq(1,15)}return}if(0==fileExtensionLower.indexOf("pdf")){0==fileExtensionLower.indexOf("pdf")&&cvjs_conversion_setContentFormat("PDF");cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]=d;cvjs_LoadDrawing_Conversion(a,d,
f,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]);return}fileExtensionLower.indexOf("pdf")}try{SVGloadedFragment=!1;if(cvjs_initMasterBackground){for(u=document.getElementById(floorplan_div_Array[cvjs_active_floorplan_div_nr]);u.firstChild;)u.removeChild(u.firstChild);try{cvjs_debug&&console.log("before remove "+vqRooms[0].length)}catch(w){console.log(w)}cvjs_rPaper[cvjs_active_floorplan_div_nr]=null;cvjs_rPaper[cvjs_active_floorplan_div_nr]||
(cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap("#"+a))}cvjs_debug&&console.log("REMOVED removed  SVGloadFlag"+SVGloadFlag+" SVGloadedFragment"+SVGloadedFragment)}catch(w){}jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading+"</div></td></tr></table>");jQuery("#cvjs_wait_looper_text_id_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading);cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();
printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();cvjs_objectIsZoomedExtents=!0;cvjs_loadDrawing_conversionMode=!1;cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]=d;jQuery("#"+a).html("");VqSetup=thumbs_loaded=nodes_loaded=floor_loaded=!1;current_FileNamePath=d;js_loaded_flag=0;if(0==fileLoad_contentFormat.indexOf("JS"))1==current_js_initialized?(cvjs_debug&&console.log(f.indexOf("Type=")+" JS ileNamePath.indexOf('Type=')  replacing current_jsFloorNames="+
current_jsFloorNames+"  "+d+f),-1<f.indexOf("Type=")?replacejscssfile(current_jsFloorNames,d+f,"js"):replacejscssfile(current_jsFloorNames,d+f+".js","js"),cvjs_FourFilesInOne||(replacejscssfile(current_jsNodesFloorNames,d+f+"-nodes.js","js"),replacejscssfile(current_jsThumbFloorNames,d+f+"-thumb.js","js"),replacejscssfile(current_jsFullFloorNames,d+f+"-full.js","js"))):(cvjs_debug&&console.log("initial loading .js file files! "+d+f),current_js_initialized=1,-1<d.indexOf("Type=")?loadJSbase(d+f,"js"):
loadJSbase(d+f+".js"),cvjs_FourFilesInOne||(loadJSbase(d+f+"-nodes.js"),loadJSbase(d+f+"-thumb.js"),loadJSbase(d+f+"-full.js"))),cvjs_FourFilesInOne||(current_jsNodesFloorNames=d+f+"-nodes.js",current_jsThumbFloorNames=d+f+"-thumb.js",current_jsFullFloorNames=d+f+"-full.js"),current_jsFloorNames=-1<f.indexOf("Type=")?d+f:d+f+".js",rebuild_drop_spaces=1,waitForJSLoaded();else{cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr]=fileExtensionLower;cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]=
!1;cvjs_bitmapLoadFlag=!0;try{cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap("#"+a),n=d+f+"."+fileLoad_contentFormat,cvjs_buildFolderTree_crossDomain&&(n=cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+n),cvjs_debug&&console.log("calling setup Png "+n),default_full_loaded=!0,SetUpVqPngDefault(n,floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(w){console.log(w)}}}}
function waitForJSLoaded(){try{layers_all.length,cvjs_debug&&console.log("waitForJSLoaded")}catch(a){40>load_failures?(load_failures++,jQuery("#loading").html(languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading),setTimeout(function(){waitForJSLoaded()},256)):(jQuery("#looper").hide(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],"Path to file not found: "+current_FileNamePath+
cvjs_FileNameNoExtension+".js"))}}var cvjs_rasterImageLoaded,sharePoint_dataServerPath="",sharePoint_dataUrlPath="",cvjs_sharepoint_UserName="",cvjs_sharepoint_DocLib="";
function SetUpVqPngDefault(a){if(cvjs_fileLoadingFromSharePointServer){var d=cvjs_serverHandlersPath+"CV-JS_sharepoint_downloadfile.php";a=a.replace(/%20/g," ");var f={};f.sharepointfilename=a;f.targetfile=sharePoint_dataServerPath+a;f.user_name=cvjs_sharepoint_UserName;cvjs_debug&&console.log("share point bitmap filename="+a+"  "+cvjs_sharepoint_UserName+" "+(sharePoint_dataServerPath+a)+" "+sharePoint_dataUrlPath);jQuery.ajax({url:d,type:"post",data:f,success:function(d){console.log("download response"+
d);SetUpVqPngDefault_base(sharePoint_dataUrlPath+a)},error:function(a){console.log("2 json getEngines error="+a)}})}else SetUpVqPngDefault_base(a)}
function SetUpVqPngDefault_base(a){thumbs_loaded=floor_loaded=nodes_loaded=!0;buildings={BUILDING_NAME_GOES_HERE:{name:"",company:"",address:"",city:"",state:"",zipcode:"",country:"",FacMgr:"",FacMgr_title:"",FacMgr_email:"",FacMgr_phone:"",floors:{FLOOR_NAME_GOES_HERE:{name:"name_of_file_to_appear",file:"file_name",rooms:{}}}}};layers_all=cvjs_rPaper[cvjs_active_floorplan_div_nr].g();cvjs_Community_Version||(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].g());
cvjs_rPaper[cvjs_active_floorplan_div_nr]=null;var d="#"+floorplan_div_Array[cvjs_active_floorplan_div_nr];cvjs_rPaper[cvjs_active_floorplan_div_nr]||(cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap(d));floor_loaded&&nodes_loaded&&thumbs_loaded&&default_full_loaded?(load_failures=0,thumb_loaded=!1,cvjs_rasterImageLoaded=new Image,cvjs_rasterImageLoaded.onload=function(){cvjs_rPaper[cvjs_active_floorplan_div_nr].g();var d=cvjs_bitmapFileNameIsServerPath_flag?cvjs_rPaper[cvjs_active_floorplan_div_nr].image(cvjs_serverHandlersPath+
cvjs_serverLoadFileController+"?file="+a,0,0,this.width,this.height):cvjs_rPaper[cvjs_active_floorplan_div_nr].image(a,0,0,this.width,this.height);var h=d.getBBox();layers_all=cvjs_rPaper[cvjs_active_floorplan_div_nr].g();cvjs_Community_Version||(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].g());layers_all.add(d);d="M0,0V"+this.height+"H"+this.width+"V0.0H0.0";cvjs_debug&&console.log("boundingbox "+d);d=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(d).attr({stroke:"rgb(164,164,164)",
"stroke-width":"0.1",fill:"none"});layers_all.add(d);panWithThumb=!1;d="M0,0V"+h.height+"H"+h.width+"V0.0H0.0";layer_thumb=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(d).attr({stroke:"rgba(153,153,153,0.5)","stroke-width":"2",fill:"none"}));h=layers_all.getBBox();actualLLX[cvjs_active_floorplan_div_nr]=0;actualLLY[cvjs_active_floorplan_div_nr]=0;actualURX[cvjs_active_floorplan_div_nr]=h.width;actualURY[cvjs_active_floorplan_div_nr]=h.height;cvjs_debug&&
console.log("XXXXXXXXXXXXXXXX   boundingbox "+h.width+"  "+h.height);cvjs_masterBackground[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]));cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#ffffff",
"fill-opacity":"0.01","stroke-width":0});cvjs_masterBackground[cvjs_active_floorplan_div_nr].data("id","master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({id:"master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]});layers_all.after(cvjs_masterBackground[cvjs_active_floorplan_div_nr]);viewBox[cvjs_active_floorplan_div_nr].X=actualLLX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=actualLLY[cvjs_active_floorplan_div_nr];
viewBox[cvjs_active_floorplan_div_nr].width=actualURX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].height=actualURY[cvjs_active_floorplan_div_nr];cvjs_floorplan_div=floorplan_div_Array[cvjs_active_floorplan_div_nr];cvjs_masterBackground[cvjs_active_floorplan_div_nr].drag(dragMove,dragStart,dragEnd);cvjs_addMouseWheelControls(cvjs_active_floorplan_div_nr);jQuery("#looper").hide();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();jQuery("#"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();h=floorplan_div_Array[cvjs_active_floorplan_div_nr];jQuery("#tip_"+h).css({position:"absolute"});jQuery("#tip_"+h).css({border:"1px solid gray"});jQuery("#tip_"+h).css({"z-index":2E3});jQuery("#tip_"+h).css({color:"#333"});jQuery("#tip_"+h).css({"background-color":"#efefef"});jQuery("#tip_"+h).css({padding:"3px"});jQuery("#tip_"+h).css({"max-width":"300px"});jQuery("#tip_"+h).css({"white-space":"nowrap"});jQuery("#tip_"+h).css({"font-family":"arial, verdana, sans-serif"});
jQuery("#tip_"+h).css({"font-size":"0.75em"});tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+h);tip[cvjs_active_floorplan_div_nr].hide();ResizeVq(jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr].width),jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr].height));if(!jQuery("#floatNavigationMenu_"+h).is(":visible")&&pageChangeInterface[cvjs_interfaceCounterIndex(floorplan_div_Array[cvjs_active_floorplan_div_nr])]){jQuery("#floatNavigationMenu_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();
var n=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();d=n.top+5;n=n.left+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width()-475;40>n&&(n=40);jQuery("#floatNavigationMenu_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).offset({top:d,left:n})}jQuery("#floatpagemenuText_"+h).html("&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp1/1&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp  Single Page");
jQuery("#floatpagemenuText1_topBar_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("1/1");jQuery("#floatpagemenuText2_topBar_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("Single Page");multiPages[cvjs_active_floorplan_div_nr]={multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]};layerTable[cvjs_active_floorplan_div_nr]={numberOfLayers:0,layers:[]};console.log("multiPages[ "+multiPages[cvjs_active_floorplan_div_nr].multiPages);try{cvjs_SVGGroup[cvjs_active_floorplan_div_nr].before(cvjs_masterBackground[cvjs_active_floorplan_div_nr])}catch(q){console.log("error setting masterbackground first")}if(cvjs_customMethodForOnLoadEnd)cvjs_loadInProgress=
!1,cvjs_myOnLoadEndMethod();else try{var p=floorplan_div_Array[cvjs_active_floorplan_div_nr].slice(0,-4);cvjs_loadInProgress=!1;console.log("NOTE_ End of png load loop booleans in init");cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]=0;0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_dragBackgroundToFront_SVG(p);cvjs_currentBackgroundColor[cvjs_active_floorplan_div_nr]=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("background-color");
cvjs_OnLoadEnd(p)}catch(q){console.log("Please define cvjs_OnLoadEnd in your encapsulating code: "+q)}jQuery("#looper").hide();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_bitmapLoadFlag=!1},cvjs_rasterImageLoaded.setAttribute("crossOrigin","anonymous"),cvjs_bitmapFileNameIsServerPath_flag?(d=cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+a,cvjs_rasterImageLoaded.src=d,console.log("After calling - loading server bitmaps through php setting cvjs_rasterImageLoaded.src="+
d)):(cvjs_rasterImageLoaded.src=a,console.log("After calling - loading bitmap direct from url cvjs_rasterImageLoaded.src="+a))):40>load_failures?(load_failures++,jQuery("#loading").html(languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading),setTimeout(function(){SetUpVqPngDefault(a,floorplan_div_Array[cvjs_active_floorplan_div_nr])},256)):(load_failures=0,jQuery("#looper").hide(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
"Failure loading file: "+current_FileNamePath+cvjs_FileNameNoExtension+".js"))}
function cvjs_clearCurrentRedline(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_clearDrawingStickyNotes();a=!1;for(i=0;i<vqRedlines.length;i++)if(vqRedlines[i].data("locked")){a=!0;break}if(a)for(a=cvjs_findMaxRedlineStickyNote(),i=0;i<a;i++)cvjs_setUpVqRedlines_deleteNode_direct("RED_"+(i+1));else{cvjs_deleteAllRedlines();for(i=0;i<vqRedlines.length;i++)vqRedlines[i].remove();vqRedlines.length=0}a=!1;for(i=0;i<vqStickyNotes.length;i++)vqStickyNotes[i].data("locked")&&
(a=!0);if(a)for(a=cvjs_findMaxRedlineStickyNote(),i=0;i<a;i++)d="SNOTE_"+(i+1),cvjs_setUpStickyNotes_deleteNode_direct(d);else for(a=cvjs_findMaxRedlineStickyNote(),i=0;i<a;i++){var d="SNOTE_"+(i+1);cvjs_setUpStickyNotes_deleteNode_direct(d)}}function cvjs_findMaxRedlineStickyNote(){var a=0;for(f in vqRedlines){var d=vqRedlines[f].data("node");d=parseInt(d.substring(4));d>a&&(a=d)}var f=0;for(var h in vqStickyNotes)d=vqStickyNotes[h].data("node"),d=parseInt(d.substring(6)),d>f&&(f=d);return a+f}
function cvjs_findMaxStickyNote(){var a=0,d;for(d in vqRedlines){redline_node=vqRedlines[d].data("node");var f=parseInt(redline_node.substring(4));f>a&&(a=f)}return a}function cvjs_setUpVqRedlines_deleteNode_direct(a){var d;for(d in vqRedlines){var f=vqRedlines[d].data("node");vqRedlines[d].data("locked")||f!=a||(vqRedlines[d].data("deleted",!0),vqRedlines[d].attr({transform:"S0.001",opacity:"0.01"}))}}
function cvjs_setUpStickyNotes_deleteNode_direct(a){var d;for(d in vqStickyNotes){var f=vqStickyNotes[d].data("node");f==a&&(vqStickyNotes[d].data("deleted",!0),vqStickyNotes[d].attr({transform:"S0.001",opacity:"0.01"}),hideOnlyStickyNote(d),jQuery(vqStickyNotes[d].node).qtip("destroy"),vqStickyNotes.splice(d,1))}}
function cvjs_setOriginatingFileUsernamePassword(a,d){cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr]=a;cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]=d}function cvjs_restApiController(){return rest_php_version}function cvjs_restApiControllerLocation(){return tms_rest_api_url1}function cvjs_setRestApiControllerLocation(a){tms_rest_api_url1=a}
function cvjs_setRestApiController(a){rest_php_version=a;-1<rest_php_version.indexOf("call-Api_Conversion.php")&&(rest_converter="AutoXchange AX2020",rest_version="V1.00");cvjs_debug&&console.log(rest_converter+"  "+rest_php_version+"  "+a)}function cvjs_restApiConverter(){return rest_converter}function cvjs_restApiConverterVersion(){return rest_version}function cvjs_setConverter(a,d){rest_converter=a;rest_version=d}function cvjs_setConverterCredentials(a,d){cvjs_usr=a;cvjs_pwd=d}
function cvjs_Init_ConversionServer(a,d,f,h){tms_rest_api_url1=a;rest_php_version=d;cvjs_usr=f;cvjs_pwd=h}
var tms_rest_api_url1="http://onlinedemo.vizquery.com/cadviewer_3_0_1/php/",rest_php_version="call-Api_Conversion.php",rest_action="conversion",rest_converter="AutoXchange AX2020",rest_version="V1.00",rest_contentType="file",rest_contentLocation,rest_contentStream,rest_embeddedContent,rest_contentFormat="DWG",rest_contentUserName,rest_contentPassword,rest_userLabel="fromCADViewerJS",rest_contentResponse="stream",rest_parameters,rest_nname=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
[],[],[],[],[],[],[],[],[],[],[]],rest_vvalue=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],rest_nname_custom=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],rest_vvalue_custom=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];function cvjs_setSVG_outputFormatInAXConversions(a){cvjs_SVG_outputFormatInAXConversions=a}
function cvjs_conversion_clearAXconversionParameters(a){cvjs_active_floorplan_div_nr=void 0==a?0:cvjs_rPaperIndex(a);rest_nname[cvjs_active_floorplan_div_nr].length=0;rest_vvalue[cvjs_active_floorplan_div_nr].length=0;rest_nname[cvjs_active_floorplan_div_nr][0]="f";rest_vvalue[cvjs_active_floorplan_div_nr][0]="js";cvjs_SVG_outputFormatInAXConversions&&(rest_vvalue[cvjs_active_floorplan_div_nr][0]="svg");rest_nname_custom[cvjs_active_floorplan_div_nr].length=0;rest_vvalue_custom[cvjs_active_floorplan_div_nr].length=
0}
function cvjs_conversion_addAXconversionParameter(a,d,f){cvjs_active_floorplan_div_nr=void 0==f?0:cvjs_rPaperIndex(f);f=rest_nname_custom[cvjs_active_floorplan_div_nr].length;rest_nname_custom[cvjs_active_floorplan_div_nr][f]=a;rest_vvalue_custom[cvjs_active_floorplan_div_nr][f]=d;cvjs_debug&&console.log("addAXConversionParameter "+rest_nname_custom[cvjs_active_floorplan_div_nr][f]+" "+rest_vvalue_custom[cvjs_active_floorplan_div_nr][f]+"  "+rest_nname_custom[cvjs_active_floorplan_div_nr].length)}
function cvjs_conversion_setContentType(a){rest_contentType=a}function cvjs_conversion_setContentFormat(a){rest_contentFormat=a}function cvjs_fileLoad_setContentFormat(a){if("PNG"==a||"png"==a)fileLoad_contentFormat="png";if("JPG"==a||"jpg"==a)fileLoad_contentFormat="jpg";if("GIF"==a||"gif"==a)fileLoad_contentFormat="gif";if("JS"==a||"js"==a)fileLoad_contentFormat="JS"}function cvjs_conversion_setUserLabel(a){rest_userLabel=a}function cvjs_conversion_setContentResponse(a){rest_contentResponse=a}
function cvjs_conversion_getContentResponse(){return rest_contentResponse}var cvjs_debug=!1;function cvjs_debugMode(a){cvjs_debug=a}function cvjs_setPasswordProtectionServerAccess(a){cvjs_passwordProtected=debug}function cvjs_setServerAccessToServlet(a){cvjs_servlet_handshake=a;cvjs_jsonp_handshake=1==a?!1:!0;cvjs_post_handshake=!1}function cvjs_setServerAccessToPost(a){cvjs_post_handshake=a;cvjs_jsonp_handshake=1==a?!1:!0;cvjs_servlet_handshake=!1}
var cvjs_usr="guest",cvjs_pwd="guest",cvjs_passwordProtected=!1,cvjs_servlet_handshake=!1,cvjs_jsonp_handshake=!0,cvjs_post_handshake=!1,contentStreamGraphics,contentStreamNodes,contentStreamData,contentStreamThumb,contentLocationGraphics,contentLocationNodes,contentLocationData,contentLocationThumb;function cvjs_LoadDrawing_Conversion(a,d,f,h,n){cvjs_Community_Version?cvjs_LoadDrawing_Conversion_original(a,d,f,h,n):cvjs_checkLicensePreThenLoad(a,d,f,h,n)}
function cvjs_LoadDrawing_Conversion_original(a,d,f,h,n){cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]=!1;try{if(cvjs_debug&&console.log("cvjs_LoadDrawing_Conversion_original  "),cvjs_initMasterBackground)if(fileOverlay)cvjs_debug&&console.log("file overlay we do nothing 3");else{try{for(var p=document.getElementById(floorplan_div_Array[cvjs_active_floorplan_div_nr]);p.firstChild;)p.removeChild(p.firstChild)}catch(u){console.log("IE11 clean: "+u)}cvjs_rPaper[cvjs_active_floorplan_div_nr]=
null;var q="#"+floorplan_div_Array[cvjs_active_floorplan_div_nr];cvjs_rPaper[cvjs_active_floorplan_div_nr]||(cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap(q));cvjs_debug&&console.log("cvjs_LoadDrawing_Conversion_original: setting active floorplan "+cvjs_active_floorplan_div_nr+"  snap() ")}}catch(u){console.log(u)}jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading+"</div></td></tr></table>");jQuery("#cvjs_wait_looper_text_id_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading);cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();cvjs_loadDrawing_conversionMode=cvjs_objectIsZoomedExtents=!0;cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr]=d;cvjs_conversion_originatingFileNameNoExtension[cvjs_active_floorplan_div_nr]=f;cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr]=
h;cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr]=n;fileOverlay?cvjs_debug&&console.log("HERE WE DO NOT REMOVE THE CONTENT OF flooplan"):jQuery("#"+a).html("");VqSetup=thumbs_loaded=nodes_loaded=floor_loaded=!1;if(void 0==rest_nname[cvjs_active_floorplan_div_nr].length||0==rest_nname[cvjs_active_floorplan_div_nr].length)rest_nname[cvjs_active_floorplan_div_nr][0]="f",rest_vvalue[cvjs_active_floorplan_div_nr][0]="js",cvjs_SVG_outputFormatInAXConversions&&(rest_vvalue[cvjs_active_floorplan_div_nr][0]=
"svg");if(cvjs_compareDrawings)for(a=0;a<rest_nname[cvjs_active_floorplan_div_nr].length;a++)"f"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_vvalue[cvjs_active_floorplan_div_nr][a]="svg");f=!0;for(a=0;a<rest_nname[cvjs_active_floorplan_div_nr].length;a++)"basic"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(f=!1),"layout"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(f=!1),"model"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(f=!1),"layoutsonly"==rest_nname[cvjs_active_floorplan_div_nr][a]&&
(f=!1),"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(f=!1),"last"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(f=!1),"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(f=!1);f&&(a=rest_nname[cvjs_active_floorplan_div_nr].length,0==rest_contentFormat.toLowerCase().indexOf("dwf")?(rest_nname[cvjs_active_floorplan_div_nr][a]="lastsavedview",0==rest_converter.indexOf("AutoXchange AX2017")&&(rest_nname[cvjs_active_floorplan_div_nr][a]="firstlayout"),0==rest_converter.indexOf("AutoXchange AX2019")&&
(rest_nname[cvjs_active_floorplan_div_nr][a]="firstlayout"),0==rest_converter.indexOf("AutoXchange AX2020")&&(rest_nname[cvjs_active_floorplan_div_nr][a]="firstlayout")):rest_nname[cvjs_active_floorplan_div_nr][a]="model",rest_vvalue[cvjs_active_floorplan_div_nr][a]="",a=rest_nname[cvjs_active_floorplan_div_nr].length,rest_nname[cvjs_active_floorplan_div_nr][a]="extents",rest_vvalue[cvjs_active_floorplan_div_nr][a]="");0==rest_contentFormat.toLowerCase().indexOf("pcf")&&(a=rest_nname[cvjs_active_floorplan_div_nr].length,
rest_nname[cvjs_active_floorplan_div_nr][a]="treatas",rest_vvalue[cvjs_active_floorplan_div_nr][a]="DGN");if(cvjs_convertSpaceObject){p=!1;f=rest_nname[cvjs_active_floorplan_div_nr].length;for(a=0;a<f;a++)"RL"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_vvalue[cvjs_active_floorplan_div_nr][a]=cvjs_convertRoomLayer,p=!0);p||(rest_nname[cvjs_active_floorplan_div_nr][f]="RL",rest_vvalue[cvjs_active_floorplan_div_nr][f]=cvjs_convertRoomLayer);p=!1;f=rest_nname[cvjs_active_floorplan_div_nr].length;
for(a=0;a<f;a++)"TL"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_vvalue[cvjs_active_floorplan_div_nr][a]=cvjs_convertTextLayer,p=!0);p||(rest_nname[cvjs_active_floorplan_div_nr][f]="TL",rest_vvalue[cvjs_active_floorplan_div_nr][f]=cvjs_convertTextLayer);p="";f=!0;for(a=0;a<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;a++)"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[a].status&&(f?(p+=layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName,f=!1):p+=";"+layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName);
if(0<p.length){loff_flag=!1;f=rest_nname[cvjs_active_floorplan_div_nr].length;for(a=0;a<f;a++)"LOFF"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_vvalue[cvjs_active_floorplan_div_nr][a]=p,loff_flag=!0);loff_flag||(rest_nname[cvjs_active_floorplan_div_nr][f]="LOFF",rest_vvalue[cvjs_active_floorplan_div_nr][f]=p)}}else{f=rest_nname[cvjs_active_floorplan_div_nr].length;for(a=0;a<f;a++)"RL"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_nname[cvjs_active_floorplan_div_nr].splice(a,1),rest_vvalue[cvjs_active_floorplan_div_nr].splice(a,
1));f=rest_nname[cvjs_active_floorplan_div_nr].length;for(a=0;a<f;a++)"TL"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_nname[cvjs_active_floorplan_div_nr].splice(a,1),rest_vvalue[cvjs_active_floorplan_div_nr].splice(a,1))}if(0<rest_nname_custom[cvjs_active_floorplan_div_nr].length)for(f=rest_nname[cvjs_active_floorplan_div_nr].length,q=rest_nname_custom[cvjs_active_floorplan_div_nr].length,a=0;a<q;a++){var t=!1;for(p=0;p<f;p++)rest_nname[cvjs_active_floorplan_div_nr][p]==rest_nname_custom[cvjs_active_floorplan_div_nr][a]&&
(t=!0);t||(rest_nname[cvjs_active_floorplan_div_nr][f]=rest_nname_custom[cvjs_active_floorplan_div_nr][a],rest_vvalue[cvjs_active_floorplan_div_nr][f]=rest_vvalue_custom[cvjs_active_floorplan_div_nr][a],f++)}p=!1;f=rest_nname[cvjs_active_floorplan_div_nr].length;for(a=0;a<f;a++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(p=!0);for(a=0;a<f;a++)p&&"last"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_nname[cvjs_active_floorplan_div_nr][a]=""),p&&"lastsavedview"==rest_nname[cvjs_active_floorplan_div_nr][a]&&
(rest_nname[cvjs_active_floorplan_div_nr][a]=""),p&&"model"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_nname[cvjs_active_floorplan_div_nr][a]=""),p&&"firstlayout"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_nname[cvjs_active_floorplan_div_nr][a]="");if(0==rest_contentFormat.toLowerCase().indexOf("pdf"))for(f=rest_nname[cvjs_active_floorplan_div_nr].length,q=multiPages[cvjs_active_floorplan_div_nr].multiPages,a=0;a<f;a++)if(console.log(a+" "+rest_nname[cvjs_active_floorplan_div_nr][a]),
"layout"==rest_nname[cvjs_active_floorplan_div_nr][a]&&"dummy"!=rest_vvalue[cvjs_active_floorplan_div_nr][a])for(rest_nname[cvjs_active_floorplan_div_nr][a]="pg",console.log("layout to pg i "+a),p=0;p<q;p++)console.log(a+" "+p+" "+multiPages[cvjs_active_floorplan_div_nr].pages[p].pageName+"  "+rest_vvalue[cvjs_active_floorplan_div_nr][a]),multiPages[cvjs_active_floorplan_div_nr].pages[p].pageName==rest_vvalue[cvjs_active_floorplan_div_nr][a]&&(rest_vvalue[cvjs_active_floorplan_div_nr][a]=(p+1).toString());
f={action:"svg_js_creation"};cvjs_SVG_outputFormatInAXConversions&&(f.action="svg_creation",cvjs_fileLoadingFromSharePointServer&&(f.action="svg_creation_sharepoint_REST"));cvjs_compareDrawings&&(f.action="svg_creation");f.converter=rest_converter;f.version=rest_version;f.contentType=rest_contentType;d=d.replace(/\\/g,"/");"file"==f.contentType&&(0<d.indexOf("%")?f.contentLocation=d:f.contentLocation=encodeURIComponent(d));"stream"==f.contentType&&(0<d.indexOf("%")?f.contentStream=d:f.contentStream=
encodeURIComponent(d));"embedded"==f.contentType&&(0<d.indexOf("%")?f.embeddedContent=d:f.embeddedContent=encodeURIComponent(d));f.contentFormat=rest_contentFormat;f.contentUsername=h;cvjs_fileLoadingFromSharePointServer&&(f.contentUsername=cvjs_sharepoint_UserName);f.contentPassword=n;f.userLabel=rest_userLabel;f.contentResponse=rest_contentResponse;"stream"==f.contentResponse&&(f.leaveStreamOnServer=0,cvjs_compareDrawings&&(f.leaveStreamOnServer=1));rest_serviceCall&&(f.userLabel=rest_ServiceToken,
f.applicationPlatform=rest_applicationPlatform,f.applicationPlatformUsername=rest_applicationPlatformUsername,f.applicationPlatformUserID=rest_applicationPlatformUserID,"stream"==f.contentResponse&&(f.leaveStreamOnServer=rest_leaveStreamOnServer));f.parameters=[];for(a=0;a<rest_nname[cvjs_active_floorplan_div_nr].length;a++)d={},d.paramName=rest_nname[cvjs_active_floorplan_div_nr][a],d.paramValue=rest_vvalue[cvjs_active_floorplan_div_nr][a],f.parameters[a]=d;api_data=JSON.stringify(f);tms_rest_api_url=
tms_rest_api_url1+rest_php_version;-1<tms_rest_api_url1.indexOf("tms-restful-api")&&(cvjs_passwordProtected=!0,cvjs_isLicensed&&(cvjs_usr="tms",cvjs_pwd="restful"),cvjs_Community_Version&&(cvjs_usr="tms",cvjs_pwd="restful"),cvjs_debug&&console.log(cvjs_isLicensed+" "+cvjs_usr+" "+cvjs_pwd));cvjs_passwordProtected?(h=tms_rest_api_url.indexOf("//"),d=tms_rest_api_url.substring(0,h+2),h=tms_rest_api_url.substring(h+2),d=d+cvjs_usr+":"+cvjs_pwd+"@"+h):d=tms_rest_api_url;cvjs_debug&&console.log(d+" in makeConversion  request="+
encodeURIComponent(api_data)+"  non encoded request: "+api_data);h="";h=cvjs_encodeURIcall_server?d+"?json="+encodeURIComponent(api_data):d+"?json="+api_data;cvjs_debug&&console.log(" url_json:"+h);cvjs_jsonp_handshake&&(cvjs_debug&&console.log("before ajax call to php "),jQuery.ajax({url:h,jsonp:"tms_restful_api",dataType:"jsonp",success:function(a){cvjs_debug&&console.log("jsonP Conversion success: "+a);parseServerResponse(a)},error:function(a,d,f){console.log("1 jsonp getEngines error="+a.responseText+
" status="+d+" error="+f)}}));cvjs_servlet_handshake&&(cvjs_debug&&console.log("3 before ajax call to Servlet"),h={},h.request=api_data,cvjs_debug&&console.log("before ajax call to Servlet filelist_data['request'] "+h.request),jQuery.ajax({url:d,type:"post",data:h,success:function(a){cvjs_debug&&console.log("Conversion success parseServerResponse: "+a);parseServerResponse(a)},error:function(a){console.log("2 json getEngines error="+a)}}));cvjs_post_handshake&&(cvjs_debug&&console.log("before ajax post call"),
h={},h.json_data=api_data,jQuery.ajax({url:d,type:"POST",data:h,success:function(a){cvjs_debug&&console.log("post Conversion: "+a);parseServerResponse(a)},error:function(a){console.log("2 json getEngines error="+a)}}))}var cvjs_svgCreationContentLocation="",cvjs_svgCreatedFromConversion=!1;
function parseServerResponse(a){a=jQuery.parseJSON(a);"E0"!=a.errorCode?(jQuery("#looper").hide(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],"Server side conversion error, AutoXchange responded with errorcode: "+a.errorCode)):("svg_js_creation"==a.completedAction&&("stream"==rest_contentResponse?(contentStreamGraphics=a.contentStreamGraphics,contentStreamNodes=a.contentStreamNodes,
contentStreamData=a.contentStreamData,contentStreamThumb=a.contentStreamThumb,1==cvjs_drawingLoadCounter&&(cvjs_compareDrawingsFirstDrawing=contentStreamData),1==current_js_initialized?(replacejscssfile(current_jsFloorNames,contentStreamData,"js"),cvjs_FourFilesInOne||(replacejscssfile(current_jsNodesFloorNames,contentStreamNodes,"js"),replacejscssfile(current_jsThumbFloorNames,contentStreamThumb,"js"),replacejscssfile(current_jsFullFloorNames,contentStreamGraphics,"js"))):(current_js_initialized=
1,loadJSbase(contentStreamData),cvjs_FourFilesInOne||(loadJSbase(contentStreamNodes),loadJSbase(contentStreamThumb),loadJSbase(contentStreamGraphics))),current_jsFloorNames=contentStreamData,cvjs_FourFilesInOne||(current_jsNodesFloorNames=contentStreamNodes,current_jsThumbFloorNames=contentStreamThumb,current_jsFullFloorNames=contentStreamGraphics),rebuild_drop_spaces=1):"file"==rest_contentResponse?(contentLocationGraphics=a.contentLocationGraphics,contentLocationNodes=a.contentLocationNodes,contentLocationData=
a.contentLocationData,contentLocationThumb=a.contentLocationThumb,cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]=a.contentLocationGraphics.substring(0,a.contentLocationGraphics.lastIndexOf("/")+1),1==cvjs_drawingLoadCounter&&(cvjs_compareDrawingsFirstDrawing=contentLocationData),1==current_js_initialized?(replacejscssfile(current_jsFloorNames,contentLocationData,"js"),cvjs_FourFilesInOne||(replacejscssfile(current_jsNodesFloorNames,contentLocationNodes,"js"),replacejscssfile(current_jsThumbFloorNames,
contentLocationThumb,"js"),replacejscssfile(current_jsFullFloorNames,contentLocationGraphics,"js"))):(current_js_initialized=1,loadJSbase(contentLocationData),cvjs_FourFilesInOne||(loadJSbase(contentLocationNodes),loadJSbase(contentLocationThumb),loadJSbase(contentLocationGraphics))),current_jsFloorNames=contentLocationData,cvjs_FourFilesInOne||(current_jsNodesFloorNames=contentLocationNodes,current_jsThumbFloorNames=contentLocationThumb,current_jsFullFloorNames=contentLocationGraphics),rebuild_drop_spaces=
1):cvjs_debug&&console.log("currently contentStream and contentLocation are implemented!! embedded to follow...")),"svg_creation_sharepoint_REST"==a.completedAction&&(cvjs_svgCreationContentLocation=a.contentLocation,cvjs_svgCreatedFromConversion=!0,"stream"==rest_contentResponse?(cvjs_debug&&console.log(" svg_creation_sharepoint_REST 1 svg server response "+a.contentStream),cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a.contentStream,void 0,!0)):"file"==rest_contentResponse?
(cvjs_debug&&console.log("svg_creation_sharepoint_REST 2 here we parse an svg server response "+a.contentLocation),cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a.contentLocation,void 0,!0)):cvjs_debug&&console.log("currently contentStream and contentLocation are implemented!! embedded to follow...")),"svg_creation"==a.completedAction&&(cvjs_svgCreationContentLocation=a.contentLocation,cvjs_svgCreatedFromConversion=!0,"stream"==rest_contentResponse?(cvjs_debug&&console.log(" 1 REST parse svg server response "+
a.contentStreamData+" "+a.contentLocation),contentStreamData=a.contentStreamData,cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a.contentStreamData,void 0,!0)):"file"==rest_contentResponse?(cvjs_debug&&console.log("2 REST parse svg server response "+a.contentLocationData+" "+a.contentLocation),contentLocationData=a.contentLocationData,cvjs_LoadDrawingInternal(floorplan_div_Array[cvjs_active_floorplan_div_nr],a.contentLocationData,void 0,!0)):cvjs_debug&&console.log("currently contentStream and contentLocation are implemented!! embedded to follow...")))}
function createjscssfile(a,d){if("js"==d){var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src",a)}else"css"==d&&(f=document.createElement("link"),f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("href",a));cvjs_buildFolderTree_crossDomain&&(a=a.substring(0,a.indexOf("?dummy")),f.src=cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+a);return f}
var cvjs_currentLoadedDrawingAsString="",cvjs_loadCurrentLoadedDrawingAsString=!1;
function replacejscssfile(a,d,f){if(cvjs_initMasterBackground||"js"!=f){cvjs_debug&&console.log("replacejscssfile "+a+"  "+d+"  "+f);try{var h="js"==f?"src":"css"==f?"href":"none",n=document.getElementsByTagName("js"==f?"script":"css"==f?"link":"none");cvjs_buildFolderTree_crossDomain&&(d=cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+d);for(var p=n.length;0<=p;p--)if(n[p]&&null!=n[p].getAttribute(h)&&-1!=n[p].getAttribute(h).indexOf(a)){cvjs_debug&&console.log(" i  "+p+" "+n[p].getAttribute(h));
cvjs_loadMultipleRedlinesStickyNotes||cvjs_collab_mode||cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_debug&&console.log("replacejscssfile  create new element "+d+" old "+a);var q="";q="js"==f?createjscssfile(d+"?dummy="+Math.random(),f):createjscssfile(d,f);n[p].parentNode.replaceChild(q,n[p]);cvjs_debug&&console.log("replacejscssfile  replace child");js_loaded_flag=1}}catch(t){console.log(t)}cvjs_loadCurrentLoadedDrawingAsString&&(a=cvjs_serverHandlersPath+cvjs_serverLoadFileController,
f={},f.file=d,jQuery.ajax({url:a,type:"post",data:f,success:function(a){cvjs_currentLoadedDrawingAsString=a}}))}else cvjs_debug&&console.log("load base"),loadJSbase(d)}
function loadJSbase(a){cvjs_debug&&console.log("loadJSbase "+a);try{var d=document.createElement("script");d.type="application/javascript";d.src=a+"?dummy="+Math.random();cvjs_buildFolderTree_crossDomain&&(d.src=cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+a);document.body.appendChild(d)}catch(h){console.log(h)}if(cvjs_loadCurrentLoadedDrawingAsString){d=cvjs_serverHandlersPath+cvjs_serverLoadFileController;var f={};f.file=a;cvjs_debug&&console.log(" "+f.file);jQuery.ajax({url:d,
type:"post",data:f,success:function(a){cvjs_currentLoadedDrawingAsString=a}})}}var SVGloadFile="",SVGloadFlag=!1;function cvjs_LoadDrawing_SVG(a,d,f,h){jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();printDebugFlag&&jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();SVGloadFile=d+f;SVGloadFlag=!0;cvjs_LoadDrawingInternal(a,h,"init")}var _label,Header1,BackgroundColor="#FFF",rDrawing;
function setView(a,d,f,h,n){viewBox[cvjs_active_floorplan_div_nr].X=d;viewBox[cvjs_active_floorplan_div_nr].Y=f;a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+h+" "+n+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a)}var bbox;
function ResizeVq(a,d){try{viewBoxWidth[cvjs_active_floorplan_div_nr]=a;viewBoxHeight[cvjs_active_floorplan_div_nr]=d;rpWidth[cvjs_active_floorplan_div_nr]=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr];rpHeight[cvjs_active_floorplan_div_nr]=actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr];rpX=actualLLX[cvjs_active_floorplan_div_nr];rpY=actualLLY[cvjs_active_floorplan_div_nr];var f=rpWidth[cvjs_active_floorplan_div_nr]/viewBoxWidth[cvjs_active_floorplan_div_nr],
h=rpHeight[cvjs_active_floorplan_div_nr]/viewBoxHeight[cvjs_active_floorplan_div_nr];zoomScale=f>h?h:f;var n=jQuery.parseJSON('{"viewBox" : "'+rpX+" "+rpY+" "+rpWidth[cvjs_active_floorplan_div_nr]+" "+rpHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(n);viewBox[cvjs_active_floorplan_div_nr].X=rpX;viewBox[cvjs_active_floorplan_div_nr].Y=rpY;viewBoxWidth[cvjs_active_floorplan_div_nr]=rpWidth[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=
rpHeight[cvjs_active_floorplan_div_nr];vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr]}catch(p){}}var thumb_loaded=!1,load_failures=0,SVGloadedFragment="",SVGfragmentIsLoaded=!1;
function SetUpVq(a,d,f){cvjs_debug&&console.log("In SetUpVq: cvjs_bitmapLoadFlag="+cvjs_bitmapLoadFlag+" floor: "+floor_loaded+" nodes: "+nodes_loaded+" thumb: "+thumbs_loaded);if(!cvjs_bitmapLoadFlag)if(floor_loaded&&nodes_loaded&&thumbs_loaded)if(load_failures=0,thumb_loaded=!1,SVGloadFlag){if(void 0==f)for(var h=0;h<floorplan_div_Array.length;h++)floorplan_div_Array_current_Drawing[h]==SVGloadFile&&(f=floorplan_div_Array[h]);cvjs_debug&&console.log("ZX5 Loading SVG "+SVGloadFile+" "+SVGfragmentIsLoaded+
"  floorplan_div "+f+" cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr);if(!SVGfragmentIsLoaded){SVGfragmentIsLoaded=!0;cvjs_debug&&console.log("Snap.load SVG SVGfragmentIsLoaded  "+SVGfragmentIsLoaded+" SVG load file="+SVGloadFile);try{Snap.load(SVGloadFile,function(a){SVGloadedFragment=a;cvjs_debug&&console.log("before DoSetUpVq, SVGfragmentIsLoaded "+SVGfragmentIsLoaded+" loadedFragment "+a);VqSetup=!1;cvjs_debug&&console.log("Snap.load before DoSetUpVq "+VqSetup);DoSetUpVq(f)})}catch(n){console.log("Err 1: "+
n)}}}else cvjs_debug&&console.log("Standard .js load of DoSetUpVq"),DoSetUpVq(f);else 80>load_failures?(load_failures++,jQuery("#loading").html(languageTable.languages[cvjs_currentLanguage].LoadingModal.Loading),setTimeout(function(){SetUpVq(a,d,f)},256)):(load_failures=0,jQuery("#loading").html("Failure to load drawing, floor: "+floor_loaded+" ,nodes: "+nodes_loaded),jQuery("#looper").hide(),jQuery("#waitpane").show(),setTimeout(function(){jQuery("#waitpane").hide();jQuery("#looper").show()},5120))}
var cvjs_addSVGClickHandler=!1;function cvjs_addSVGClickHandler_onLoad(a){cvjs_addSVGClickHandler=a}var mousedown_SVGCanvas=function(){cvjs_debug&&console.log("SVG we have clicked "+jQuery(this).attr("id"))},page_change_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_SVGGroup=[],cvjs_svgviewBox,cvjs_svgHeight,cvjs_svgwidth,cvjs_svgScaleTrans,cvjs_svgTransX,cvjs_svgTransY,cvjs_svgScale,cvjs_svgWidthHeight100percent=!1;
function DoSetUpVq(a){cvjs_debug&&console.log("DoSetUpVq ");if(VqSetup)cvjs_debug&&console.log("returning DoSetUpVq()");else{VqSetup=!0;cvjs_svgScale=cvjs_svgTransY=cvjs_svgTransX=cvjs_svgScaleTrans=cvjs_svgwidth=cvjs_svgHeight=cvjs_svgviewBox="";cvjs_svgWidthHeight100percent=!1;DefaultZoomFactor=1.1;hgt=jQuery(window).height()-(jQuery("#logorow").height()+jQuery("#navrow").height()+20);wid=jQuery(window).width()-128;var d="#"+a;void 0==a&&(a=floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_debug&&
console.log("2 DoSetUpVq"+a);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);fileOverlay?cvjs_debug&&console.log("file overlay we do nothing"):(cvjs_rPaper[cvjs_active_floorplan_div_nr]=null,d="#"+a,cvjs_rPaper[cvjs_active_floorplan_div_nr]||(cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap(d)));if(SVGloadFlag&&!SVGfragmentIsLoaded)cvjs_debug&&console.log("we are loading SVG but the fragment is False, therefore return");else{if(SVGfragmentIsLoaded){SVGfragmentIsLoaded=!1;try{if(cvjs_initMasterBackground)if(fileOverlay)cvjs_debug&&
console.log("file overlay we do nothing 2");else{for(var f=document.getElementById(floorplan_div_Array[cvjs_active_floorplan_div_nr]);f.firstChild;)f.removeChild(f.firstChild);cvjs_rPaper[cvjs_active_floorplan_div_nr]=null;cvjs_rPaper[cvjs_active_floorplan_div_nr]||(cvjs_rPaper[cvjs_active_floorplan_div_nr]=Snap(d))}cvjs_svgWidthHeight100percent=!1;hgt=jQuery(d).height();wid=jQuery(d).width();wid=hgt=1E4;cvjs_debug&&console.log("before adding SVG with or without _secondfile ");cvjs_SVGGroup[cvjs_active_floorplan_div_nr]=
cvjs_rPaper[cvjs_active_floorplan_div_nr].group();fileOverlay?cvjs_SVGGroup[cvjs_active_floorplan_div_nr].attr({id:"main_master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"_secondfile"}):cvjs_SVGGroup[cvjs_active_floorplan_div_nr].attr({id:"main_master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]});var h=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].svg(0,0,wid,hgt,0,0,wid,hgt);h.add(SVGloadedFragment);cvjs_SVGGroup[cvjs_active_floorplan_div_nr].add(h);var n=cvjs_rPaper[cvjs_active_floorplan_div_nr].toString();
d=n;var p=d.indexOf("<svg");h=f=0;-1<p&&(f=d.indexOf("<svg",p+4),d.substring(0,f),d=d.substring(f),cvjs_debug&&console.log("pString after first svg is cut out: "+d.substring(0,400)),h=d.substring(4).indexOf("<svg"),-1<h&&(f=d.indexOf("<svg",h+4),d=d.substring(f)));n=d;cvjs_debug&&console.log("After viewBox search "+n.substring(0,100));if(0<d.indexOf("viewBox")){d=d.substring(d.indexOf("viewBox")+9);d=d.substring(0,d.indexOf('"'));var q=d.split(" ")}d=n;0<d.indexOf("width=")&&(d=d.substring(d.indexOf("width=")+
7),d=d.substring(0,d.indexOf('"')),cvjs_svgWidth=Number(d));0==d.indexOf("100%")&&(cvjs_svgWidthHeight100percent=!0,cvjs_svgWidth=cvjs_svgviewBox[2]);d=n;0<d.indexOf("height=")&&(d=d.substring(d.indexOf("height=")+8),d=d.substring(0,d.indexOf('"')),cvjs_svgHeight=Number(d));0==d.indexOf("100%")&&(cvjs_svgHeight=cvjs_svgviewBox[3],cvjs_svgWidthHeight100percent=!0);try{cvjs_svgviewBox=q.map(Number),cvjs_debug&&console.log(cvjs_svgviewBox[0]+" cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr+
" "+actualLLX[cvjs_active_floorplan_div_nr]),cvjs_svgviewBox[2]!=cvjs_svgWidth||cvjs_svgviewBox[3]!=cvjs_svgHeight?(actualLLX[cvjs_active_floorplan_div_nr]=0,actualLLY[cvjs_active_floorplan_div_nr]=0,actualURX[cvjs_active_floorplan_div_nr]=cvjs_svgWidth,actualURY[cvjs_active_floorplan_div_nr]=cvjs_svgHeight):(actualLLX[cvjs_active_floorplan_div_nr]=cvjs_svgviewBox[0],actualLLY[cvjs_active_floorplan_div_nr]=cvjs_svgviewBox[1],actualURX[cvjs_active_floorplan_div_nr]=cvjs_svgviewBox[2],actualURY[cvjs_active_floorplan_div_nr]=
cvjs_svgviewBox[3]),cvjs_debug&&console.log("SETTING OF MASTERBACKGROUND "+actualURX[cvjs_active_floorplan_div_nr]+"  "+actualURY[cvjs_active_floorplan_div_nr]),void 0!=cvjs_masterBackground[cvjs_active_floorplan_div_nr]&&cvjs_masterBackground[cvjs_active_floorplan_div_nr].remove(),cvjs_masterBackground[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],
actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])),cvjs_masterBackground[cvjs_active_floorplan_div_nr].data("id","master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({id:"master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]}),cvjs_masterBackground[cvjs_active_floorplan_div_nr].after(cvjs_SVGGroup)}catch(G){cvjs_debug&&
console.log("values.map cvjs_svgviewBox "+G),actualLLX[cvjs_active_floorplan_div_nr]=0,actualLLY[cvjs_active_floorplan_div_nr]=0,actualURX[cvjs_active_floorplan_div_nr]=cvjs_svgWidth,actualURY[cvjs_active_floorplan_div_nr]=cvjs_svgHeight}cvjs_debug&&console.log("MASTERBACKGROUND actualLLX="+actualLLX[cvjs_active_floorplan_div_nr]);var t=cvjs_svgHeight/cvjs_svgviewBox[3],u=(cvjs_svgWidth-cvjs_svgviewBox[2]/cvjs_svgviewBox[3]*cvjs_svgHeight)/2/t;cvjs_svgScaleTrans="T"+(u-cvjs_svgviewBox[0])+","+(0-
cvjs_svgviewBox[1])+"S"+t+",0,0";cvjs_svgTransX=u-cvjs_svgviewBox[0];cvjs_svgTransY=0-cvjs_svgviewBox[1];cvjs_svgScale=t;cvjs_debug&&console.log("cvjs_addSVGClickHandler "+cvjs_addSVGClickHandler);if(cvjs_addSVGClickHandler){var v={};jQuery("*[id]").each(function(){var a=jQuery(this).attr("id");v[a]||(v[a]=!0)});for(var w in v)try{var x="#"+w,A=jQuery(x).attr("stroke-width");void 0!=A&&jQuery(x).data("original_stroke_width",A);var y=jQuery(x).attr("style");if(void 0==y)jQuery(x).data("original_stroke",
"Undefined");else for(var B=y.split(";"),z=0;z<B.length;z++){var C=B[z].split(":");"stroke"==C[0].trim()&&jQuery(x).data("original_stroke",C[1].trim())}jQuery(x).click(function(a){cvjs_SVGfileObjectClicked(jQuery(this).attr("id"),a.pageX,a.pageY)});jQuery(x).mouseenter(function(a){cvjs_SVGfileObjectMouseEnter(jQuery(this).attr("id"),a.pageX,a.pageY)});jQuery(x).mouseleave(function(a){cvjs_SVGfileObjectMouseLeave(jQuery(this).attr("id"),a.pageX,a.pageY)});jQuery(x).mousemove(function(a){cvjs_SVGfileObjectMouseMove(jQuery(this).attr("id"),
a.pageX,a.pageY)})}catch(G){console.log("Err 2: "+G)}}}catch(G){console.log("Err 3 "+G)}}else cvjs_debug&&console.log("BEFORE INIT MASTERBACKGROUND "+cvjs_initMasterBackground),cvjs_initMasterBackground&&(cvjs_masterBackground[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])),cvjs_masterBackground[cvjs_active_floorplan_div_nr].data("id","master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({id:"master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]}));try{printDebugFlag?cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#aa0fc0","fill-opacity":"1.0"}):cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#fff",
"fill-opacity":"0.01","stroke-width":0})}catch(G){cvjs_masterBackground[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])),cvjs_masterBackground[cvjs_active_floorplan_div_nr].data("id",
"master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({id:"master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]}),cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#0000ff","fill-opacity":"0.3","stroke-width":0}),printDebugFlag?cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#aa0fc0","fill-opacity":"1.0"}):cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#fff","fill-opacity":"0.01","stroke-width":0})}viewBoxWidth[cvjs_active_floorplan_div_nr]=
fpWidth;viewBoxHeight[cvjs_active_floorplan_div_nr]=winHeight;rpWidth[cvjs_active_floorplan_div_nr]=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr];rpHeight[cvjs_active_floorplan_div_nr]=actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr];rpX=actualLLX[cvjs_active_floorplan_div_nr];rpY=actualLLY[cvjs_active_floorplan_div_nr];vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];xfactor=rpWidth[cvjs_active_floorplan_div_nr]/
viewBoxWidth[cvjs_active_floorplan_div_nr];yfactor=rpHeight[cvjs_active_floorplan_div_nr]/viewBoxHeight[cvjs_active_floorplan_div_nr];zoomScale=xfactor>yfactor?yfactor:xfactor;cvjs_debug&&console.log("zoomScale="+zoomScale+" vBHo"+vBHo+" vBWo "+vBWo+"  viewBoxHeight[cvjs_active_floorplan_div_nr]="+viewBoxHeight[cvjs_active_floorplan_div_nr]+"   viewBoxWidth[cvjs_active_floorplan_div_nr]="+viewBoxWidth[cvjs_active_floorplan_div_nr]);cvjs_debug&&console.log("actualLLX[cvjs_active_floorplan_div_nr]="+
actualLLX[cvjs_active_floorplan_div_nr]+" actualLLY[cvjs_active_floorplan_div_nr]"+actualLLY[cvjs_active_floorplan_div_nr]);n='{"viewBox" : "'+actualLLX[cvjs_active_floorplan_div_nr]+" "+actualLLY[cvjs_active_floorplan_div_nr]+" "+rpWidth[cvjs_active_floorplan_div_nr]+" "+rpHeight[cvjs_active_floorplan_div_nr]+'" }';cvjs_debug&&console.log("x6 attr_2="+n);n=jQuery.parseJSON(n);cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(n);viewBox[cvjs_active_floorplan_div_nr]={X:0,Y:0,width:0,height:0};viewBox[cvjs_active_floorplan_div_nr].X=
actualLLX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=actualLLY[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]=rpWidth[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=rpHeight[cvjs_active_floorplan_div_nr];objArr=[];pathArr=[];try{drawDrawing(cvjs_rPaper[cvjs_active_floorplan_div_nr]),drawPaths(cvjs_rPaper[cvjs_active_floorplan_div_nr]),cvjs_Community_Version?layer_vqrooms[active_floorplan_div_nr]=paper.g():setUpVqRooms(cvjs_rPaper[cvjs_active_floorplan_div_nr],
cvjs_active_floorplan_div_nr)}catch(G){cvjs_debug&&console.log("Err 5: Note: .js loading: drawDrawing, drawPaths, setUpVqRooms  "+G)}try{drawThumb(cvjs_rPaper[cvjs_active_floorplan_div_nr])}catch(G){cvjs_debug&&console.log("Err 6: Note: .js loading:  drawThumb  "+G)}try{setUpVqStickyNotes(cvjs_rPaper[cvjs_active_floorplan_div_nr]),setUpVqRedlines(cvjs_rPaper[cvjs_active_floorplan_div_nr]),setUpVqURLs(cvjs_rPaper[cvjs_active_floorplan_div_nr])}catch(G){cvjs_debug&&console.log("Err 7: Note: .js loading:  setUpVqStickyNotes, setUpVqRedlines, setUpVqURLs "+
G)}cvjs_debug&&console.log("before cvjs_masterBackground[cvjs_active_floorplan_div_nr] "+cvjs_initMasterBackground);cvjs_initMasterBackground&&cvjs_masterBackground[cvjs_active_floorplan_div_nr].add(layers_all);cvjs_addMouseWheelControls(cvjs_active_floorplan_div_nr);if(!SVGloadFlag){cvjs_debug&&console.log("before parsing Layers ");try{for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)layerTable[cvjs_active_floorplan_div_nr].layers[id].layer.data("layerClass",layerTable[cvjs_active_floorplan_div_nr].layers[id].layerClass),
layerTable[cvjs_active_floorplan_div_nr].layers[id].layer.mousedown(function(a){if(cvjs_turnDrawingLayerOffFlag)for(cvjs_turnDrawingLayerOffFlag=!1,a=this.data("layerClass"),jj=0;jj<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;jj++)layerTable[cvjs_active_floorplan_div_nr].layers[jj].layerClass==a&&"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[jj].status&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[jj].layer),layerTable[cvjs_active_floorplan_div_nr].layers[jj].status=
"OFF")})}catch(G){console.log("we could not add Layer handlers to objects"+G)}}if(SVGloadFlag){SVGloadFlag=!1;cvjs_svgCreatedFromConversion&&(cvjs_svgCreatedFromConversion=!1,cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]=cvjs_svgCreationContentLocation,cvjs_loadDrawing_conversionMode=!0);cvjs_debug&&console.log("META-DATA SECTION");n="";try{var E=document.querySelectorAll('[id^="cadviewer_multiPages"]'),F=!1;z=0;for(var D=E.length;z<D;z++){var J=E[z].id,H="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+
"]",I=jQuery("#"+J).parents(H).attr("id");I!=floorplan_div_Array[cvjs_active_floorplan_div_nr]||F||(F=!0,n=E[z].textContent,n=n.substring(n.indexOf("=")+1),multiPages[cvjs_active_floorplan_div_nr]=jQuery.parseJSON(n),cvjs_debug&&console.log("INSIDE LOOP cadviewer_multiPages_xxx  cvjs_active_floorplan_div_nr="+cvjs_active_floorplan_div_nr))}F||(n=document.getElementById("cadviewer_multiPages").textContent,n=n.substring(n.indexOf("=")+1),multiPages[cvjs_active_floorplan_div_nr]=jQuery.parseJSON(n),
cvjs_debug&&console.log("AFTER LOOP cadviewer_multiPages  cvjs_active_floorplan_div_nr="+cvjs_active_floorplan_div_nr))}catch(G){cvjs_debug&&console.log("no multiPages["+cvjs_active_floorplan_div_nr+"] defined in metadata"+G)}try{E=document.querySelectorAll('[id^="cadviewer_worldUnits"]');F=!1;z=0;for(D=E.length;z<D;z++)J=E[z].id,H="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]",I=jQuery("#"+J).parents(H).attr("id"),I!=floorplan_div_Array[cvjs_active_floorplan_div_nr]||F||(F=!0,n=E[z].textContent,
n=n.substring(n.indexOf("=")+1),cvjs_debug&&console.log("XX"+n+"XX"),worldUnits=jQuery.parseJSON(n));F||(n=document.getElementById("cadviewer_worldUnits").textContent,n=n.substring(n.indexOf("=")+1),cvjs_debug&&console.log("XX"+n+"XX"),worldUnits=jQuery.parseJSON(n));0==worldUnits.svgToWorldUnits&&(worldUnits.svgToWorldUnits=1);worldUnits.svgToWorldUnits=1/worldUnits.svgToWorldUnits;cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]=worldUnits.svgToWorldUnits;cvjs_units[cvjs_active_floorplan_div_nr]=
worldUnits.units;cvjs_debug&&console.log("worldUnits.units "+worldUnits.units)}catch(G){cvjs_debug&&console.log("no worldUnits defined in metadata"+G)}try{E=document.querySelectorAll('[id^="cadviewer_drawingCoordinates"]');F=!1;z=0;for(D=E.length;z<D;z++)J=E[z].id,H="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]",I=jQuery("#"+J).parents(H).attr("id"),I!=floorplan_div_Array[cvjs_active_floorplan_div_nr]||F||(F=!0,n=E[z].textContent,n=n.replace(/(\r\n|\n|\r)/gm,""),cvjs_debug&&console.log("cadviewer_drawingCoordinates="+
n+"XXX"),cvjs_drawingCoordinates[multiPages[cvjs_active_floorplan_div_nr].currentPage]=jQuery.parseJSON(n));F||(n=document.getElementById("cadviewer_drawingCoordinates").textContent,n=n.replace(/(\r\n|\n|\r)/gm,""),cvjs_debug&&console.log("cadviewer_drawingCoordinates="+n+"XXX"),cvjs_drawingCoordinates[multiPages[cvjs_active_floorplan_div_nr].currentPage]=jQuery.parseJSON(n));cvjs_debug&&console.log("drawingCoordinates "+cvjs_drawingCoordinates[multiPages[cvjs_active_floorplan_div_nr].currentPage]+
"     "+multiPages[cvjs_active_floorplan_div_nr].currentPage)}catch(G){cvjs_debug&&console.log("no drawingCoordinates defined in metadata or parsing error "+G)}cvjs_debug&&console.log("Now we add handler to SVG layers:");layerTable[cvjs_active_floorplan_div_nr]={numberOfLayers:0,layers:[]};v={};jQuery("[id^=layer_]").each(function(){var a=jQuery(this).attr("id"),d=a.toString();-1<d.indexOf("\\u")&&(d=d.replace(/\\u/g,"__u"),document.getElementById(a).setAttribute("id",d))});jQuery("[id^=layer_]").each(function(){var a=
jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(v[a]||(v[a]=!0),jQuery(this).attr(hide))});XrefFileList[0]="none";E=XrefFileList.length=0;for(w in v){x="#"+w;var L=w,M="",O="",Q="ON";M=jQuery(x).attr("class");jQuery(x).each(function(){jQuery.each(this.attributes,function(){if(this.specified){var a=this.name.toString().toLowerCase();"id"==a&&(L=this.value);"class"==a&&(M=
this.value);"cvjs:layername"==a&&(O=this.value);"cvjs:status"==a&&(Q=this.value)}})});layer_base_name=O=JSON.parse('"'+O+'"');xref_file="none";xref_flag=!1;xref_extension="none";xref_extension=void 0==cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]||null==cvjs_preConversionFileName[cvjs_active_floorplan_div_nr]?"svg":cvjs_preConversionFileName[cvjs_active_floorplan_div_nr].substring(cvjs_preConversionFileName[cvjs_active_floorplan_div_nr].lastIndexOf(".")+1);if(-1<O.indexOf("|")){layer_base_name=
O.substring(O.indexOf("|")+1);xref_file=O.substring(0,O.indexOf("|"))+"."+xref_extension;for(k=0;k<XrefFileList.length;k++)0==XrefFileList[k].indexOf(xref_file)&&(xref_flag=!0),0==XrefFileList[k].indexOf("none")&&(XrefFileList[k]=xref_file,xref_flag=!0);xref_flag||(XrefFileList[XrefFileList.length]=xref_file)}try{if(-1<M.toString().indexOf("\\u")||M.toString().endsWith("_block")){if(-1<M.toString().indexOf("\\u")){jQuery(x).removeClass(M);var T=M.toString().replace(/\\u/g,"_u");jQuery(x).addClass(T);
M=jQuery(x).attr("class");var U=x.toString().replace(/__u/g,"_u");if(jQuery(U).length)jQuery(x).detach().appendTo(U);else{var S={layer:L,layerClass:M,layerName:O,status:Q,layerBaseName:layer_base_name,xRefFile:xref_file};layerTable[cvjs_active_floorplan_div_nr].layers[E]=S;E++;layerTable[cvjs_active_floorplan_div_nr].numberOfLayers=E}}M.toString().endsWith("_block")&&(U=x.substring(0,x.toString().indexOf("_block")),jQuery(U).length?(jQuery(x).removeClass(M),T=M.toString().substring(0,M.toString().indexOf("_block")),
jQuery(x).addClass(T),M=jQuery(x).attr("class"),jQuery(x).detach().appendTo(U)):(S={layer:L,layerClass:M,layerName:O,status:Q,layerBaseName:layer_base_name,xRefFile:xref_file},layerTable[cvjs_active_floorplan_div_nr].layers[E]=S,E++,layerTable[cvjs_active_floorplan_div_nr].numberOfLayers=E))}else S={layer:L,layerClass:M,layerName:O,status:Q,layerBaseName:layer_base_name,xRefFile:xref_file},layerTable[cvjs_active_floorplan_div_nr].layers[E]=S,E++,layerTable[cvjs_active_floorplan_div_nr].numberOfLayers=
E}catch(G){M=L,O=L.substring(L.indexOf("layer_")+6),Q="ON",S={layer:L,layerClass:M,layerName:O,status:Q,layerBaseName:layer_base_name,xRefFile:xref_file},layerTable[cvjs_active_floorplan_div_nr].layers[E]=S,E++,layerTable[cvjs_active_floorplan_div_nr].numberOfLayers=E}}cvjs_debug&&console.log("layerTable[cvjs_active_floorplan_div_nr].numberOfLayers  "+layerTable[cvjs_active_floorplan_div_nr].numberOfLayers);for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++){for(j=0;j<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;j++)id!=
j?jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[j].layer).attr(hide):jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[j].layer).attr(show);bbox=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox();cvjs_debug&&console.log(" cvjs_active_floorplan_div_nr:"+cvjs_active_floorplan_div_nr+" "+layerTable[cvjs_active_floorplan_div_nr].layers[id].layer)}try{for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[id].layer).attr(show)}catch(G){console.log(err+
" show layers")}try{for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"cvjs_Thumb"==layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF"),jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[id].layer).mousedown(function(a){if(cvjs_turnDrawingLayerOffFlag)for(cvjs_turnDrawingLayerOffFlag=!1,a=jQuery(this).attr("id"),jj=0;jj<
layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;jj++)layerTable[cvjs_active_floorplan_div_nr].layers[jj].layerClass==a&&"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[jj].status&&(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[jj].layer),layerTable[cvjs_active_floorplan_div_nr].layers[jj].status="OFF")})}catch(G){console.log("we could not add Layer handlers to objects"+G)}try{void 0==vqRooms[cvjs_active_floorplan_div_nr]&&(vqRooms[cvjs_active_floorplan_div_nr]=[],console.log("QQQQQQQQQQQQQQQQQ third init vqRooms "+
cvjs_active_floorplan_div_nr));cvjs_debug&&console.log("AAAA BEFORE setupVqRoom  vqRooms.length "+vqRooms[cvjs_active_floorplan_div_nr].length+" buildings[vqBuilding].floors[vqFloor].rooms.length "+Object.keys(buildings[vqBuilding].floors[vqFloor].rooms).length);T=[];vqBuilding="BUILDING_NAME_GOES_HERE";vqFloor="FLOOR_NAME_GOES_HERE";buildings={BUILDING_NAME_GOES_HERE:{name:"",company:"",address:"",city:"",state:"",zipcode:"",country:"",FacMgr:"",FacMgr_title:"",FacMgr_email:"",FacMgr_phone:"",floors:{FLOOR_NAME_GOES_HERE:{name:"name_of_file_to_appear",
file:"file_name",rooms:{}}}}};cvjs_debug&&console.log("before cvjs_nodes loop buildings[vqBuilding].floors[vqFloor].rooms "+buildings[vqBuilding].floors[vqFloor].rooms.length);vqRooms[cvjs_active_floorplan_div_nr]=[];v={};jQuery(".cvjs_nodes, [id^=layer_]").each(function(){var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(v[a]||(v[a]=!0))});E=0;try{cvjs_units[cvjs_active_floorplan_div_nr]=
worldUnits.units}catch(G){cvjs_units[cvjs_active_floorplan_div_nr]="mm"}var ca="XX";for(w in v){try{x="#"+w,cvjs_debug&&console.log("target "+x),jQuery(x).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:layername"==this.name.toString().toLowerCase()&&(ca=this.value)})})}catch(G){console.log("try catch layer")}try{x="#"+w;var da=jQuery(x).attr("d");E++;var Y="",V="",W="",P="",K="";jQuery(x).each(function(){jQuery.each(this.attributes,function(){if(this.specified){var a=
this.name.toString().toLowerCase();"cvjs:roomid"==a&&(W=this.value);"cvjs:name"==a&&(V=this.value);"cvjs:type"==a&&(P=this.value);"cvjs:node"==a&&(Y=this.value);"cvjs:area"==a&&(K=this.value)}})});T[z]=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(da).data("node",Y);vqRooms[cvjs_active_floorplan_div_nr].push(T[z]);""==V&&(V=W);""==P&&(P="Space");"m"==cvjs_units[cvjs_active_floorplan_div_nr]?(""!=K&&(P+=" <br>"+Number(K).toFixed(2)+" m<sup>2</sup>"),""!=K&&(K=Number(K).toFixed(2)+" m2")):"cm"==cvjs_units[cvjs_active_floorplan_div_nr]?
(""!=K&&(P+=" <br>"+(Number(K)/1E4).toFixed(2)+" m<sup>2</sup>"),""!=K&&(K=(Number(K)/1E4).toFixed(2)+" m2")):"mm"==cvjs_units[cvjs_active_floorplan_div_nr]?(""!=K&&(P+=" <br>"+(Number(K)/1E6).toFixed(2)+" m<sup>2</sup>"),""!=K&&(K=(Number(K)/1E6).toFixed(2)+" m2")):"in"==cvjs_units[cvjs_active_floorplan_div_nr]?(""!=K&&(P+=" <br>"+(Number(K)/1550.003).toFixed(2)+" m<sup>2</sup>"),""!=K&&(K=(Number(K)/1550.003).toFixed(2)+" m2")):(""!=K&&(P+=" <br>"+(Number(K)/1E6).toFixed(2)+" m<sup>2</sup>"),""!=
K&&(K=(Number(K)/1E6).toFixed(2)+" m2"));buildings[vqBuilding].floors[vqFloor].rooms[Y]={name:V,id:W,type:P,area:K,attributeStatus:"unpopulated",attributes:[{name:"Room Id",value:""},{name:"FirstName",value:""},{name:"LastName",value:""},{name:"Phone",value:""},{name:"Building",value:""},{name:"Floor",value:""},{name:"Department",value:""},{name:"Division",value:""},{name:"Dept Name",value:""},{name:"Category",value:""},{name:"Type",value:""},{name:"Standard",value:""}],occupancy:"",tags:{1:""},linked:!0,
handle:"",layer:ca,displaySpaceObject:"on"}}catch(G){console.log("Err 8: "+G)}}v={};jQuery(".cvjs_handles").each(function(){var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(v[a]||(v[a]=!0))});z=E=0;for(w in v)z++;for(w in v)try{x="#"+w,da=jQuery(x).attr("d"),E++,K=P=W=V=Y="",jQuery(x).each(function(){jQuery.each(this.attributes,function(){if(this.specified&&"cvjs:handle"==
this.name.toString().toLowerCase()){W=this.value;var a=w+"_clone";jQuery(x).clone().insertAfter(x).attr("id",a);jQuery("#"+a).css("stroke");var d=jQuery("#"+a).css("stroke-width");"text"!=jQuery("#"+a).get(0).tagName&&(0<d.indexOf("px")&&(d=d.substring(0,d.indexOf("px"))),d=10*parseFloat(d),jQuery("#"+a).css({"stroke-width":d+"px"}));jQuery("#"+a).css({opacity:.01});jQuery("#"+a).mouseover(function(a){var d=jQuery(this).attr("id"),f=jQuery(this).attr("class"),h="";-1<f.indexOf("AcDb")&&(h=f.substring(f.indexOf("AcDb")),
-1<h.indexOf(" ")&&(h=h.substring(0,h.indexOf(" "))));var n="";jQuery(this).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:handle"==this.name.toString().toLowerCase()&&(n=this.value,0<d.indexOf("_clone")?cvjs_mouseover(d.substring(0,d.indexOf("_clone")),n,h):cvjs_mouseover(d,n,h))})});cvjs_handleToolTip&&(tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html("Handle: "+n+"<br>"+h),tip[cvjs_active_floorplan_div_nr].show(),f=jQuery("#"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).position(),"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-f.left+document.documentElement.scrollLeft+10).css("top",a.clientY-f.top+document.documentElement.scrollTop-25))});jQuery("#"+a).mouseenter(function(a){var d=
jQuery(this).attr("id");a=jQuery(this).attr("class");var f="";-1<a.indexOf("AcDb")&&(f=a.substring(a.indexOf("AcDb")),-1<f.indexOf(" ")&&(f=f.substring(0,f.indexOf(" "))));jQuery(this).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:handle"==this.name.toString().toLowerCase()&&(0<d.indexOf("_clone")?cvjs_mouseenter(d.substring(0,d.indexOf("_clone")),this.value,f):cvjs_mouseenter(d,this.value,f))})})});jQuery("#"+a).mouseout(function(a){var d=jQuery(this).attr("id");a=
jQuery(this).attr("class");var f="";-1<a.indexOf("AcDb")&&(f=a.substring(a.indexOf("AcDb")),-1<f.indexOf(" ")&&(f=f.substring(0,f.indexOf(" "))));jQuery(this).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:handle"==this.name.toString().toLowerCase()&&(0<d.indexOf("_clone")?cvjs_mouseout(d.substring(0,d.indexOf("_clone")),this.value,f):cvjs_mouseout(d,this.value,f))})});cvjs_handleToolTip&&tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#"+a).mouseleave(function(){var a=
jQuery(this).attr("id"),d=jQuery(this).attr("class"),f="";-1<d.indexOf("AcDb")&&(f=d.substring(d.indexOf("AcDb")),-1<f.indexOf(" ")&&(f=f.substring(0,f.indexOf(" "))));jQuery(this).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:handle"==this.name.toString().toLowerCase()&&(0<a.indexOf("_clone")?cvjs_mouseleave(a.substring(0,a.indexOf("_clone")),this.value,f):cvjs_mouseleave(a,this.value,f))})})});jQuery("#"+a).click(function(){var a=jQuery(this).attr("id"),d=jQuery(this).attr("class"),
f="";-1<d.indexOf("AcDb")&&(f=d.substring(d.indexOf("AcDb")),-1<f.indexOf(" ")&&(f=f.substring(0,f.indexOf(" "))));jQuery(this).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:handle"==this.name.toString().toLowerCase()&&(0<a.indexOf("_clone")?cvjs_click(a.substring(0,a.indexOf("_clone")),this.value,f):cvjs_click(a,this.value,f))})})});jQuery("#"+a).dblclick(function(){var a=jQuery(this).attr("id"),d=jQuery(this).attr("class"),f="";-1<d.indexOf("AcDb")&&(f=d.substring(d.indexOf("AcDb")),
-1<f.indexOf(" ")&&(f=f.substring(0,f.indexOf(" "))));jQuery(this).each(function(){jQuery.each(this.attributes,function(){this.specified&&"cvjs:handle"==this.name.toString().toLowerCase()&&(0<a.indexOf("_clone")?cvjs_dblclick(a.substring(0,a.indexOf("_clone")),this.value,f):cvjs_dblclick(a,this.value,f))})})})}})})}catch(G){console.log("Err 9: "+G)}cvjs_debug&&console.log("BEFORE setupVqRoom  vqRooms.length "+vqRooms[cvjs_active_floorplan_div_nr].length+" buildings[vqBuilding].floors[vqFloor].rooms.length "+
Object.keys(buildings[vqBuilding].floors[vqFloor].rooms).length);cvjs_Community_Version?layer_vqrooms[active_floorplan_div_nr]=paper.g():setUpVqRooms(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_active_floorplan_div_nr);cvjs_MinWidth=-1}catch(G){console.log("no buildings defined in metadata"+G)}}try{try{if(cvjs_rPaper[cvjs_active_floorplan_div_nr].selectAll("text").attr({"stroke-width":"0"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].selectAll("path").attr({"stroke-linejoin":"round"}),cvjs_PDFloadFlag||
jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(500),page_change_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(page_change_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,pageChangeInterface[cvjs_interfaceCounterIndex(floorplan_div_Array[cvjs_active_floorplan_div_nr])])){jQuery("#floatNavigationMenu_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).show();var N=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position(),ha=N.top+5,aa=N.left+
jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width()-475;40>aa&&(aa=40);jQuery("#floatNavigationMenu_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).offset({top:ha,left:aa})}}catch(G){console.log("LoadEnd: change_modal: "+G)}try{N="";N=cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]?cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage+"/"+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].multiPages:multiPages[cvjs_active_floorplan_div_nr].currentPage+"/"+multiPages[cvjs_active_floorplan_div_nr].multiPages;
D=N.length;jQuery("#floatpagemenuText1_topBar_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(N);N="&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"+N;7<=D?(N+="",D+=1):6==D?(N="&nbsp"+N,D=9):5==D?(N="&nbsp&nbsp"+N,D=9):4==D?(N="&nbsp&nbsp&nbsp&nbsp"+N,D=9):3==D&&(N="&nbsp&nbsp&nbsp&nbsp&nbsp"+N+"&nbsp",D=9);N+="&nbsp&nbsp&nbsp&nbsp";if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]){var Z="";Z=-1<cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage-
1].pageName.indexOf("com.autodesk")?"Layout":cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage-1].pageName}else Z="",Z=-1<multiPages[cvjs_active_floorplan_div_nr].pages[multiPages[cvjs_active_floorplan_div_nr].currentPage-1].pageName.indexOf("com.autodesk")?"Layout":multiPages[cvjs_active_floorplan_div_nr].pages[multiPages[cvjs_active_floorplan_div_nr].currentPage-1].pageName;var X=Z;D=X.length;24<D&&(X=X.substring(0,22)+"..");jQuery("#floatpagemenuText2_topBar_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(X);var ba=N+"  "+X;jQuery("#floatpagemenuText_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(ba);cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]&&(multiPages[cvjs_active_floorplan_div_nr]=cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr])}catch(G){console.log("LoadEnd: pageNr_err: "+G),ba="&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp1/1&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp  Single Page",
jQuery("#floatpagemenuText_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(ba),jQuery("#floatpagemenuText1_topBar_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("1/1"),jQuery("#floatpagemenuText2_topBar_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("Single Page")}try{cvjs_redlineThickness_scaleFactor=cvjs_redlineThickness_drawingFactor*Math.sqrt(Math.pow(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],2)+Math.pow(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr],2)),first_thickness=!0,cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr]&&(cvjs_displayMagnifyingGlassFlag[cvjs_active_floorplan_div_nr]=!1,cvjs_exitBirdsEye(floorplan_div_Array[cvjs_active_floorplan_div_nr])),cvjs_calibratedMeasurement=!1,cvjs_clearDrawingStickyNotes(),cvjs_Community_Version||cvjs_updateDrawingRedlines(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr])}catch(G){console.log("LoadEnd: magnify, clear, update, checkLicense: "+
G)}}catch(G){console.log(" 1 LoadEnd: "+G)}cvjs_resetZoomPan_SetMasterBackground(cvjs_active_floorplan_div_nr);cvjs_floorplan_div=a;cvjs_masterBackground[cvjs_active_floorplan_div_nr].drag(dragMove,dragStart,dragEnd);cvjs_masterBackground[cvjs_active_floorplan_div_nr].mousedown(function(d){currentMasterDiv=this.data("id");currentMasterDiv=currentMasterDiv.substring(7);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_debug&&console.log(currentMasterDiv+"  "+cvjs_active_floorplan_div_nr+"    active_floorplan_div_nr")});
cvjs_masterBackground[cvjs_active_floorplan_div_nr].mouseup(function(a){cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show);dragInsidePolygon&&0==totalDragStart&&(dragInsidePolygon=!1,DoMouseUp(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop),setRoomAfterPanPC())});cvjs_masterBackground[cvjs_active_floorplan_div_nr].mousemove(function(a){try{mousex=a.clientX+document.body.scrollLeft;mousey=a.clientY+document.body.scrollTop;try{!cvjs_Community_Version&&
tooltipLast[cvjs_active_floorplan_div_nr]!=lastObj[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&-1!=tooltipLast[cvjs_active_floorplan_div_nr]&&(!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[active_floorplan_div_nr]].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[active_floorplan_div_nr]].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[active_floorplan_div_nr]].attr(defaultColor_unlinked),
tip[cvjs_active_floorplan_div_nr].hide())}catch(R){}try{tooltipLastStickyNote!=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&(cvjs_supressPopUpModal?vqStickyNotes[tooltipLastStickyNote].data("linked")?vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_linked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_unlinked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_StickyNotes),tip[cvjs_active_floorplan_div_nr].hide())}catch(R){}try{tooltipLastHyperlink!=lastObjHyperlink[cvjs_active_floorplan_div_nr]&&
cvjs_location_flag&&(cvjs_supressHyperlinkColors?vqURLs[tooltipLastHyperlink].attr(defaultColor_Hyperlinks_blank):vqURLs[tooltipLastHyperlink].attr(defaultColor_Hyperlinks),tip[cvjs_active_floorplan_div_nr].hide())}catch(R){}dragInsidePolygon&&0==totalDragStart&&(dx=a.clientX+document.body.scrollLeft,dy=a.clientY+document.body.scrollTop,DoMouseMove(dx,dy))}catch(R){}}).touchstart(function(a){preventDrag=!0;ttest=0;a.preventDefault();a.stopPropagation();if(!thumb_loaded){thumb_loaded=!0;try{drawThumb(cvjs_rPaper[cvjs_active_floorplan_div_nr])}catch(R){}}try{0==
totalDragStart&&(panWithThumb&&(layers_all.attr(hide),layer_thumb.attr(show),all_layer_off_thumb_on()),console.log("hide vqrooms"),layer_vqrooms[cvjs_active_floorplan_div_nr].attr(hide))}catch(R){console.log("t9 "+R)}try{firstFingerX=a.touches[0].pageX,firstFingerY=a.touches[0].pageY,totalDragStart=1,preventDrag=!1,secondFingerX=a.touches[1].pageX,secondFingerY=a.touches[1].pageY,totalDragStart=2,preventDrag=!0,allowPinchInPolygons=!1,deltaXinit=secondFingerX-firstFingerX,deltaYinit=secondFingerY-
firstFingerY,deltaDynamicPre=deltaBase=Math.sqrt(deltaXinit*deltaXinit+deltaYinit*deltaYinit),viewBoxWidthPre=viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxheightPre=viewBoxHeight[cvjs_active_floorplan_div_nr],firstFingerX1=firstFingerX,firstFingerY1=firstFingerY,firstFingerX_init=firstFingerX,firstFingerY_init=firstFingerY,viewBox_initX[cvjs_active_floorplan_div_nr]=viewBox[cvjs_active_floorplan_div_nr].X,viewBox_initY[cvjs_active_floorplan_div_nr]=viewBox[cvjs_active_floorplan_div_nr].Y,viewBoxWidth_init[cvjs_active_floorplan_div_nr]=
viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxHeight_init[cvjs_active_floorplan_div_nr]=viewBoxHeight[cvjs_active_floorplan_div_nr],flagOK=!0}catch(R){}}).touchend(function(a){preventDrag=!0;2==totalDragStart&&(a.preventDefault(),a.stopPropagation(),tip[cvjs_active_floorplan_div_nr].hide(),cvjs_Community_Version||hideOnlyPop());try{if(2==totalDragStart){viewBox[cvjs_active_floorplan_div_nr].X=viewBox_initX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=viewBox_initY[cvjs_active_floorplan_div_nr];
vBHo=viewBoxHeight_init[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=viewBoxHeight_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBoxHeight[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-
vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2;zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];var d=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(d)}totalDragStart=0;cvjs_Community_Version||
layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show);panWithThumb&&(layers_all.attr(show),layer_thumb.attr(hide),all_layer_on_thumb_off())}catch(ea){console.log(ea)}}).touchmove(function(a){string_X="cvjs_masterbackground[cvjs_active_floorplan_div_nr] touch move event.touches[0].pageXY="+a.touches[0].pageX+"  "+a.touches[0].pageY+"   dragstart="+totalDragStart;jQuery("#movements3").css("color","#FF00FF");jQuery("#movements3").html(string_X);preventDrag&&(a.stopPropagation(),a.preventDefault());
2==totalDragStart&&(a.stopPropagation(),a.preventDefault(),tip[cvjs_active_floorplan_div_nr].hide(),cvjs_Community_Version||hideOnlyPop());if(2==totalDragStart)try{if(firstFingerX=a.touches[0].pageX,firstFingerY=a.touches[0].pageY,totalDragStart=1,preventDrag=!1,secondFingerX=a.touches[1].pageX,secondFingerY=a.touches[1].pageY,totalDragStart=2,preventDrag=!0,deltaX=secondFingerX-firstFingerX,deltaY=secondFingerY-firstFingerY,deltaDynamic=Math.sqrt(deltaX*deltaX+deltaY*deltaY),string_X="event.touches[1].pageX="+
a.touches[1].pageX+"  "+deltaDynamic+"   pre="+deltaDynamicPre,jQuery("#movements").css("color","#FF00FF"),jQuery("#movements").html(string_X),(4<deltaDynamic-deltaDynamicPre||-4>deltaDynamic-deltaDynamicPre)&&flagOK){flagOK=!1;deltaDynamicPre=deltaDynamic;viewBox[cvjs_active_floorplan_div_nr].X=viewBox_initX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=viewBox_initY[cvjs_active_floorplan_div_nr];vBHo=viewBoxHeight_init[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth_init[cvjs_active_floorplan_div_nr];
viewBoxWidth[cvjs_active_floorplan_div_nr]=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=viewBoxHeight_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBoxHeight[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/
2;zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];var d=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(d);firstFingerX1=firstFingerX;firstFingerY1=firstFingerY;flagOK=!0}}catch(ea){}});jQuery("#waitpane").hide();cvjs_change_space(0);ResizeVq(jQuery("#"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(),jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height());try{cvjs_SVGGroup[cvjs_active_floorplan_div_nr].before(cvjs_masterBackground[cvjs_active_floorplan_div_nr])}catch(G){console.log("error setting masterbackground first")}if(cvjs_customMethodForOnLoadEnd)try{cvjs_loadInProgress=!1,cvjs_myOnLoadEndMethod()}catch(G){console.log("Please define cvjs_myOnLoadEndMethod in your encapsulating code: "+G)}else try{var fa=floorplan_div_Array[cvjs_active_floorplan_div_nr].slice(0,
-4);cvjs_loadInProgress=!1;cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]=0;0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_dragBackgroundToFront_SVG(fa);cvjs_currentBackgroundColor[cvjs_active_floorplan_div_nr]=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("background-color");cvjs_OnLoadEnd(fa)}catch(G){console.log("Please define cvjs_OnLoadEnd in your encapsulating code: "+G)}if(cvjs_compareDrawings)try{cvjs_OnLoadEndCompareDrawings()}catch(G){console.log("Please define cvjs_OnLoadEndCompareDrawings in your encapsulating code: "+
G)}D='<option value="1">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.BaseAndXref+"</option>";for(k=0;k<XrefFileList.length;k++)D=D+'<option value="'+(k+2)+'">'+languageTable.languages[cvjs_currentLanguage].LayerListModal.Xref+" "+XrefFileList[k]+"</option>";cvjs_debug&&console.log(" selectString  "+D);jQuery("#cvjs_SelectLayerDrawings").multiselect("destroy");jQuery("#cvjs_SelectLayerDrawings").empty();jQuery("#cvjs_SelectLayerDrawings").append(D);jQuery("#cvjs_SelectLayerDrawings").multiselect({includeSelectAllOption:!0});
jQuery("#cvjs_SelectLayerDrawings option").each(function(){this.selected=!0});jQuery("#cvjs_SelectLayerDrawings").multiselect("refresh")}}}var scroll_locationX,scroll_locationY,cvjs_scrollMouse_intialized=[];
function cvjs_addMouseWheelControls(a){cvjs_debug&&console.log(a+"   "+cvjs_scrollMouse_intialized[a]);if(!cvjs_scrollMouse_intialized[a]){cvjs_scrollMouse_intialized[a]=!0;var d=floorplan_div_Array[a];/Firefox/i.test(navigator.userAgent)?(jQuery("#"+d).mousemove(function(a){scroll_locationX=a.pageX;scroll_locationY=a.pageY}),jQuery("#"+d).bind("DOMMouseScroll",function(a){var f=scroll_locationX,n=scroll_locationY;0<a.originalEvent.detail?(cvjs_debug&&console.log("Down Firefox "+d),cvjs_zoomOutMouseWheel(f,
n,d)):(cvjs_debug&&console.log("Up Firefox "+d),cvjs_zoomInMouseWheel(f,n,d));return!1})):jQuery("#"+d).bind("mousewheel",function(a){var f=event.clientX,n=event.clientY;0>a.originalEvent.wheelDelta?(cvjs_debug&&console.log("Down  Chrome IE Safari "+d),cvjs_zoomOutMouseWheel(f,n,d)):(cvjs_debug&&console.log("Up Chrome IE Safari "+d),cvjs_zoomInMouseWheel(f,n,d,f,n));return!1})}}var cvjs_SVGCallbackMethod;
function cvjs_addHandleFunc_findSVGcoordinates(a){cvjs_SVGCallbackMethod=a;canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?
global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.mousedown(mousedown_cvjs_svgCoord)}var mousedown_cvjs_svgCoord=function(a,d,f){cvjs_SVGCallbackMethod((d-delta_x)/global_scale,(f-delta_y)/global_scale);handleGroup.selectAll("handler").remove();handleGroup.remove()},cvjs_SVGCallbackMethod2;
function cvjs_addHandleFunc_clickSVGobject(a){cvjs_SVGCallbackMethod2=a;canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?
global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.mousedown(mousedown_cvjs_svgObject)}var mousedown_cvjs_svgObject=function(a,d,f){handleGroup.selectAll("handler").remove();handleGroup.remove()};
function cvjs_zoomWindow(a){cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");if(panWithThumb)try{layers_all.attr(hide),layer_thumb.attr(show),cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show),all_layer_off_thumb_on()}catch(d){console.log("ZoomWindow "+d)}lastY_r=lastX_r=firstY_r=firstX_r=0;flag_rectangle=!1;cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=
!0,cvjs_Community_Version||hideOnlyPop(),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a),cvjs_addHandleFunc_ZoomWindow(a),cvjs_debug&&console.log("Zoom Window!!!"+a))}
function cvjs_addHandleFunc_ZoomWindow(a){tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+a).width();canvas_height=jQuery("#"+a).height();a=jQuery("#"+a).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=
(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;a=viewBoxWidth[cvjs_active_floorplan_div_nr]/400;var d=document.querySelector(".ZW");var f="";var h=1;try{f=getComputedStyle(d),h=f.getPropertyValue("stroke-width"),h=parseFloat(h.substring(0,h.indexOf("px")))}catch(n){console.log("create_zoomwindow: "+
n)}void 0!=h&&0<h&&(a=viewBoxWidth[cvjs_active_floorplan_div_nr]/2500*h*2);cvjs_debug&&console.log("  "+h+" ZW_strokeweight  box: "+viewBoxWidth[cvjs_active_floorplan_div_nr]+"  "+a);d="#0a0a0a";cvjs_blackBackground&&(d="#FEFEFE");a=jQuery.parseJSON('{"stroke": "'+d+'", "fill" : "none", "stroke-opacity": "0.95", "stroke-width": "'+a+'"}');tRubberBand_r.attr(a);handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],
actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_zoomwindow_rectangle,start_cvjs_create_zoomwindow_rectangle,stop_cvjs_create_zoomwindow_rectangle)}
function cvjs_removeHandleFunc_ZoomWindowRectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_objectIsZoomedExtents=!1}var cvjs_create_zoomStartX=0,cvjs_create_zoomStartY=0,start_cvjs_create_zoomwindow_rectangle=function(a,d){flag_rectangle=!1;console.log(a+" "+d+" ");cvjs_create_zoomStartX=a;cvjs_create_zoomStartY=d};zoomwindow_counter=0;
var move_cvjs_create_zoomwindow_rectangle=function(a,d,f,h){zoomwindow_counter++;f+=document.body.scrollLeft;h+=document.body.scrollTop;flag_rectangle?(lastX_r=a,lastY_r=d):(10<Math.abs(a)+Math.abs(d)?(firstX_r=cvjs_create_zoomStartX+document.body.scrollLeft,firstY_r=cvjs_create_zoomStartY+document.body.scrollTop,lastX_r=f,lastY_r=h):(firstX_r=f,firstY_r=h,lastX_r=a,lastY_r=d),flag_rectangle=!0);tPath_r="M"+(firstX_r-delta_x)/global_scale+","+(firstY_r-delta_y)/global_scale;tPath_r+="h"+lastX_r/global_scale+
"v"+lastY_r/global_scale+"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");1==zoomwindow_counter&&(zoomwindow_counter=0,tRubberBand_r.attr({path:tPath_r}))},stop_cvjs_create_zoomwindow_rectangle=function(){tRubberBand_r.attr({path:"M0,0"});0>lastX_r&&(firstX_r+=lastX_r);0>lastY_r&&(firstY_r+=lastY_r);viewBox[cvjs_active_floorplan_div_nr].X=(firstX_r-delta_x)/global_scale;viewBox[cvjs_active_floorplan_div_nr].Y=(firstY_r-delta_y)/global_scale;viewBoxHeight[cvjs_active_floorplan_div_nr]=Math.abs(lastY_r/
global_scale);viewBoxWidth[cvjs_active_floorplan_div_nr]=Math.abs(lastX_r/global_scale);var a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);tRubberBand_r.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});cvjs_removeHandleFunc_ZoomWindowRectangle();
cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;if(panWithThumb)try{layers_all.attr(show),layer_thumb.attr(hide),cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show),all_layer_on_thumb_off()}catch(d){console.log("ZoomWindowEnd "+d)}cvjs_zoomZeroWidth()};
function cvjs_panRight(){cvjs_Community_Version||hideOnlyPop();viewBox[cvjs_active_floorplan_div_nr].X+=viewBoxWidth[cvjs_active_floorplan_div_nr]/10;var a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);cvjs_objectIsZoomedExtents=!1}
function cvjs_panUp(){cvjs_Community_Version||hideOnlyPop();viewBox[cvjs_active_floorplan_div_nr].Y-=viewBoxHeight[cvjs_active_floorplan_div_nr]/10;var a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);cvjs_objectIsZoomedExtents=!1}
function cvjs_panDown(){cvjs_Community_Version||hideOnlyPop();viewBox[cvjs_active_floorplan_div_nr].Y+=viewBoxHeight[cvjs_active_floorplan_div_nr]/10;var a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);cvjs_objectIsZoomedExtents=!1}
function cvjs_panLeft(){cvjs_Community_Version||hideOnlyPop();viewBox[cvjs_active_floorplan_div_nr].X-=viewBoxWidth[cvjs_active_floorplan_div_nr]/10;var a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);cvjs_objectIsZoomedExtents=!1}
function cvjs_zoomExtents(a){cvjs_resetZoomPan(a)}
function cvjs_resetZoomPan(a){cvjs_addedObjectsToExtents=!0;if(void 0==a)return!1;cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_debug&&console.log("cvjs_resetZoomPan: cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr+" rpWidth[cvjs_active_floorplan_div_nr] "+rpWidth[cvjs_active_floorplan_div_nr]+" rpHeight[cvjs_active_floorplan_div_nr] "+rpHeight[cvjs_active_floorplan_div_nr]+
"  "+a);bbox=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();try{layers_all.attr(show),cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show),layer_thumb.attr(hide)}catch(f){}cvjs_Community_Version||hideOnlyPop();if(cvjs_addedObjectsToExtents){cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({transform:"T0,0S1.0"});bbox=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]&&(bbox=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox(),
cvjs_customLayerContentAdded)){a=cvjs_customLayerContent.getBBox();var d=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox();a.x<d.x&&(bbox.x=a.x);a.y<d.y&&(bbox.y=a.y);cvjs_debug&&console.log("YYYYYYYYYYYYYYY"+a.x+" "+a.width);cvjs_debug&&console.log("YYYYYYYYYYYYYYY"+d.x+" "+d.width);a.x+a.width>d.x+d.width&&(bbox.width=a.x+a.width-d.x);a.y+a.height>d.y+d.height&&(bbox.height=a.x+a.width-d.y)}cvjs_debug&&console.log("bounding box rpaper "+bbox.x+"  "+bbox.y+" "+bbox.width+" "+bbox.height);cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({transform:"T0,0S3.0"});
viewBox[cvjs_active_floorplan_div_nr].X=bbox.x;viewBox[cvjs_active_floorplan_div_nr].Y=bbox.y;viewBoxWidth[cvjs_active_floorplan_div_nr]=bbox.width;viewBoxHeight[cvjs_active_floorplan_div_nr]=bbox.height;vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];zoomScale=1;a='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+
'" }';a=jQuery.parseJSON(a);cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a)}else cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({transform:"T0,0S1.0"}),viewBox[cvjs_active_floorplan_div_nr].X=actualLLX[cvjs_active_floorplan_div_nr],viewBox[cvjs_active_floorplan_div_nr].Y=actualLLY[cvjs_active_floorplan_div_nr],viewBoxWidth[cvjs_active_floorplan_div_nr]=rpWidth[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr]=rpHeight[cvjs_active_floorplan_div_nr],vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr],
vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr],zoomScale=1,a='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+rpWidth[cvjs_active_floorplan_div_nr]+" "+rpHeight[cvjs_active_floorplan_div_nr]+'" }',a=jQuery.parseJSON(a),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a),cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({transform:"T0,0S3.0"});cvjs_objectIsZoomedExtents=!0;cvjs_zoomZeroWidth()}
function cvjs_resetZoomPan_SetMasterBackground(a){void 0!=a&&(cvjs_active_floorplan_div_nr=a);cvjs_debug&&console.log("cvjs_resetZoomPan_SetMasterBackground: cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr+" rpWidth[cvjs_active_floorplan_div_nr] "+rpWidth[cvjs_active_floorplan_div_nr]+" rpHeight[cvjs_active_floorplan_div_nr] "+rpHeight[cvjs_active_floorplan_div_nr]);if(jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).is(":visible")){try{cvjs_masterBackground[cvjs_active_floorplan_div_nr].remove()}catch(h){console.log(h)}cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();
try{layers_all.attr(show),cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show),layer_thumb.attr(hide)}catch(h){}cvjs_Community_Version||hideOnlyPop();a=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]&&(a=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox(),cvjs_customLayerContentAdded)){var d=cvjs_customLayerContent.getBBox(),f=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox();d.x<f.x&&(a.x=d.x);d.y<f.y&&(a.y=
d.y);cvjs_debug&&console.log("YYYYYYYYYYYYYYY"+d.x+" "+d.width);cvjs_debug&&console.log("YYYYYYYYYYYYYYY"+f.x+" "+f.width);d.x+d.width>f.x+f.width&&(a.width=d.x+d.width-f.x);d.y+d.height>f.y+f.height&&(a.height=d.x+d.width-f.y)}viewBox[cvjs_active_floorplan_div_nr].X=a.x;viewBox[cvjs_active_floorplan_div_nr].Y=a.y;viewBoxWidth[cvjs_active_floorplan_div_nr]=a.width;viewBoxHeight[cvjs_active_floorplan_div_nr]=a.height;vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];
zoomScale=1;a='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }';a=jQuery.parseJSON(a);cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);void 0!=cvjs_masterBackground[cvjs_active_floorplan_div_nr]&&cvjs_masterBackground[cvjs_active_floorplan_div_nr].remove();a="#master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr];void 0!=cvjs_masterBackground[cvjs_active_floorplan_div_nr]&&
jQuery(a).remove();void 0!=cvjs_masterBackground[cvjs_active_floorplan_div_nr]&&jQuery(a).empty();cvjs_masterBackground[cvjs_active_floorplan_div_nr]=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(viewBox[cvjs_active_floorplan_div_nr].X,viewBox[cvjs_active_floorplan_div_nr].Y,viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr]));cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({fill:"#fff","fill-opacity":"0.01",
"stroke-width":0});cvjs_masterBackground[cvjs_active_floorplan_div_nr].data("id","master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({id:"master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]});cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].prepend(cvjs_masterBackground[cvjs_active_floorplan_div_nr]);actualLLX[cvjs_active_floorplan_div_nr]=viewBox[cvjs_active_floorplan_div_nr].X;actualLLY[cvjs_active_floorplan_div_nr]=
viewBox[cvjs_active_floorplan_div_nr].Y;actualURX[cvjs_active_floorplan_div_nr]=actualLLX[cvjs_active_floorplan_div_nr]+viewBoxWidth[cvjs_active_floorplan_div_nr];actualURY[cvjs_active_floorplan_div_nr]=actualLLY[cvjs_active_floorplan_div_nr]+viewBoxHeight[cvjs_active_floorplan_div_nr];cvjs_redlineThickness_scaleFactor=cvjs_redlineThickness_drawingFactor*Math.sqrt(Math.pow(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],2)+Math.pow(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr],2));cvjs_Community_Version||cvjs_checkLicense();cvjs_objectIsZoomedExtents=!0}else viewBox[cvjs_active_floorplan_div_nr].X=actualLLX[cvjs_active_floorplan_div_nr],viewBox[cvjs_active_floorplan_div_nr].Y=actualLLY[cvjs_active_floorplan_div_nr],viewBoxWidth[cvjs_active_floorplan_div_nr]=rpWidth[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr]=rpHeight[cvjs_active_floorplan_div_nr],vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr],vBWo=
viewBoxWidth[cvjs_active_floorplan_div_nr],zoomScale=1,a='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+rpWidth[cvjs_active_floorplan_div_nr]+" "+rpHeight[cvjs_active_floorplan_div_nr]+'" }',a=jQuery.parseJSON(a),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a)}
function cvjs_zoomIn(a){void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg");cvjs_Community_Version||hideOnlyPop();vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=DefaultZoomFactor;viewBoxHeight[cvjs_active_floorplan_div_nr]/=DefaultZoomFactor;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-
vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2;a=jQuery.parseJSON('{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];cvjs_objectIsZoomedExtents=!1;cvjs_zoomZeroWidth()}
function cvjs_zoomInMouseWheel(a,d,f){void 0!=f&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(f));var h=jQuery("#"+f).width(),n=jQuery("#"+f).height();f=jQuery("#"+f).position();var p=h/viewBoxWidth[cvjs_active_floorplan_div_nr],q=n/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=p<q?p:q;h=(h-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+f.left;n=(n-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*
global_scale+f.top;a+=document.body.scrollLeft;d+=document.body.scrollTop;a=((a-h)/global_scale-viewBox[cvjs_active_floorplan_div_nr].X)/viewBoxWidth[cvjs_active_floorplan_div_nr];d=((d-n)/global_scale-viewBox[cvjs_active_floorplan_div_nr].Y)/viewBoxHeight[cvjs_active_floorplan_div_nr];cvjs_Community_Version||hideOnlyPop();vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=DefaultZoomFactor_mouseWheel;viewBoxHeight[cvjs_active_floorplan_div_nr]/=
DefaultZoomFactor_mouseWheel;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)*a;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)*d;d=jQuery.parseJSON('{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(d);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/
rpWidth[cvjs_active_floorplan_div_nr];cvjs_objectIsZoomedExtents=!1;cvjs_zoomZeroWidth()}
function cvjs_zoomOut(a){void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg");cvjs_Community_Version||hideOnlyPop();vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]*=DefaultZoomFactor;viewBoxHeight[cvjs_active_floorplan_div_nr]*=DefaultZoomFactor;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-
vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2;a=jQuery.parseJSON('{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];cvjs_objectIsZoomedExtents=!1;cvjs_zoomZeroWidth()}
function cvjs_zoomOutCustomFactor(a,d){void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_Community_Version||hideOnlyPop();vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]*=d;viewBoxHeight[cvjs_active_floorplan_div_nr]*=d;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-
vBHo)/2;a=jQuery.parseJSON('{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];cvjs_objectIsZoomedExtents=!1;cvjs_zoomZeroWidth()}
function cvjs_zoomOutMouseWheel(a,d,f){void 0!=f&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(f));var h=jQuery("#"+f).width(),n=jQuery("#"+f).height();f=jQuery("#"+f).position();var p=h/viewBoxWidth[cvjs_active_floorplan_div_nr],q=n/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=p<q?p:q;h=(h-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+f.left;n=(n-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*
global_scale+f.top;a+=document.body.scrollLeft;d+=document.body.scrollTop;a=((a-h)/global_scale-viewBox[cvjs_active_floorplan_div_nr].X)/viewBoxWidth[cvjs_active_floorplan_div_nr];d=((d-n)/global_scale-viewBox[cvjs_active_floorplan_div_nr].Y)/viewBoxHeight[cvjs_active_floorplan_div_nr];cvjs_Community_Version||hideOnlyPop();vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]*=DefaultZoomFactor_mouseWheel;viewBoxHeight[cvjs_active_floorplan_div_nr]*=
DefaultZoomFactor_mouseWheel;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)*a;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)*d;d=jQuery.parseJSON('{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(d);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/
rpWidth[cvjs_active_floorplan_div_nr];cvjs_objectIsZoomedExtents=!1;cvjs_zoomZeroWidth()}
function cvjs_zoomPositionFactor(a,d,f,h,n,p){void 0!=n&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(n));var q=jQuery("#"+n).width(),t=jQuery("#"+n).height();jQuery("#"+n).position();n=q/viewBoxWidth[cvjs_active_floorplan_div_nr];t/=viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=n<t?n:t;cvjs_Community_Version||hideOnlyPop();vBHo=viewBoxHeight[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]*=p;viewBoxHeight[cvjs_active_floorplan_div_nr]*=
p;viewBox[cvjs_active_floorplan_div_nr].X=f-a/global_scale;viewBox[cvjs_active_floorplan_div_nr].Y=h-d/global_scale;a='{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }';console.log("attr_l "+a);a=jQuery.parseJSON(a);cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];
cvjs_objectIsZoomedExtents=!1;cvjs_zoomZeroWidth()}function cvjs_redrawViewBox(){cvjs_Community_Version||hideOnlyPop();viewBox[cvjs_active_floorplan_div_nr].X-=.01;var a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);cvjs_debug&&console.log("after pan 1")}
function d2h(a){var d=a.toString(16);return 16>a?"0"+d:d}function h2d(a){return parseInt(a,16)}function rgb2hex(a,d,f){return d2h(a)+d2h(d)+d2h(f)}var fnArr_FileName=[],fnArr_ShortName=[],fnArr_listdirectory_FileName=[],fnArr_listdirectory_ShortName=[];
function cvjs_LoadTopIconMenuViewing(a){a.lastIndexOf("_svg")==a.length-4&&(a=a.substring(0,a.length-4));jQuery("#topIconMenu_placeholder_1_"+a+"_svg").html("");cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0","none",a,"cvjsIcon_base_left.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList);var d=48;0==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(d+=420);1==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(d+=540);2==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&
(d+=330);3==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(d+=300);4==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(d+=360);5==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(d+=120);jQuery("#topIconMenu_placeholder_1_"+a+"_svg").css({width:d});0==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_toggleBlackWhite",a,"cvjsIcon_dra_p1_4_1_ToggleBlackWhite.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Toggle),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_setBackgroundColor",a,"cvjsIcon_dra_p1_4_2_BackgroundColor.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Background),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_interactiveSearchText",a,"cvjsIcon_dra_p1_5_2_SearchText.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Search),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_Print",
a,"cvjsIcon_dra_p1_1_2_Print.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Print),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_LayerList",a,"cvjsIcon_dra_p1_1_1_LayerList.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_1","cvjs_Measurement",a,"cvjsIcon_dra_p1_8_1_Measurement.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Measurement),cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_8_2","cvjs_calibrateMeasurement",a,"cvjsIcon_dra_p1_8_2_CalibrateMeasurement.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Calibrate),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_1","cvjs_displayMagnifyingGlass",a,"cvjsIcon_dra_p1_9_1_ToggleBirdsEyeWindow.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.BirdsEye),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_2","cvjs_activateLineThicknessModal",
a,"cvjsIcon_dra_p1_9_2_AdjustLineThickness.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LineThickness),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_interactiveLayerOff",a,"cvjsIcon_dra_p1_6_2_LayerOff.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerOff),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_1","cvjs_swapLayersInDrawing",a,"cvjsIcon_dra_p1_7_1_SwapLayers.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.SwapLayers),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_2","cvjs_allLayersInDrawingOn",a,"cvjsIcon_dra_p1_7_2_LayerOn.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.AllLayersOn),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_displayInformationModal_Mode",0,"cvjsIcon_dra_p1_6_1_Information.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.About));0==cvjs_loadTopIconMenuVisible[cvjs_interfaceCounterIndex(a)]&&jQuery("#topIconMenu_placeholder_1_"+
a+"_svg").hide()}var cvjs_loadCADViewerLanguageName="",cvjs_loadCADViewerLanguageLocation="";function cvjs_loadCADViewerLanguage(a,d){cvjs_loadCADViewerLanguageName=a;cvjs_loadCADViewerLanguageLocation=d}
function cvjs_setLanguage(a){try{cvjs_currentLanguage=1;for(var d=0;d<languageTable.numberOfLanguages;d++)0==a.toLowerCase().indexOf(languageTable.languages[d].thisLanguage.toLowerCase())&&a.length==languageTable.languages[d].thisLanguage.length&&(cvjs_currentLanguage=d)}catch(f){console.log(f)}try{for(d=0;d<languageTable.numberOfLanguages;d++)0==a.indexOf(languageTable.languages[d].languageCode)&&(cvjs_currentLanguage=d)}catch(f){console.log(f)}}
function cvjs_getLanguages(){var a="";try{for(var d=0;d<languageTable.numberOfLanguages;d++)a+=languageTable.languages[d].languageCode+":"+languageTable.languages[d].thisLanguage+";"}catch(f){console.log(f)}return a}var cvjs_ServerLocation="",cvjs_ServerUrl="";function cvjs_getServerLocation(){return cvjs_ServerLocation}function cvjs_getServerURL(){return cvjs_ServerUrl}function cvjs_returnSpaceObjectSelected(){return lastObj[cvjs_active_floorplan_div_nr]}
function cvjs_getServerBackEndUrl(){return ServerBackEndUrl}
function cvjs_setServerLocationURL(a,d){cvjs_ServerLocation=a;cvjs_ServerUrl=d;cvjs_javaScriptsAbsoluteFolder=d+"app/js/";cvjs_defaultJSPath=d+"app/js/";cvjs_setServerHandersPath_called||(cvjs_serverHandlersPath=d+"php/",cvjs_phpPath=d+"php/");cvjs_printObjectPathAbsolute_called||(cvjs_printObjectPathAbsolute=cvjs_ServerUrl+"/php/temp_print/",cvjs_printObjectPathAbsoluteServer=cvjs_ServerLocation+"/php/temp_print/",cvjs_printObjectPathRelativeFlag=!1)}
var cvjs_TopIconMenu_pageNumber=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cvjs_TopIconMenu_maxPageNumber=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],cvjs_topIconMenu=[Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object],cvjs_loadTopIconMenuVisible=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_loadTopIconNavigationVisible=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_loadTopIconMenuXML=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_topIconMenuXML="cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml cadviewerjs_menu_all_items.xml".split(" "),
cvjs_topIconMenuXML_location="/app/js/menu_config/";function cvjs_setTopMenuXML(a,d,f){cvjs_topIconMenuXML_location=f;cvjs_loadTopIconMenuXML[cvjs_interfaceCounterIndex(a)]=!0;cvjs_topIconMenuXML[cvjs_interfaceCounterIndex(a)]=d}function cvjs_setCustomTopMenuXML(a,d){cvjs_loadTopIconMenuXML[cvjs_interfaceCounterIndex(d)]=!0;cvjs_topIconMenuXML[cvjs_interfaceCounterIndex(d)]=a}
function cvjs_displayTopMenuIconBar(a,d){var f=cvjs_interfaceCounterIndex(d);0<f||(interfaceCounter++,f=interfaceCounter,interfaceCounterDiv[f]=d+"_svg");cvjs_loadTopIconMenuVisible[f]=a}function cvjs_displayTopNavigationBar(a,d){var f=cvjs_interfaceCounterIndex(d);0<f||(interfaceCounter++,f=interfaceCounter,interfaceCounterDiv[f]=d+"_svg");cvjs_loadTopIconNavigationVisible[f]=a}
function cvjs_changePreviousIconPage_TopIconMenu(a){cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]--;0>cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]=cvjs_TopIconMenu_maxPageNumber[cvjs_interfaceCounterIndex(a)]-1);cvjs_loadTopIconMenuXML[cvjs_interfaceCounterIndex(a)]?cvjs_LoadTopIconMenuXML(a,cvjs_topIconMenu[cvjs_interfaceCounterIndex(a)]):cvjs_LoadTopIconMenu(a)}
function cvjs_changeNextIconPage_TopIconMenu(a){cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]++;cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]>=cvjs_TopIconMenu_maxPageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]=0);cvjs_loadTopIconMenuXML[cvjs_interfaceCounterIndex(a)]?cvjs_LoadTopIconMenuXML(a,cvjs_topIconMenu[cvjs_interfaceCounterIndex(a)]):cvjs_LoadTopIconMenu(a)}
function cvjs_LoadTopNavigationMenu(a){a.lastIndexOf("_svg")==a.length-4&&(a=a.substring(0,a.length-4));jQuery("#topIconMenu_placeholder_2_"+a+"_svg").html("");jQuery("#topIconMenu_placeholder_2_"+a+"_svg").append('<div id="floatNavigationMenu_topBar_'+a+'" style="flex-direction:row;" class="changePagebox_topBar"><a class="cvjs_rotateforward_topBar" id="cvjs_rotateforward_topBar_'+a+'" href="javascript:cvjs_rotateForward(\''+a+'\');"></a><a class="cvjs_rotateback_topBar" id="cvjs_rotateback_topBar_'+
a+'" href="javascript:cvjs_rotateBackward(\''+a+'\');"></a><a class="cvjs_fastback_topBar" id="cvjs_fastback_topBar_'+a+'" href="javascript:cvjs_firstPage(\''+a+'\');"></a><a class="cvjs_back_topBar" id="cvjs_back_topBar_'+a+'" href="javascript:cvjs_previousPage(\''+a+'\');"></a><a class="cvjs_enterpagenumber_topBar" id="cvjs_enterpagenumber_topBar_'+a+'" href="javascript:cvjs_enterPageChangeNumber(\''+a+'\');"></a><a class="cvjs_selectpagefromlist_topBar" id="cvjs_selectpagefromlist_topBar_'+a+'" href="javascript:cvjs_PageChangeList(\''+
a+'\');"></a><div class="floatpagemenuText1_topBar" id="floatpagemenuText1_topBar_'+a+'_svg" style="flex-direction:row;">nr </div><div class="floatpagemenuText2_topBar" id="floatpagemenuText2_topBar_'+a+'_svg" style="flex-direction:row;">page name</div><a class="cvjs_forward_topBar" id="cvjs_forward_topBar_'+a+'" href="javascript:cvjs_nextPage(\''+a+'\');"></a><a class="cvjs_fastforward_topBar" id="cvjs_fastforward_topBar_'+a+'" href="javascript:cvjs_lastPage(\''+a+"');\"></a></div>");cvjs_navigationMenuItemHighlight(a,
"topIconMenu_placeholder_2","cvjs_rotateforward_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.RotateForward,1);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2","cvjs_rotateback_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.RotateBack,1);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2","cvjs_fastback_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.First,1);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2",
"cvjs_back_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.Previous,1);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2","cvjs_enterpagenumber_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.EnterPage,1);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2","cvjs_selectpagefromlist_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.SelectPageFromList,2);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2","cvjs_forward_topBar",
languageTable.languages[cvjs_currentLanguage].PageModal.Next,2);cvjs_navigationMenuItemHighlight(a,"topIconMenu_placeholder_2","cvjs_fastforward_topBar",languageTable.languages[cvjs_currentLanguage].PageModal.Last,2);jQuery(window).trigger("resize");0==cvjs_loadTopIconNavigationVisible[cvjs_interfaceCounterIndex(a)]&&jQuery("#topIconMenu_placeholder_2_"+a+"_svg").hide()}
function cvjs_LoadTopIconMenu(a){a.lastIndexOf("_svg")==a.length-4&&(a=a.substring(0,a.length-4));jQuery("#topIconMenu_placeholder_1_"+a+"_svg").html("");cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0","none",a,"cvjsIcon_base_left.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList);cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0_2prev","cvjs_changePreviousIconPage_TopIconMenu",a,"cvjsIcon_dra_p1_0_2_PreviousMenu_small.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.PreviousPage);
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0_2","cvjs_changeNextIconPage_TopIconMenu",a,"cvjsIcon_dra_p1_0_2_NextMenu_small.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.NextMenuPage);cvjs_interfaceCounterIndex(a);cvjs_interfaceCounterIndex(a);cvjs_interfaceCounterIndex(a);cvjs_interfaceCounterIndex(a);cvjs_interfaceCounterIndex(a);cvjs_interfaceCounterIndex(a);jQuery("#topIconMenu_placeholder_1_"+a+"_svg").css({width:100});0==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&
(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_LayerList",a,"cvjsIcon_dra_p1_1_1_LayerList.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_Print",a,"cvjsIcon_dra_p1_1_2_Print.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Print),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_toggleBlackWhite",a,"cvjsIcon_dra_p1_4_1_ToggleBlackWhite.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Toggle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_setBackgroundColor",a,"cvjsIcon_dra_p1_4_2_BackgroundColor.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Background),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_openFileLoadToServer",a,"cvjsIcon_dra_p1_5_1_FileLoad.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.FileLoad),cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_interactiveSearchText",a,"cvjsIcon_dra_p1_5_2_SearchText.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Search),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_displayInformationModal_Mode",0,"cvjsIcon_dra_p1_6_1_Information.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.About),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_interactiveLayerOff",a,"cvjsIcon_dra_p1_6_2_LayerOff.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerOff),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_1","cvjs_swapLayersInDrawing",a,"cvjsIcon_dra_p1_7_1_SwapLayers.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.SwapLayers),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_2","cvjs_allLayersInDrawingOn",a,"cvjsIcon_dra_p1_7_2_LayerOn.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.AllLayersOn),cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_8_1","cvjs_Measurement",a,"cvjsIcon_dra_p1_8_1_Measurement.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Measurement),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_2","cvjs_calibrateMeasurement",a,"cvjsIcon_dra_p1_8_2_CalibrateMeasurement.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Calibrate),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_1","cvjs_displayMagnifyingGlass",a,"cvjsIcon_dra_p1_9_1_ToggleBirdsEyeWindow.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.BirdsEye),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_2","cvjs_activateLineThicknessModal",a,"cvjsIcon_dra_p1_9_2_AdjustLineThickness.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LineThickness));1==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_1","cvjs_mergeDXFDWG",a,"cvjsIcon_dra_p2_9_1_MergeRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.MergeAsDXF),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_2","cvjs_publishPDF",a,"cvjsIcon_dra_p2_9_2_PublishPDF.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.PublishAsPDF),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_loadStickyNotesRedlinesUser",a,"cvjsIcon_dra_p2_1_2_LoadRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.LoadRedline),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_saveStickyNotesRedlinesUser",
a,"cvjsIcon_dra_p2_1_1_SaveRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.SaveRedline),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_setRedlineColor",a,"cvjsIcon_dra_p2_3_1_RedlineColor.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Color),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_2","cvjs_setRedlineThickness",a,"cvjsIcon_dra_p2_3_2_RedlineThickness.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Thickness),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_drawStickyNote",a,"cvjsIcon_dra_p2_4_1_StickyNote.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.StickyNote),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_2","cvjs_drawRedlineText",a,"cvjsIcon_dra_p2_8_2_RedlineText.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Text),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_drawRedline_Freehand",a,
"cvjsIcon_dra_p2_5_1_FreehandRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Freehand),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_drawRedlineEllipseCloud",a,"cvjsIcon_dra_p2_5_2_RedlineCloud.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Cloud),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_drawRedlineFilledPolygon",a,"cvjsIcon_dra_p2_6_1_RedlineFilledPolygon.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.FilledPolygon),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_drawRedlinePolyline",a,"cvjsIcon_dra_p2_6_2_RedlinePolygon.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Polyline),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_1","cvjs_drawRedlineFilledRectangle",a,"cvjsIcon_dra_p2_7_1_RedlineFilledRect.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.FilledRectangle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_2",
"cvjs_drawRedlineRectangle",a,"cvjsIcon_dra_p2_7_2_RedlineRect.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Rectangle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_1","cvjs_drawRedlineArrow",a,"cvjsIcon_dra_p2_8_1_RedlineArrow.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Arrow),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_deleteSingleRedline",a,"cvjsIcon_dra_p2_2_1_DeleteSingleRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.DeleteSingle),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_deleteLastRedline",a,"cvjsIcon_dra_p2_2_2_DeleteLastRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.DeleteLast),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_clearCurrentRedline",a,"cvjsIcon_dra_p2_4_2_ClearRedlines.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.ClearAll));2==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_insertImageLink",a,"cvjsIcon_dra_p3_2_2_InsertImageLink.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.InsertLink),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_loadAllImageLinks",a,"cvjsIcon_dra_p3_2_1_LoadImageLinks.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.LoadLink),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_saveAllImageLinks",a,"cvjsIcon_dra_p3_3_1_SaveImageLinks.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.SaveLink),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_2","cvjs_clearAllImageLinks",a,"cvjsIcon_dra_p3_3_2_ClearImageLinks.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.ClearLink),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_quickCount",a,"cvjsIcon_dra_p3_4_1_QuickCount.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.QuickCount),cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_showMeCounts",a,"cvjsIcon_dra_p3_4_2_SummaryQuickCount.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.CountSum),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_clearQuickCounts",a,"cvjsIcon_dra_p3_5_1_ClearQuickCount.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.ClearCount),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_1_1","cvjs_compareDrawings_LoadSecondDrawing",a,
"cvjsIcon_dra_p4_1_1_LoadSecondCompare.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareLoad),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_1_2","cvjs_compareDrawings_ToggleDrawings",a,"cvjsIcon_dra_p4_1_2_ToggleCompareIndividually.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareToggle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_2_1","cvjs_compareDrawings_ToggleDrawingOverlay",a,"cvjsIcon_dra_p4_2_1_ToggleCompareOverlaid.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareToggleOverlay),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_2_2","cvjs_exitCompareDrawings",a,"cvjsIcon_dra_p4_2_2_ExitCompare.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareExit));3==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2x","cvjs_loadSpaceObjectsUser",a,"cvjsIcon_dra_p5_7_1_LoadSpaceOverlay.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.LoadRedline),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_changeSpaceObjectDisplayMode",a,"cvjsIcon_dra_p5_1_2_SpaceObjectEditMode.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Mode),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_2","cvjs_addPolygonSpaceObject",a,"cvjsIcon_dra_p5_3_2_PolygonSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Polygon),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_addRectangleSpaceObject",a,"cvjsIcon_dra_p5_3_1_RectangleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Rect),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_addCircleSpaceObject",a,"cvjsIcon_dra_p5_4_1_CircleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Circle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_copyCircleSpaceObject",
a,"cvjsIcon_dra_p5_4_2_CopyCircleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.CopyCircle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_deleteSpaceObject",a,"cvjsIcon_dra_p5_5_1_DeleteSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Delete),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_loadDrawingsWithSpaceObjects",a,"cvjsIcon_dra_p5_2_1_LoadPreProcessSpaceObjects.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Load),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_LayerListSpaceObject",a,"cvjsIcon_dra_p5_2_2_SpaceObjectsLayerList.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.LayerList));4==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_spaceObjectSettings",a,"cvjsIcon_dra_p5_1_1_Settings.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Settings),cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_changeSpaceObjectDisplayMode",a,"cvjsIcon_dra_p5_1_2_SpaceObjectEditMode.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Mode),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_loadDrawingsWithSpaceObjects",a,"cvjsIcon_dra_p5_2_1_LoadPreProcessSpaceObjects.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Load),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_LayerListSpaceObject",
a,"cvjsIcon_dra_p5_2_2_SpaceObjectsLayerList.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.LayerList),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_addRectangleSpaceObject",a,"cvjsIcon_dra_p5_3_1_RectangleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Rect),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_2","cvjs_addPolygonSpaceObject",a,"cvjsIcon_dra_p5_3_2_PolygonSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Polygon),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_addCircleSpaceObject",a,"cvjsIcon_dra_p5_4_1_CircleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Circle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_copyCircleSpaceObject",a,"cvjsIcon_dra_p5_4_2_CopyCircleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.CopyCircle),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1",
"cvjs_deleteSpaceObject",a,"cvjsIcon_dra_p5_5_1_DeleteSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Delete),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_setSpacePolygonOnLayer",a,"cvjsIcon_dra_p5_5_2_MakeSpaceObjectOnPolygon.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.SelectPolygon),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_displaySpaceObjectsStructure",a,"cvjsIcon_dra_p5_6_1_SpaceObjectDisplayMode.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Publish),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_saveAsSVG",a,"cvjsIcon_dra_p5_6_2_DownloadProcessedSpaceObjects.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.DownloadSVG));5==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_1","cvjs_start_collab",a,"cvjsIcon_dra_p4_7_1_JoinCollab.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationJoinSession),
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_2","cvjs_make_collab_presenter",a,"cvjsIcon_dra_p4_7_2_TakeControl.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationTakeControl),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_1","cvjs_clear_collab_redline",a,"cvjsIcon_dra_p4_8_1_ClearCollabRedlines.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationClearSession),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1",
"cvjs_p_8_2","cvjs_stop_collab",a,"cvjsIcon_dra_p4_8_2_LeaveCollabSession.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationLeaveSession));0==cvjs_loadTopIconMenuVisible[cvjs_interfaceCounterIndex(a)]&&jQuery("#topIconMenu_placeholder_1_"+a+"_svg").hide()}var cvjs_iconColumns=0,cvjs_iconColumnsFlag=!1,cvjs_iconmenu_pos_x=0,cvjs_iconmenu_pos_y=0,cvjs_initLoadMenuXML=!0,cvjs_gMenu_pos_x=30,cvjs_gMenu_pos_y=20;
function cvjs_LoadTopIconMenuXML(a,d){a.lastIndexOf("_svg")==a.length-4&&(a=a.substring(0,a.length-4));jQuery("#topIconMenu_placeholder_1_"+a+"_svg").html("");cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0","none",a,"cvjsIcon_base_left.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList);cvjs_TopIconMenu_maxPageNumber[cvjs_interfaceCounterIndex(a)]=d.cvjs.iconmenu.totalpages;1==cvjs_TopIconMenu_maxPageNumber[cvjs_interfaceCounterIndex(a)]?cvjs_Community_Version&&
cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0_0","cadviewer.com",a,"cvjsIcon_dra_p1_0_0_CADViewer.png","www.cadviewer.com"):(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0_2prev","cvjs_changePreviousIconPage_TopIconMenu",a,"cvjsIcon_dra_p1_0_2_PreviousMenu_small.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.PreviousPage),cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0_2","cvjs_changeNextIconPage_TopIconMenu",a,"cvjsIcon_dra_p1_0_2_NextMenu_small.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.NextMenuPage));var f=1==d.cvjs.iconmenu.totalpages?d.cvjs.iconmenu.pages.page.command:d.cvjs.iconmenu.pages.page[cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]].command;try{var h=d.cvjs.iconmenu.customcommand.tooltip}catch(q){h="no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file;no text in xml config file".split(";")}try{cvjs_iconColumns=
d.cvjs.iconmenu.icons_per_row,0<cvjs_iconColumns&&(cvjs_iconColumnsFlag=!0)}catch(q){console.log("error 1 "+q),cvjs_iconColumnsFlag=!1}try{var n=d.cvjs.iconmenu.icon_page_left_x;cvjs_iconmenu_pos_x=parseInt(n);Number.isNaN(cvjs_iconmenu_pos_x)&&(cvjs_iconmenu_pos_x=0)}catch(q){console.log("ERR"+q),cvjs_iconmenu_pos_x=0}try{n=d.cvjs.iconmenu.icon_page_left_y,cvjs_iconmenu_pos_y=parseInt(n),Number.isNaN(cvjs_iconmenu_pos_y)&&(cvjs_iconmenu_pos_y=0)}catch(q){console.log("ERR"+q),cvjs_iconmenu_pos_y=
0}try{n=d.cvjs.zoommenu.location_left_x,cvjs_gMenu_pos_x=parseInt(n),Number.isNaN(cvjs_gMenu_pos_x)&&(cvjs_gMenu_pos_x=30)}catch(q){console.log("ERR"+q),cvjs_gMenu_pos_x=0}try{n=d.cvjs.zoommenu.location_left_y,cvjs_gMenu_pos_y=parseInt(n),Number.isNaN(cvjs_gMenu_pos_y)&&(cvjs_gMenu_pos_y=20)}catch(q){console.log("ERR"+q),cvjs_gMenu_pos_y=0}n=0;var p=1==d.cvjs.iconmenu.totalpages?2:48;cvjs_Community_Version&&1==d.cvjs.iconmenu.totalpages&&(p+=38);cvjs_iconColumnsFlag?p+=30*cvjs_iconColumns:(p+=30*
f.length,0==cvjs_TopIconMenu_pageNumber[cvjs_interfaceCounterIndex(a)]&&(p+=30));jQuery("#topIconMenu_placeholder_1_"+a+"_svg").css({width:p});d=!1;for(i=0;i<f.length;i++)cvjs_debug&&console.log(f[i]),cvjs_iconColumnsFlag&&n==cvjs_iconColumns&&(cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_0","none",a,"cvjsIcon_dra_p1_0_2_Blank.png",""),n=0),n++,"cvjs_LayerList"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_LayerList",a,"cvjsIcon_dra_p1_1_1_LayerList.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList):"cvjs_Print"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_Print",a,"cvjsIcon_dra_p1_1_2_Print.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Print):"cvjs_toggleBlackWhite"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_toggleBlackWhite",a,"cvjsIcon_dra_p1_4_1_ToggleBlackWhite.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Toggle):
"cvjs_setBackgroundColor"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_setBackgroundColor",a,"cvjsIcon_dra_p1_4_2_BackgroundColor.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Background):"cvjs_openFileLoadToServer"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_openFileLoadToServer",a,"cvjsIcon_dra_p1_5_1_FileLoad.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.FileLoad):"cvjs_interactiveSearchText"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_interactiveSearchText",a,"cvjsIcon_dra_p1_5_2_SearchText.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Search):"cvjs_About"==f[i]?(d=!0,cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_displayInformationModal_Mode",0,"cvjsIcon_dra_p1_6_1_Information.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.About)):"cvjs_Settings"==f[i]?cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_12_1","cvjs_Settings",a,"cvjsIcon_dra_p1_12_1_Settings.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Settings):"cvjs_interactiveLayerOff"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_interactiveLayerOff",a,"cvjsIcon_dra_p1_6_2_LayerOff.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerOff):"cvjs_swapLayersInDrawing"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_1",
"cvjs_swapLayersInDrawing",a,"cvjsIcon_dra_p1_7_1_SwapLayers.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.SwapLayers):"cvjs_allLayersInDrawingOn"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_2","cvjs_allLayersInDrawingOn",a,"cvjsIcon_dra_p1_7_2_LayerOn.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.AllLayersOn):"cvjs_Measurement"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_1","cvjs_Measurement",a,"cvjsIcon_dra_p1_8_1_Measurement.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Measurement):"cvjs_calibrateMeasurement"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_2","cvjs_calibrateMeasurement",a,"cvjsIcon_dra_p1_8_2_CalibrateMeasurement.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Calibrate):"cvjs_displayMagnifyingGlass"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_1","cvjs_displayMagnifyingGlass",a,"cvjsIcon_dra_p1_9_1_ToggleBirdsEyeWindow.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.BirdsEye):"cvjs_activateLineThicknessModal"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_9_2","cvjs_activateLineThicknessModal",a,"cvjsIcon_dra_p1_9_2_AdjustLineThickness.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LineThickness):"cvjs_mergeDXFDWG"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p2_9_1","cvjs_mergeDXFDWG",a,"cvjsIcon_dra_p2_9_1_MergeRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.MergeAsDXF):
"cvjs_publishPDF"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p2_9_2","cvjs_publishPDF",a,"cvjsIcon_dra_p2_9_2_PublishPDF.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.PublishAsPDF):"cvjs_loadStickyNotesRedlinesUser"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_loadStickyNotesRedlinesUser",a,"cvjsIcon_dra_p2_1_2_LoadRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.LoadRedline):"cvjs_saveStickyNotesRedlinesUser"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_saveStickyNotesRedlinesUser",a,"cvjsIcon_dra_p2_1_1_SaveRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.SaveRedline):"cvjs_setRedlineColor"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_setRedlineColor",a,"cvjsIcon_dra_p2_3_1_RedlineColor.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Color):"cvjs_setRedlineThickness"==f[i]?cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_3_2","cvjs_setRedlineThickness",a,"cvjsIcon_dra_p2_3_2_RedlineThickness.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Thickness):"cvjs_drawStickyNote"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_drawStickyNote",a,"cvjsIcon_dra_p2_4_1_StickyNote.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.StickyNote):"cvjs_drawRedlineText"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1",
"cvjs_p_8_2","cvjs_drawRedlineText",a,"cvjsIcon_dra_p2_8_2_RedlineText.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Text):"cvjs_drawRedline_Freehand"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_drawRedline_Freehand",a,"cvjsIcon_dra_p2_5_1_FreehandRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Freehand):"cvjs_drawRedlineEllipseCloud"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_drawRedlineEllipseCloud",
a,"cvjsIcon_dra_p2_5_2_RedlineCloud.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Cloud):"cvjs_drawRedlineFilledPolygon"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_drawRedlineFilledPolygon",a,"cvjsIcon_dra_p2_6_1_RedlineFilledPolygon.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.FilledPolygon):"cvjs_drawRedlinePolyline"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_drawRedlinePolyline",
a,"cvjsIcon_dra_p2_6_2_RedlinePolygon.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Polyline):"cvjs_drawRedlineFilledRectangle"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_1","cvjs_drawRedlineFilledRectangle",a,"cvjsIcon_dra_p2_7_1_RedlineFilledRect.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.FilledRectangle):"cvjs_drawRedlineRectangle"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_7_2","cvjs_drawRedlineRectangle",
a,"cvjsIcon_dra_p2_7_2_RedlineRect.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Rectangle):"cvjs_drawRedlineArrow"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_8_1","cvjs_drawRedlineArrow",a,"cvjsIcon_dra_p2_8_1_RedlineArrow.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Arrow):"cvjs_deleteSingleRedline"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_deleteSingleRedline",a,"cvjsIcon_dra_p2_2_1_DeleteSingleRedline.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.DeleteSingle):"cvjs_deleteLastRedline"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_deleteLastRedline",a,"cvjsIcon_dra_p2_2_2_DeleteLastRedline.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.DeleteLast):"cvjs_clearCurrentRedline"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_clearCurrentRedline",a,"cvjsIcon_dra_p2_4_2_ClearRedlines.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.ClearAll):
"cvjs_PinMarker"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_10_1","cvjs_PinMarker",a,"cvjsIcon_dra_p6_1_1_PinMarker.png",languageTable.languages[cvjs_currentLanguage].IconPage_p6_1.PinMarker):"cvjs_insertImageLink"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_insertImageLink",a,"cvjsIcon_dra_p3_2_2_InsertImageLink.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.InsertLink):"cvjs_loadAllImageLinks"==f[i]?cvjs_insertSingleIconImage(a,
"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_loadAllImageLinks",a,"cvjsIcon_dra_p3_2_1_LoadImageLinks.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.LoadLink):"cvjs_saveAllImageLinks"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_saveAllImageLinks",a,"cvjsIcon_dra_p3_3_1_SaveImageLinks.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.SaveLink):"cvjs_clearAllImageLinks"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1",
"cvjs_p_3_2","cvjs_clearAllImageLinks",a,"cvjsIcon_dra_p3_3_2_ClearImageLinks.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.ClearLink):"cvjs_quickCount"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_quickCount",a,"cvjsIcon_dra_p3_4_1_QuickCount.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.QuickCount):"cvjs_showMeCounts"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_showMeCounts",a,"cvjsIcon_dra_p3_4_2_SummaryQuickCount.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.CountSum):"cvjs_clearQuickCounts"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_clearQuickCounts",a,"cvjsIcon_dra_p3_5_1_ClearQuickCount.png",languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.ClearCount):"cvjs_compareDrawings_LoadSecondDrawing"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_1_1","cvjs_compareDrawings_LoadSecondDrawing",a,"cvjsIcon_dra_p4_1_1_LoadSecondCompare.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareLoad):"cvjs_compareDrawings_ToggleDrawings"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_1_2","cvjs_compareDrawings_ToggleDrawings",a,"cvjsIcon_dra_p4_1_2_ToggleCompareIndividually.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareToggle):"cvjs_compareDrawings_ToggleDrawingOverlay"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_2_1","cvjs_compareDrawings_ToggleDrawingOverlay",
a,"cvjsIcon_dra_p4_2_1_ToggleCompareOverlaid.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareToggleOverlay):"cvjs_exitCompareDrawings"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p3_2_2","cvjs_exitCompareDrawings",a,"cvjsIcon_dra_p4_2_2_ExitCompare.png",languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareExit):"cvjs_spaceObjectSettings"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_1","cvjs_spaceObjectSettings",
a,"cvjsIcon_dra_p5_1_1_Settings.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Settings):"cvjs_changeSpaceObjectDisplayMode"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2","cvjs_changeSpaceObjectDisplayMode",a,"cvjsIcon_dra_p5_1_2_SpaceObjectEditMode.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Mode):"cvjs_loadDrawingsWithSpaceObjects"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_1","cvjs_loadDrawingsWithSpaceObjects",
a,"cvjsIcon_dra_p5_2_1_LoadPreProcessSpaceObjects.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Load):"cvjs_LayerListSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_2_2","cvjs_LayerListSpaceObject",a,"cvjsIcon_dra_p5_2_2_SpaceObjectsLayerList.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.LayerList):"cvjs_addRectangleSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_1","cvjs_addRectangleSpaceObject",
a,"cvjsIcon_dra_p5_3_1_RectangleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Rect):"cvjs_addPolygonSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_3_2","cvjs_addPolygonSpaceObject",a,"cvjsIcon_dra_p5_3_2_PolygonSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Polygon):"cvjs_addCircleSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_1","cvjs_addCircleSpaceObject",a,"cvjsIcon_dra_p5_4_1_CircleSpaceObject.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Circle):"cvjs_copyCircleSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_4_2","cvjs_copyCircleSpaceObject",a,"cvjsIcon_dra_p5_4_2_CopyCircleSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.CopyCircle):"cvjs_deleteSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_1","cvjs_deleteSpaceObject",a,"cvjsIcon_dra_p5_5_1_DeleteSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Delete):
"cvjs_setSpacePolygonOnLayer"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_5_2","cvjs_setSpacePolygonOnLayer",a,"cvjsIcon_dra_p5_5_2_MakeSpaceObjectOnPolygon.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.SelectPolygon):"cvjs_displaySpaceObjectsStructure"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_displaySpaceObjectsStructure",a,"cvjsIcon_dra_p5_6_1_SpaceObjectDisplayMode.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Publish):
"cvjs_loadSpaceObjectsUser"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_1_2x","cvjs_loadSpaceObjectsUser",a,"cvjsIcon_dra_p5_7_1_LoadSpaceOverlay.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.LoadSpaceObjects):"cvjs_saveAsSVG"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_2","cvjs_saveAsSVG",a,"cvjsIcon_dra_p5_6_2_DownloadProcessedSpaceObjects.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.DownloadSVG):"cvjs_customCommand_01"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_1","cvjs_customCommand_01",a,"cvjsIcon_customCommand_01.png",h[0]):"cvjs_customCommand_02"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_2","cvjs_customCommand_02",a,"cvjsIcon_customCommand_02.png",h[1]):"cvjs_customCommand_03"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_3","cvjs_customCommand_03",a,"cvjsIcon_customCommand_03.png",h[2]):"cvjs_customCommand_04"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_4","cvjs_customCommand_04",a,"cvjsIcon_customCommand_04.png",h[3]):"cvjs_customCommand_05"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_5","cvjs_customCommand_05",a,"cvjsIcon_customCommand_05.png",h[4]):"cvjs_customCommand_06"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_6","cvjs_customCommand_06",a,"cvjsIcon_customCommand_06.png",h[5]):"cvjs_customCommand_07"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_7","cvjs_customCommand_07",a,"cvjsIcon_customCommand_07.png",h[6]):"cvjs_customCommand_08"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_8","cvjs_customCommand_08",a,"cvjsIcon_customCommand_08.png",h[7]):"cvjs_customCommand_09"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_0_9","cvjs_customCommand_09",a,"cvjsIcon_customCommand_09.png",h[8]):"cvjs_customCommand_10"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_0","cvjs_customCommand_10",a,"cvjsIcon_customCommand_10.png",h[9]):"cvjs_customCommand_11"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_1","cvjs_customCommand_11",a,"cvjsIcon_customCommand_01.png",h[0]):"cvjs_customCommand_12"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_2","cvjs_customCommand_12",a,"cvjsIcon_customCommand_02.png",h[11]):"cvjs_customCommand_13"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_3","cvjs_customCommand_13",a,"cvjsIcon_customCommand_03.png",h[12]):"cvjs_customCommand_14"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_4","cvjs_customCommand_14",a,"cvjsIcon_customCommand_04.png",h[13]):"cvjs_customCommand_15"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_5","cvjs_customCommand_15",a,"cvjsIcon_customCommand_05.png",h[14]):"cvjs_customCommand_16"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_6","cvjs_customCommand_16",a,"cvjsIcon_customCommand_06.png",h[15]):"cvjs_customCommand_17"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_7","cvjs_customCommand_17",a,"cvjsIcon_customCommand_07.png",h[16]):"cvjs_customCommand_18"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_8","cvjs_customCommand_18",a,"cvjsIcon_customCommand_08.png",h[17]):"cvjs_customCommand_19"==
f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_1_9","cvjs_customCommand_19",a,"cvjsIcon_customCommand_09.png",h[18]):"cvjs_customCommand_20"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_custom_2_0","cvjs_customCommand_20",a,"cvjsIcon_customCommand_10.png",h[19]):"cvjs_addFixedSizeImageSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_10_1","cvjs_addFixedSizeImageSpaceObject",a,"cvjsIcon_dra_p7_2_1_FixedSpaceImageObject.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.InsertSpaceImage):"cvjs_addDragRectangleImageSpaceObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_10_2","cvjs_addDragRectangleImageSpaceObject",a,"cvjsIcon_dra_p7_2_2_RectangleSpaceImageObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.DragSpaceImage):"cvjs_resizeSpaceImageObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_10_3","cvjs_resizeSpaceImageObject",
a,"cvjsIcon_dra_p7_3_1_ResizeSpaceImageObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.ResizeSpaceImage):"cvjs_deleteSpaceImageObject"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_10_4","cvjs_deleteSpaceImageObject",a,"cvjsIcon_dra_p5_5_1_DeleteSpaceObject.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Delete):"cvjs_saveAsSVGOnServer"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_10_5","cvjs_saveAsSVG",a,
"cvjsIcon_dra_p6_2_1_PublishSVG.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.DownloadSVG):"cvjs_customFileLoad"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_pA_5_1","cvjs_customFileLoad",a,"cvjsIcon_dra_p1_5_1_CustomFileLoad.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.FileLoad):"cvjs_customLayerList"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p5A_2_2","cvjs_customLayerList",a,"cvjsIcon_dra_p5_2_2_CustomLayerList.png",
languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList):"cvjs_downloadAsSVG"==f[i]?cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p6_6_1","cvjs_downloadAsSVG",a,"cvjsIcon_dra_p6_2_1_PublishSVG.png",languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.DownloadSVG):"cvjs_mergeQR"==f[i]&&cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p6_6_2","cvjs_mergeQR",a,"cvjsIcon_dra_p6_2_1_MergeQR.png",languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.MergeWithQR);
1==cvjs_TopIconMenu_maxPageNumber[cvjs_interfaceCounterIndex(a)]&&0==d&&cvjs_insertSingleIconImage(a,"topIconMenu_placeholder_1","cvjs_p_6_1","cvjs_displayInformationModal_Mode",0,"cvjsIcon_dra_p1_6_1_Information.png",languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.About);cvjs_initLoadMenuXML&&(cvjs_initLoadMenuXML=!1,cvjs_resizeWindow_position(a))}
function cvjs_rPaperIndex(a){for(var d=0;d<floorplan_div_Array.length;d++)if(-1<floorplan_div_Array[d].indexOf(a)&&floorplan_div_Array[d].length==a.length)return d;a+="_svg";for(d=0;d<floorplan_div_Array.length;d++)if(-1<floorplan_div_Array[d].indexOf(a)&&floorplan_div_Array[d].length==a.length)return d;return-1}var buildings,vqBuilding="BUILDING_NAME_GOES_HERE",vqFloor="FLOOR_NAME_GOES_HERE",vqRooms=[],vqTBorder=[],vqText=[],vqURLs=[];
function cvjs_insertSingleIconImage(a,d,f,h,n,p,q){cvjs_Community_Version&&0==h.indexOf("cadviewer.com")?jQuery("#"+d+"_"+a+"_svg").append('<a id="'+f+"_"+a+'" href="http://'+h+'"><img id='+f+"_img' src="+cvjs_imagesLocation+"singleIcons/"+p+"></a>"):jQuery("#"+d+"_"+a+"_svg").append('<a id="'+f+"_"+a+'" href="javascript:'+h+"('"+n+"')\"><img id="+f+"_img' src="+cvjs_imagesLocation+"singleIcons/"+p+"></a>");jQuery("#"+f+"_"+a).mouseover(function(){if(0==h.indexOf("cvjs_changeNextIconPage_TopIconMenu")||
0==h.indexOf("cvjs_changePreviousIconPage_TopIconMenu"))jQuery("#topIconMenu_placeholder_1_"+a+"_svg").draggable(),jQuery("#topIconMenu_placeholder_1_"+a+"_svg").draggable({disabled:!1});try{tip[cvjs_active_floorplan_div_nr].hide()}catch(t){}cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);jQuery("#"+f+"_"+a).css("cursor","pointer");jQuery("#"+f+"_"+a).css({WebkitFilter:"brightness(90%) invert(0)  blur(0px)"});tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(q);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#"+a+"_svg").position().left+jQuery("#"+d+"_"+a+"_svg").position().left-jQuery("#"+a+"_svg").position().left+jQuery("#"+f+"_"+a).position().left+27);tip[cvjs_active_floorplan_div_nr].css("top",jQuery("#"+a+"_svg").position().top+jQuery("#"+d+"_"+a+"_svg").position().top-jQuery("#"+a+"_svg").position().top+26+jQuery("#"+f+"_"+a).position().top)});jQuery("#"+f+"_"+a).mouseout(function(){0==h.indexOf("cvjs_changeNextIconPage_TopIconMenu")&&
jQuery("#topIconMenu_placeholder_1_"+a+"_svg").draggable("disable");tip[cvjs_active_floorplan_div_nr].hide();jQuery("#"+f+"_"+a).css("opacity","1.0");jQuery("#"+f+"_"+a).css({WebkitFilter:"brightness(100%) invert(0)  blur(0px)"})})}
function cvjs_navigationMenuItemHighlight(a,d,f,h,n){jQuery("#"+f+"_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(q){}cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);jQuery("#"+f+"_"+a).css("cursor","pointer");jQuery("#"+f+"_"+a).css("opacity","0.1");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(h);cvjs_debug&&console.log(n+"  "+jQuery("#"+d+"_"+a+"_svg").position().left+"  "+jQuery("#"+d+"_"+a+"_svg").position().top+
"  "+jQuery("#"+f+"_"+a).position().left);var p=0;1==n&&(p=31);2==n&&(p=-130);tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#"+a+"_svg").position().left+jQuery("#"+d+"_"+a+"_svg").position().left+jQuery("#"+f+"_"+a).position().left+p-jQuery("#"+a+"_svg").position().left);tip[cvjs_active_floorplan_div_nr].css("top",jQuery("#"+a+"_svg").position().top+jQuery("#"+d+"_"+a+"_svg").position().top+32-jQuery("#"+a+"_svg").position().top);tip[cvjs_active_floorplan_div_nr].show()});jQuery("#"+f+"_"+
a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide();jQuery("#"+f+"_"+a).css("opacity","0.0")})}function cvjs_allowFileLoadToServer(a){cvjs_fileLoadToServer=a}
var cvjs_buildFolderTree_crossDomain=!1,cvjs_compareDrawingsFirstDrawing="",cvjs_compareDrawingsSecondDrawing="",cvjs_compareDrawings=!1,colorFlag=!0,firstOverlayCompareFile=!0,layers_all_overlay,layers_all_overlay2,fileOverlay=!1,attr_1='{"display" : "none" }',hide=jQuery.parseJSON(attr_1),attr_2='{"display" : "inline" }',show=jQuery.parseJSON(attr_2),cvjs_SVG_multiPages=[{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",
pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},
{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]},{multiPages:1,currentPage:1,pages:[{fileName:"default",pageName:"Single Page"}]}],cvjs_SVG_multiPagesFlag=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],cvjs_multipageURL_FileNamePath="",cvjs_multipage_FileNamePath="",cvjs_multipagePDFtoSVG_tempDir="";
function cvjs_buildMultiPageSVG(a,d){cvjs_multipageURL_FileNamePath=d;d=cvjs_serverHandlersPath+cvjs_serverListDirectoryController;var f={};f.directory=a;f.directoryurl=a;jQuery.ajax({url:d,type:"post",data:f,success:function(a){a=a.split("<br>");if(1<=a.length){cvjs_debug&&console.log("Creating multipage SVG page structure n.length="+a.length+" "+cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[0].fileName);cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].multiPages=a.length-1;cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].currentPage=
1;for(var d=0,f=0;f<a.length;f++)if(0<a[f].indexOf(".svg")||0<a[f].indexOf(".svgz")){var h=a[f].substring(a[f].lastIndexOf("_")+1,a[f].indexOf(".svg"));h=parseInt(h);var t="Page "+h;1<=h&&(cvjs_SVG_multiPages[cvjs_active_floorplan_div_nr].pages[h-1]={fileName:a[f],pageName:t});d++}cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]=!0}}})}
var layer_vqrooms=[],cvjs_redlineThickness_scaleFactor=1,cvjs_redlineThickness_drawingFactor=2E-4,string_X="",totalDragStart=0,firstFingerX=0,firstFingerY=0,secondFingerX=0,secondFingerY=0,firstFingerX1=0,firstFingerY1=0,firstFingerXinit=0,firstFingerYinit=0,ttest=0,flagOK=!0,preventDrag=!0,base_x=0,base_y=0;
function dragStart(a,d,f){cvjs_debug&&console.log("dragstart "+cvjs_floorplan_div+" "+cvjs_rPaperIndex(cvjs_floorplan_div));try{cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(cvjs_floorplan_div),currentMasterDiv=this.data("id"),currentMasterDiv=currentMasterDiv.substring(7)}catch(h){console.log(" err "+h)}lastDy=lastDx=pdy=pdx=0;vbx=viewBox[cvjs_active_floorplan_div_nr].X;vby=viewBox[cvjs_active_floorplan_div_nr].Y;cvjs_Community_Version||hideOnlyPop();base_y=base_x=0;string_X="vqjs dragStart x="+
a+" y="+d+" vbx "+vbx+" vby "+vby+" cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr+"  "+this.data("id");cvjs_debug&&console.log(string_X);thumb_loaded||(base_x=a,base_y=d);thumb_loaded||(thumb_loaded=!0);try{firstFingerX=f.touches[0].pageX,firstFingerY=f.touches[0].pageY,totalDragStart=1,secondFingerX=f.touches[1].pageX,secondFingerY=f.touches[1].pageY,totalDragStart=2}catch(h){}try{f.preventDefault(),f.stopPropagation(),2==totalDragStart&&(f.preventDefault(),f.stopPropagation())}catch(h){console.log("t7 "+
h)}}
function dragEnd(a){cvjs_SVGHyperLinkCSSAll_Drag&&(cvjs_SVGHyperLinkCSSAll_Drag=!1,cvjs_SVGGroup[cvjs_active_floorplan_div_nr].undrag(),console.log("no mouseup undrag dragend"));preventDrag=!0;2==totalDragStart&&(a.preventDefault(),a.stopPropagation());try{if(2==totalDragStart){viewBox[cvjs_active_floorplan_div_nr].X=viewBox_initX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=viewBox_initY[cvjs_active_floorplan_div_nr];vBHo=viewBoxHeight_init[cvjs_active_floorplan_div_nr];vBWo=
viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=viewBoxHeight_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBoxHeight[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=
(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2;zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/cvjs_rPaper[cvjs_active_floorplan_div_nr].width;var d=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(d)}}catch(f){}try{panWithThumb&&(layers_all.attr(show),layer_thumb.attr(hide),
all_layer_on_thumb_off()),cvjs_Community_Version||layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show),thumb_loaded=!1}catch(f){console.log("t8 "+f)}}
function dragMove(a,d,f,h,n){try{!panWithThumb||0==base_x-f&&0==base_y-h||(layers_all.attr(hide),layer_thumb.attr(show),console.log("hide vqrooms   cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr),layer_vqrooms[cvjs_active_floorplan_div_nr].attr(hide),all_layer_off_thumb_on())}catch(p){console.log("t7 "+p)}2!=totalDragStart&&2>totalDragStart&&(4<Math.abs(lastDx-a)||4<Math.abs(lastDy-d))&&dragMoveControl&&(tip[cvjs_active_floorplan_div_nr].hide(),lastDx=a,lastDy=d,pdx=a*zoomScale,pdy=d*
zoomScale,f=viewBoxWidth[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(),h=viewBoxHeight[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(),f=f>h?f:h,pdx=a*f,pdy=d*f,viewBox[cvjs_active_floorplan_div_nr].X=vbx-pdx,viewBox[cvjs_active_floorplan_div_nr].Y=vby-pdy,a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+
" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }'),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a))}var cvjs_customMethodForOnLoadEnd=!1,cvjs_myOnLoadEndMethod;function cvjs_setCustomCallbackMethodOnLoadEnd(a,d){cvjs_customMethodForOnLoadEnd=a;cvjs_myOnLoadEndMethod=d}
function cvjs_setLooperPosition(){jQuery(window).width();jQuery(window).height();var a=window.innerWidth;var d=window.innerHeight;var f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();var h=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height(),n=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position");150==h&&300==n&&(h=d,n=a);a=n/2-120+f.left;f=h/2-60+f.top;jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).css({left:a,top:f,position:"fixed"});jQuery("#looper_image_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("");jQuery("#looper_image_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).append('<img class="waiting" src="'+cvjs_imagesLocation+'looper.gif" />')}
function cvjs_zoomZeroWidth(){if(cvjs_zeroWidthHandling){var a=viewBoxWidth[cvjs_active_floorplan_div_nr]/cvjs_zeroWidthHandling_viewBoxWidth;cvjs_debug&&console.log("cvjs_zoomZeroWidth  zoomFactor "+a);for(var d in cvjs_zeroWidthHandlingArr)try{var f="#"+d;if(0==jQuery(f).parent().attr("id").indexOf("layer_")||0==jQuery(f).parent().attr("id").indexOf("Layer_")){var h=jQuery(f).css("stroke-width");-1<h.indexOf("px")&&(h=h.substring(0,h.indexOf("px")),h=parseFloat(h));h*=cvjs_MinWidthSVG;jQuery(f).css("stroke-width",
cvjs_SVGLineThicknessArray[d]*a*cvjs_zeroWidthScaleFactor)}}catch(n){}.5>a?.25>a?.1>a?jQuery(".tmsPoints").css("r",1.2*a*cvjs_zeroWidthScaleFactor):jQuery(".tmsPoints").css("r",.3*a*3*cvjs_zeroWidthScaleFactor):jQuery(".tmsPoints").css("r",.6*a*cvjs_zeroWidthScaleFactor):jQuery(".tmsPoints").css("r",.3*a*cvjs_zeroWidthScaleFactor)}}var cvjs_zeroWidthHandling=!1,cvjs_zeroWidthHandling_viewBoxWidth=0,cvjs_zeroWidthHandling_viewBoxHeight=0,cvjs_zeroWidthHandlingArr={},cvjs_zeroWidthScaleFactor=1;
function cvjs_initZeroWidthHandling(a,d){cvjs_zeroWidthHandling=!0;cvjs_zeroWidthScaleFactor=d;cvjs_zeroWidthHandling_viewBoxWidth=viewBoxWidth[cvjs_active_floorplan_div_nr];cvjs_zeroWidthHandling_viewBoxHeight=viewBoxHeight[cvjs_active_floorplan_div_nr];reference_thickness=cvjs_MinWidthSVG=1;cvjs_svgLineThickness=!0;var f=0;cvjs_SVGLineThicknessArray={};cvjs_zeroWidthHandlingArr={};jQuery("*[id] .ZW").each(function(){var a=jQuery(this).attr("id");f++;cvjs_zeroWidthHandlingArr[a]||(cvjs_zeroWidthHandlingArr[a]=
!0)});cvjs_debug&&console.log("cvjs_initZeroWidthHandling = "+f);for(var h in cvjs_zeroWidthHandlingArr)try{var n="#"+h;if(0==jQuery(n).parent().attr("id").indexOf("layer_")||0==jQuery(n).parent().attr("id").indexOf("Layer_")){var p=jQuery(n).css("stroke-width");-1<p.indexOf("px")&&(p=p.substring(0,p.indexOf("px")),p=parseFloat(p));cvjs_SVGLineThicknessArray[h]=p}}catch(q){}1!=d&&cvjs_resetZoomPan(a)}var dragInsidePolygon=!1,cvjs_SVGHyperLinkCSSAll_Drag=!1;
function cvjs_rotateForward(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]+90;360<=d&&(d=0);-360>=d&&(d=0);cvjs_rotateAngle(d,a)}function cvjs_rotateBackward(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]-90;360<=d&&(d=0);-360>=d&&(d=0);cvjs_rotateAngle(d,a)}
var cvjs_currentRotationAngle=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
function cvjs_rotateAngle(a,d){if(!(-360>a||360<a)){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);console.log(d+"  "+cvjs_active_floorplan_div_nr);var f=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();cvjs_debug&&console.log("bounding box rpaper "+f.x+"  "+f.y+" "+f.width+" "+f.height);f="T"+(f.x+f.width/2)+" "+(f.y+f.height/2)+"0,0R"+a;cvjs_SVGGroup[cvjs_active_floorplan_div_nr].attr({transform:f});cvjs_masterBackground[cvjs_active_floorplan_div_nr].attr({transform:f});cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]=
a;cvjs_zoomExtents(d)}}var firstX_r=0,firstY_r=0,lastX_r=0,lastY_r=0,flag_rectangle=!1,tPath_r,tRubberBand_r,interactive_text_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_interactiveSearchText(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),interactive_text_offset_flag[cvjs_active_floorplan_div_nr]&&(interactive_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#textsearchModal_"+a).css({position:"fixed"}),jQuery("#textsearchModal_"+a).offset({left:150+jQuery("#"+
a).position().left,top:50+jQuery("#"+a).position().top})),textSearchPre="",jQuery("#textsearchModal_"+a).show())}
function cvjs_interactiveSearchText_zoomLevel(a){interactive_text_offset_flag[cvjs_active_floorplan_div_nr]&&(interactive_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#textsearchModal").css({position:"fixed"}),jQuery("#textsearchModal").offset({left:150+jQuery("#"+floorplan_div).position().left,top:50+jQuery("#"+floorplan_div).position().top}));textSearchPre="";jQuery("#cvjs_percentageLevelFromModal").val(a);jQuery("#textsearchModal").show()}
function cvjs_exitSearchTextModal(){jQuery(cvjs_textSearchPreElement).css("fill",cvjs_textSearchPreFill);cvjs_textSearchPreFill=cvjs_textSearchPreElement="";jQuery("#textsearchModal").hide()}var cvjs_textSearchPreElement="",cvjs_textSearchPreFill="";
function cvjs_searchText(a,d){isNaN(d)&&(d=100);jQuery("text").each(function(f){if(-1<jQuery(this).text().toLowerCase().indexOf(a.toLowerCase())){jQuery(cvjs_textSearchPreElement).css("fill",cvjs_textSearchPreFill);f=jQuery(this).attr("x");var h=jQuery(this).attr("y");cvjs_debug&&console.log("text search  xx="+f+" yy="+h);cvjs_textSearchPreElement=this;cvjs_textSearchPreFill=jQuery(this).css("fill");jQuery(this).css("fill","#FF0000");cvjs_svgWidthHeight100percent||(cvjs_debug&&console.log("cvjs_svgTransX "+
cvjs_svgTransX+" cvjs_svgTransY "+cvjs_svgTransY+" cvjs_svgScale "+cvjs_svgScale),""!=cvjs_svgTransX&&""!=cvjs_svgTransX&&(f=(cvjs_svgTransX+Number(f))*cvjs_svgScale,h=(cvjs_svgTransY+Number(h))*cvjs_svgScale),viewBoxWidth[cvjs_active_floorplan_div_nr]=rpWidth[cvjs_active_floorplan_div_nr]/d*100,viewBoxHeight[cvjs_active_floorplan_div_nr]=rpHeight[cvjs_active_floorplan_div_nr]/d*100,viewBox[cvjs_active_floorplan_div_nr].X=f-viewBoxWidth[cvjs_active_floorplan_div_nr]/2,viewBox[cvjs_active_floorplan_div_nr].Y=
h-viewBoxHeight[cvjs_active_floorplan_div_nr]/2,f=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }'),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(f),zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr])}})}
function cvjs_searchTextInstance(a,d,f){isNaN(d)&&(d=100);var h=0,n=!1;jQuery("text").each(function(p){if(-1<jQuery(this).text().toLowerCase().indexOf(a.toLowerCase())&&(h++,h==f)){p=jQuery(this).attr("x");var q=jQuery(this).attr("y");jQuery(cvjs_textSearchPreElement).css("fill",cvjs_textSearchPreFill);cvjs_textSearchPreElement=this;cvjs_textSearchPreFill=jQuery(this).css("fill");jQuery(this).css("fill","#FF0000");cvjs_svgWidthHeight100percent||(""!=cvjs_svgTransX&&""!=cvjs_svgTransX&&(p=(cvjs_svgTransX+
Number(p))*cvjs_svgScale,q=(cvjs_svgTransY+Number(q))*cvjs_svgScale),viewBoxWidth[cvjs_active_floorplan_div_nr]=rpWidth[cvjs_active_floorplan_div_nr]/d*100,viewBoxHeight[cvjs_active_floorplan_div_nr]=rpHeight[cvjs_active_floorplan_div_nr]/d*100,viewBox[cvjs_active_floorplan_div_nr].X=p-viewBoxWidth[cvjs_active_floorplan_div_nr]/2,viewBox[cvjs_active_floorplan_div_nr].Y=q-viewBoxHeight[cvjs_active_floorplan_div_nr]/2,p=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+
" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }'),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(p),zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr],n=!0)}});return n}var calibrate_first_point=!0,calibrate_first_point_x=1,calibrate_first_point_y=1,calibrate_Triangle,calibrate_Triangle2,calibrate_color="#ED1E05",calibrate_lineWidth_base=1,calibrate_lineWidth=1;
function cvjs_calibrateMeasurement_RedlinePolyline(){calibrate_lineWidth=cvjs_redlineThickness_scaleFactor*calibrate_lineWidth_base;calibrate_first_point=!0;tPath_poly_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tRubberBand_poly_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_redline1).attr({stroke:calibrate_color,"stroke-width":calibrate_lineWidth,fill:"#FFF","fill-opacity":"0.01"});polyPath_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tPolygon_redline1=
cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:calibrate_color,"stroke-width":calibrate_lineWidth,fill:"#FFF","fill-opacity":"0.01"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/
viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;a=-3.33*calibrate_lineWidth_base*cvjs_redlineThickness_scaleFactor+","+3.33*calibrate_lineWidth_base*
cvjs_redlineThickness_scaleFactor+" 0,"+-3.33*calibrate_lineWidth_base*cvjs_redlineThickness_scaleFactor+" "+3.33*calibrate_lineWidth_base*cvjs_redlineThickness_scaleFactor+","+3.33*calibrate_lineWidth_base*cvjs_redlineThickness_scaleFactor;calibrate_Triangle=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(a);calibrate_Triangle2=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(a);draw_poly_redline1=!1;first_point_poly_redline1=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_polygon_calibrate);handleGroup.mousemove(mousemove_polygon_calibrate)}
function cvjs_removeHandleFunc_CalibrateMeasurementPolyline(){handleGroup.selectAll("handler").remove();handleGroup.remove()}function finish_calibrate(){calibrate_x2=(lastX_poly_redline1-delta_x)/global_scale;calibrate_y2=(lastY_poly_redline1-delta_y)/global_scale;cvjs_removeHandleFunc_CalibrateMeasurementPolyline();draw_poly_redline1=!1;cvjs_calibrate_end=first_point_poly_redline1=!0}
var mousedown_polygon_calibrate=function(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_redline1?finish_calibrate():(polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),tPolygon_redline1.attr({stroke:calibrate_color,
"stroke-width":calibrate_lineWidth,fill:"#FFF","fill-opacity":"0.01"}),calibrate_x1=(firstX_poly_redline1-delta_x)/global_scale,calibrate_y1=(firstY_poly_redline1-delta_y)/global_scale,draw_poly_redline1=!0,cvjs_calibrate_end=!1)},mousemove_polygon_calibrate=function(a,d,f){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;if(draw_poly_redline1)if(first_point_poly_redline1?
(first_point_poly_redline1=!1,firstX_poly_redline1=d,firstY_poly_redline1=f,lastX_poly_redline1=d,lastY_poly_redline1=f,originX_poly_redline1=d,originY_poly_redline1=f,polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale):(lastX_poly_redline1=d,lastY_poly_redline1=f),calibrate_first_point)calibrate_first_point=!1,tPath_poly_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPath_poly_redline1+=
"L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tRubberBand_poly_redline1.attr({path:tPath_poly_redline1}),calibrate_x1=(firstX_poly_redline1-delta_x)/global_scale,calibrate_y1=(firstY_poly_redline1-delta_y)/global_scale,calibrate_first_point_x=calibrate_x1,calibrate_first_point_y=calibrate_y1;else{calibrate_x1=calibrate_first_point_x;calibrate_y1=calibrate_first_point_y;f=(lastX_poly_redline1-delta_x)/global_scale-calibrate_x1;a=(lastY_poly_redline1-
delta_y)/global_scale-calibrate_y1;d=Math.atan2(a,f)/Math.PI*180;a=Math.atan2(a,f);f=10*Math.cos(a)*cvjs_redlineThickness_scaleFactor*calibrate_lineWidth_base*.333;a=10*Math.sin(a)*cvjs_redlineThickness_scaleFactor*calibrate_lineWidth_base*.333;var h="r"+(d-90)+"T"+(calibrate_x1+f)+","+(calibrate_y1+a);calibrate_Triangle.attr({fill:measurement_color,transform:"r"+(d-270)+"T"+((lastX_poly_redline1-delta_x)/global_scale-f)+","+((lastY_poly_redline1-delta_y)/global_scale-a)});calibrate_Triangle2.attr({fill:measurement_color,
transform:h});tPath_poly_redline1="M"+(calibrate_first_point_x+f)+","+(calibrate_first_point_y+a);tPath_poly_redline1+="L"+((lastX_poly_redline1-delta_x)/global_scale-f)+","+((lastY_poly_redline1-delta_y)/global_scale-a);tRubberBand_poly_redline1.attr({path:tPath_poly_redline1})}},measurement_first_point=!0,measurement_first_point_x=1,measurement_first_point_y=1,measurement_Triangle,measurement_Triangle2,measurement_color="#ED1E05",measurement_lineWidth=.33,measurement_lineWidth_base=.33;
function cvjs_Measurement_RedlinePolyline(){measurement_lineWidth=cvjs_redlineThickness_scaleFactor*measurement_lineWidth_base;measurement_first_point=!0;tPath_poly_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tRubberBand_poly_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_redline1).attr({stroke:measurement_color,"stroke-width":measurement_lineWidth,fill:"#FFF","fill-opacity":"0.01"});polyPath_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tPolygon_redline1=
cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:measurement_color,"stroke-width":measurement_lineWidth,fill:"#FFF","fill-opacity":"0.01"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=
canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;a=-3.33*measurement_lineWidth_base*cvjs_redlineThickness_scaleFactor+","+3.33*measurement_lineWidth_base*
cvjs_redlineThickness_scaleFactor+" 0,"+-3.33*measurement_lineWidth_base*cvjs_redlineThickness_scaleFactor+" "+3.33*measurement_lineWidth_base*cvjs_redlineThickness_scaleFactor+","+3.33*measurement_lineWidth_base*cvjs_redlineThickness_scaleFactor;measurement_Triangle=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(a);measurement_Triangle2=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(a);draw_poly_redline1=!1;first_point_poly_redline1=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_polygon_measurement);handleGroup.mousemove(mousemove_polygon_measurement)}
function cvjs_removeHandleFunc_MeasurementPolyline(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
function finish_measurement(){cvjs_callbackMeasurement&&cvjs_measurementCallback(cvjs_currentMeasurementLength,0,cvjs_units[cvjs_active_floorplan_div_nr]);2==cvjs_measurementInteractiveType&&(tRubberBand_poly_redline1.attr({path:"M0,0"}),cvjs_removeHandleFunc_MeasurementFilledPolygon());1==cvjs_measurementInteractiveType&&cvjs_removeHandleFunc_MeasurementPolyline();draw_poly_redline1=!1;cvjs_measurement_end=first_point_poly_redline1=!0}
var mousedown_polygon_measurement=function(){if(2<cvjs_measurementInteractiveType){var a=(lastX_poly_redline1-delta_x)/global_scale,d=(lastY_poly_redline1-delta_y)/global_scale,f=a-10*measurement_lineWidth,h=a+10*measurement_lineWidth;if(3==cvjs_measurementInteractiveType||4==cvjs_measurementInteractiveType)polyPath_redline1="";polyPath_redline1+="M"+f+","+d+"L"+h+","+d;f=d-10*measurement_lineWidth;h=d+10*measurement_lineWidth;polyPath_redline1+="M"+a+","+f+"L"+a+","+h;3==cvjs_measurementInteractiveType&&
jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("("+cvjs_get_dwg_x_coord(a,multiPages[cvjs_active_floorplan_div_nr].currentPage).toFixed(4)+","+cvjs_get_dwg_y_coord(d,multiPages[cvjs_active_floorplan_div_nr].currentPage).toFixed(4)+")");4==cvjs_measurementInteractiveType&&jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("("+a.toFixed(4)+","+d.toFixed(4)+")");5==cvjs_measurementInteractiveType&&(f=jQuery("#cvjs_measurementBox_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(),0==f.indexOf("(0,0)")?jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("("+cvjs_get_dwg_x_coord(a,multiPages[cvjs_active_floorplan_div_nr].currentPage).toFixed(4)+","+cvjs_get_dwg_y_coord(d,multiPages[cvjs_active_floorplan_div_nr].currentPage).toFixed(4)+")"):jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(f+",("+cvjs_get_dwg_x_coord(a,multiPages[cvjs_active_floorplan_div_nr].currentPage).toFixed(4)+
","+cvjs_get_dwg_y_coord(d,multiPages[cvjs_active_floorplan_div_nr].currentPage).toFixed(4)+")"));6==cvjs_measurementInteractiveType&&(f=jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(),0==f.indexOf("(0,0)")?jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("("+a.toFixed(4)+","+d.toFixed(4)+")"):jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(f+",("+a.toFixed(4)+","+d.toFixed(4)+")"));
7==cvjs_measurementInteractiveType&&(f=jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(),0==f.indexOf("M0,0")?jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("M"+a.toFixed(4)+","+d.toFixed(4)):jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(f+"L"+a.toFixed(4)+","+d.toFixed(4)));tRubberBand_poly_redline1.attr({path:polyPath_redline1});3!=cvjs_measurementInteractiveType&&4!=cvjs_measurementInteractiveType||
cvjs_removeHandleFunc_MeasurementPolyline()}else draw_poly_redline1?finish_measurement():(polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),tPolygon_redline1.attr({stroke:measurement_color,"stroke-width":measurement_lineWidth,fill:"#FFF","fill-opacity":"0.01"}),draw_poly_redline1=!0,cvjs_measurement_end=!1)},mousemove_polygon_measurement=function(a,d,f){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();
canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+
a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;if(2<cvjs_measurementInteractiveType)lastX_poly_redline1=d,lastY_poly_redline1=f;else if(draw_poly_redline1){first_point_poly_redline1?(first_point_poly_redline1=!1,firstX_poly_redline1=d,firstY_poly_redline1=f,lastX_poly_redline1=d,lastY_poly_redline1=f,originX_poly_redline1=d,originY_poly_redline1=f,polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/
global_scale+","+(firstY_poly_redline1-delta_y)/global_scale):(lastX_poly_redline1=d,lastY_poly_redline1=f);measurement_first_point?(measurement_first_point=!1,measurement_x1=(firstX_poly_redline1-delta_x)/global_scale,measurement_y1=(firstY_poly_redline1-delta_y)/global_scale,measurement_x2=(lastX_poly_redline1-delta_x)/global_scale,measurement_y2=(lastY_poly_redline1-delta_y)/global_scale,f=measurement_x2-measurement_x1,a=measurement_y2-measurement_y1,a=Math.atan2(a,f),f=10*Math.cos(a)*cvjs_redlineThickness_scaleFactor*
measurement_lineWidth_base*.333,a=10*Math.sin(a)*cvjs_redlineThickness_scaleFactor*measurement_lineWidth_base*.333):(measurement_x2=(lastX_poly_redline1-delta_x)/global_scale,measurement_y2=(lastY_poly_redline1-delta_y)/global_scale,f=measurement_x2-measurement_x1,a=measurement_y2-measurement_y1,a=Math.atan2(a,f),f=10*Math.cos(a)*cvjs_redlineThickness_scaleFactor*measurement_lineWidth_base*.333,a=10*Math.sin(a)*cvjs_redlineThickness_scaleFactor*measurement_lineWidth_base*.333);tPath_poly_redline1=
"M"+(measurement_x1+f)+","+(measurement_y1+a);tPath_poly_redline1+="L"+(measurement_x2-f)+","+(measurement_y2-a);tRubberBand_poly_redline1.attr({path:tPath_poly_redline1});f=measurement_x2-measurement_x1;a=measurement_y2-measurement_y1;d=Math.atan2(a,f)/Math.PI*180;a=Math.atan2(a,f);f=10*Math.cos(a)*cvjs_redlineThickness_scaleFactor*measurement_lineWidth_base*.333;a=10*Math.sin(a)*cvjs_redlineThickness_scaleFactor*measurement_lineWidth_base*.333;var h="r"+(d-90)+"T"+(measurement_x1+f)+","+(measurement_y1+
a);measurement_Triangle.attr({fill:measurement_color,transform:"r"+(d-270)+"T"+(measurement_x2-f)+","+(measurement_y2-a)});measurement_Triangle2.attr({fill:measurement_color,transform:h});cvjs_currentMeasurementLength=f=(cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*Math.sqrt(Math.pow(measurement_x2-measurement_x1,2)+Math.pow(measurement_y2-measurement_y1,2))).toFixed(2);1==cvjs_measurementInteractiveType?jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance):
jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area);0==cvjs_units[cvjs_active_floorplan_div_nr].indexOf("feet")?(d=Math.floor(f),f-=Math.floor(f),f=Math.round(16*f),16==f&&(d+=1,f=0),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(d+"' "+f+'/16"')):jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(f+" "+cvjs_units[cvjs_active_floorplan_div_nr])}},
originX_poly_redline1=0,originY_poly_redline1=0,firstX_poly_redline1=0,firstY_poly_redline1=0,lastX_poly_redline1=400,lastY_poly_redline1=300,tPath_poly_redline1,tRubberBand_poly_redline1,polyPath_redline1,tPolygon_redline1,draw_poly_redline1=!1,first_point_poly_redline1=!0,cvjs_currentRedline_color="#FF0000",area_vertices,area_vertices_counter=0;
function calcPolygonArea(a){for(var d=0,f=0,h=a.length;f<h;f++){var n=a[f==a.length-1?0:f+1].x,p=a[f].y;d+=a[f].x*a[f==a.length-1?0:f+1].y*.5;d-=n*p*.5}return Math.abs(d)}var cvjs_measurementArea=0,cvjs_measurementMultipleSegmentLength=0,cvjs_MeasurementFilledPoly_firstsegment=!1;
function cvjs_addHandleFunc_MeasurementFilledPolygon(){area_vertices=[];cvjs_measurementMultipleSegmentLength=area_vertices_counter=0;cvjs_addHandleFunc_MeasurementFilledPolygon_started=cvjs_MeasurementFilledPoly_firstsegment=!0;tPath_poly_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tRubberBand_poly_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,
fill:cvjs_currentRedline_color,"fill-opacity":"0.1"});polyPath_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tPolygon_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:cvjs_currentRedline_color,"fill-opacity":"0.1"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();
var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*
global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_redline1=!1;first_point_poly_redline1=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});
handleGroup.mousedown(mousedown_polygon_redline4);handleGroup.mousemove(mousemove_polygon_redline4);handleGroup.dblclick(polygon_finish_redline4);oldKeyDown=jQuery(document).keydown().bind({});jQuery(document).keydown(function(a){27==a.keyCode&&cvjs_addHandleFunc_MeasurementFilledPolygon_started&&(cvjs_addHandleFunc_MeasurementFilledPolygon_started=!1,cvjs_measurementMultipleSegmentLength=Math.round(100*cvjs_currentMeasurementLength)/100,measurement_first_point=!0,polygon_finish_redline4(),jQuery(document).keydown()==
oldKeyDown)})}function cvjs_removeHandleFunc_MeasurementFilledPolygon(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var polygon_finish_redline4=function(){cvjs_measurement_end=!0;polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale+"L"+(originX_poly_redline1-delta_x)/global_scale+","+(originY_poly_redline1-delta_y)/global_scale+"Z";tPolygon_redline1.attr({path:polyPath_redline1});cvjs_removeHandleFunc_MeasurementFilledPolygon();tRubberBand_poly_redline1.attr({path:"M0,0"});draw_poly_redline1=!1;first_point_poly_redline1=!0;measurement_x1=(firstX_poly_redline1_segment1-
delta_x)/global_scale;measurement_y1=(firstY_poly_redline1_segment1-delta_y)/global_scale;var a=(cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*Math.sqrt(Math.pow(measurement_x2-measurement_x1,2)+Math.pow(measurement_y2-measurement_y1,2))).toFixed(2);cvjs_measurementMultipleSegmentLength=Math.round(100*cvjs_measurementMultipleSegmentLength)/100;a=Math.round(100*a)/100;cvjs_debug&&console.log("XX"+cvjs_measurementMultipleSegmentLength+"XX"+a+"ZZ cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr] "+
cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]);a=cvjs_measurementMultipleSegmentLength+a;cvjs_currentMeasurementLength=cvjs_measurementMultipleSegmentLength=a=Math.round(100*a)/100;var d=(firstX_poly_redline1_segment1-delta_x)/global_scale,f=(firstY_poly_redline1_segment1-delta_y)/global_scale;area_vertices[area_vertices_counter]=[];area_vertices[area_vertices_counter]={x:d,y:f};cvjs_debug&&console.log(area_vertices_counter+" "+area_vertices[area_vertices_counter].x+"  "+area_vertices[area_vertices_counter].y);
area_vertices_counter++;cvjs_measurementArea=(calcPolygonArea(area_vertices)*cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]).toFixed(2);cvjs_callbackMeasurement&&cvjs_measurementCallback(cvjs_measurementMultipleSegmentLength,cvjs_measurementArea,cvjs_units[cvjs_active_floorplan_div_nr]);1==cvjs_measurementInteractiveType?jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance):
jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area);0==cvjs_units[cvjs_active_floorplan_div_nr].indexOf("feet")?(d=Math.floor(a),a-=Math.floor(a),a=Math.round(16*a),16==a&&(d+=1,a=0),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(cvjs_measurementArea+" "+cvjs_units[cvjs_active_floorplan_div_nr]+"\u00b2 ("+d+"' "+a+'/16")')):jQuery("#cvjs_measurementBox_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(cvjs_measurementArea+" "+cvjs_units[cvjs_active_floorplan_div_nr]+"\u00b2 ("+cvjs_measurementMultipleSegmentLength+" "+cvjs_units[cvjs_active_floorplan_div_nr]+")")},firstX_poly_redline1_segment1=0,firstY_poly_redline1_segment1=0,mousedown_polygon_redline4=function(a,d,f){measurement_first_point=!0;draw_poly_redline1?(polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),
firstX_poly_redline1=lastX_poly_redline1,firstY_poly_redline1=lastY_poly_redline1):(polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),tPolygon_redline1.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:cvjs_currentRedline_color,"fill-opacity":"0.1"}),draw_poly_redline1=!0,firstX_poly_redline1_segment1=d,firstY_poly_redline1_segment1=
f);cvjs_MeasurementFilledPoly_firstsegment?(cvjs_MeasurementFilledPoly_firstsegment=!1,cvjs_measurementMultipleSegmentLength=0):(cvjs_measurementMultipleSegmentLength=Math.round(100*cvjs_currentMeasurementLength)/100,measurement_first_point=!0);a=(d-delta_x)/global_scale;f=(f-delta_y)/global_scale;area_vertices[area_vertices_counter]=[];area_vertices[area_vertices_counter]={x:a,y:f};cvjs_debug&&console.log(area_vertices_counter+" "+area_vertices[area_vertices_counter].x+"  "+area_vertices[area_vertices_counter].y);
area_vertices_counter++},mousemove_polygon_redline4=function(a,d,f){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:
global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_redline1&&(first_point_poly_redline1?(first_point_poly_redline1=!1,firstX_poly_redline1=d,firstY_poly_redline1=f,lastX_poly_redline1=d,lastY_poly_redline1=f,originX_poly_redline1=d,originY_poly_redline1=
f,polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale):(lastX_poly_redline1=d,lastY_poly_redline1=f),tPath_poly_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPath_poly_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tRubberBand_poly_redline1.attr({path:tPath_poly_redline1}));measurement_first_point&&(measurement_first_point=
!1,measurement_x1=(firstX_poly_redline1-delta_x)/global_scale,measurement_y1=(firstY_poly_redline1-delta_y)/global_scale);measurement_x2=(lastX_poly_redline1-delta_x)/global_scale;measurement_y2=(lastY_poly_redline1-delta_y)/global_scale;cvjs_MeasurementFilledPoly_firstsegment||(d=(cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*Math.sqrt(Math.pow(measurement_x2-measurement_x1,2)+Math.pow(measurement_y2-measurement_y1,2))).toFixed(2),cvjs_measurementMultipleSegmentLength=Math.round(100*cvjs_measurementMultipleSegmentLength)/
100,d=Math.round(100*d)/100,d=cvjs_measurementMultipleSegmentLength+d,cvjs_currentMeasurementLength=f=d=Math.round(100*d)/100,1==cvjs_measurementInteractiveType?jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance):jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area),0==cvjs_units[cvjs_active_floorplan_div_nr].indexOf("feet")?
(d=Math.floor(f),f-=Math.floor(f),f=Math.round(16*f),16==f&&(d+=1,f=0),jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(d+"' "+f+'/16"')):jQuery("#cvjs_measurementBox_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(f+" "+cvjs_units[cvjs_active_floorplan_div_nr]))},cvjs_currentRedline_strokeWidth=1,XrefFileList=[],cvjs_printModalCustomCheckBox="",cvjs_customPrintCheckbox=!1,cvjs_customPrintCheckboxMode=!1,printmodalTextBox="";
function cvjs_setPrintModalCustomCheckBox(a,d){cvjs_customPrintCheckboxMode=a;cvjs_printModalCustomCheckBox=d;cvjs_debug&&console.log("in cvjs_setPrintModalCustomCheckBox "+cvjs_printModalCustomCheckBox+"  "+d)}
function cvjs_setPrintModalCustomCheckBoxFromFile(a,d){var f=cvjs_serverHandlersPath+cvjs_serverLoadFileController,h={};h.file=cvjs_ServerLocation+"/app/cv/"+d;jQuery.ajax({url:f,type:"post",async:!1,data:h,success:function(f){cvjs_customPrintCheckboxMode=a;cvjs_printModalCustomCheckBox=f;cvjs_debug&&console.log("in cvjs_setPrintModalCustomCheckBox "+cvjs_printModalCustomCheckBox+"  "+d)}})}
var cvjs_printModalCustomTextBox="",cvjs_printModalCustomTextBoxVariablesList=[],cvjs_printModalCustomTextBoxVariablesContent=[],cvjs_printModalCustomTextBoxVariablesPrepend=[],cvjs_customPrintTextbox=!1,cvjs_customPrintTextboxMode=!1,cvjs_customPrintDualTextboxMode=!1;function cvjs_setPrintModalCustomDualTextBox(a,d){cvjs_customPrintDualTextboxMode=!0;cvjs_setPrintModalCustomTextBox(a,d)}
function cvjs_setPrintModalCustomTextBox(a,d){cvjs_customPrintTextboxMode=a;cvjs_printModalCustomTextBoxVariablesList=d.split(",");cvjs_printModalCustomTextBox="hello";cvjs_printModalCustomTextBoxVariablesContent=Array(cvjs_printModalCustomTextBoxVariablesList.length);cvjs_printModalCustomTextBoxVariablesPrepend=Array(cvjs_printModalCustomTextBoxVariablesList.length);for(k=0;k<cvjs_printModalCustomTextBoxVariablesList.length;k++)a=cvjs_printModalCustomTextBoxVariablesList[k].split(":"),1==a.length?
cvjs_printModalCustomTextBoxVariablesPrepend[k]="none":(a[0]=a[0].replace("%7B","{"),a[1]=a[1].replace("%7D","}"),cvjs_printModalCustomTextBoxVariablesPrepend[k]=a[1].substring(0,a[1].length-1),cvjs_printModalCustomTextBoxVariablesList[k]=a[0].substring(1));cvjs_debug&&console.log("in cvjs_setPrintModalCustomTextBox "+cvjs_printModalCustomCheckBox+"  "+d)}function cvjs_setPrintModalCustomDualTextBoxFromFile(a,d){cvjs_customPrintDualTextboxMode=!0;cvjs_setPrintModalCustomTextBoxFromFile(a,d)}
function cvjs_setPrintModalCustomTextBoxFromFile(a,d){var f=cvjs_serverHandlersPath+cvjs_serverLoadFileController,h={};h.file=cvjs_ServerLocation+"/app/cv/"+d;jQuery.ajax({url:f,type:"post",async:!1,data:h,success:function(a){print_modal_custom_checkbox_variables_list=a;cvjs_debug&&console.log("in cvjs_setPrintModalCustomCheckBox "+cvjs_printModalCustomCheckBox+"  "+d)}});cvjs_customPrintTextboxMode=a;cvjs_printModalCustomTextBoxVariablesList=print_modal_custom_checkbox_variables_list.split(",");
cvjs_printModalCustomTextBox="hello";cvjs_printModalCustomTextBoxVariablesContent=Array(cvjs_printModalCustomTextBoxVariablesList.length);cvjs_printModalCustomTextBoxVariablesPrepend=Array(cvjs_printModalCustomTextBoxVariablesList.length);for(k=0;k<cvjs_printModalCustomTextBoxVariablesList.length;k++)a=cvjs_printModalCustomTextBoxVariablesList[k].split(":"),1==a.length?cvjs_printModalCustomTextBoxVariablesPrepend[k]="none":(a[0]=a[0].replace("%7B","{"),a[1]=a[1].replace("%7D","}"),cvjs_printModalCustomTextBoxVariablesPrepend[k]=
a[1].substring(0,a[1].length-1),cvjs_printModalCustomTextBoxVariablesList[k]=a[0].substring(1));cvjs_debug&&console.log("in cvjs_setPrintModalCustomTextBox "+cvjs_printModalCustomCheckBox+"  "+print_modal_custom_checkbox_variables_list)}function cvjs_GetURLParameter(a){for(var d=window.location.search.substring(1).split("&"),f=0;f<d.length;f++){var h=d[f].split("=");if(h[0]==a)return h[1]}return""}function cvjs_PrintToPDFWindowRelativeSize(a){cvjs_print_to_pdf_windowRelativeSize=a}
var cvjs_fileModalEditMode=!0;function cvjs_setFileModalEditMode(a){cvjs_fileModalEditMode=a}function cvjs_setPrintPaperSizeasSVGObject(a){cvjs_printPaperSizeasSVGObjectFlag=a}var cvjs_printPaperSizeasSVGObjectFlag=!0;
function cvjs_printPaperSizeasSVGObject(a){try{a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox(),f=!1;f=1>d.width/d.height?!0:!1;var h=-1<navigator.userAgent.indexOf("Chrome"),n=-1<navigator.userAgent.indexOf("Firefox");-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");var p=-1<navigator.userAgent.indexOf("Safari");navigator.userAgent.indexOf("Presto");h&&p&&(p=!1);
p='<?xml version="1.0" encoding="utf-8" ?>';p+=' <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';p+='<svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"';p+=' width="'+d.width+'" height="'+d.height+'" viewbox="'+d.x+" "+d.y+" "+d.width+" "+d.height+'"';cvjs_printGrayscale?(p+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" filter="url(#grayscale)"> ',
p=2==jQuery("#cvjs_grayScaleType").val()?p+'<filter id="grayscale"><feColorMatrix type="matrix" values="0.1 0.1 0.1 0 0 0.1 0.1 0.1 0 0 0.1 0.1 0.1 0 0 0 0 0 1 0"/></filter>':p+'<filter id="grayscale"><feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/></filter>'):p+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=
cvjs_rPaperIndex(a);var q=p+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>";cvjs_useFrameOutputFile_ZoomedStatus=!1;if(cvjs_useFrameOutputFile){var t=cvjs_rPaper[cvjs_active_floorplan_div_nr].toString();t=t.substring(t.indexOf("svg id")+7);t=t.substring(t.indexOf("viewBox")+9);t=t.substring(0,t.indexOf('"'));var u=t.split(" ");cvjs_FrameOutput_bbox.x=parseFloat(u[0]);cvjs_FrameOutput_bbox.y=parseFloat(u[1]);cvjs_FrameOutput_bbox.width=parseFloat(u[2]);cvjs_FrameOutput_bbox.height=parseFloat(u[3]);
cvjs_useFrameOutputFile_ZoomedStatus=100>Math.abs(cvjs_FrameOutput_bbox.width-2500)||100>Math.abs(cvjs_FrameOutput_bbox.height-2500)?!1:!0;cvjs_FrameOutput_clipbox.x=parseFloat(u[0]);cvjs_FrameOutput_clipbox.y=parseFloat(u[1]);cvjs_FrameOutput_clipbox.width=parseFloat(u[2]);cvjs_FrameOutput_clipbox.height=parseFloat(u[3])}cvjs_NodeJSserver&&(q=q.replace(/xlink:href=["]assets[/]cadviewer/g,'xlink:href="'+ServerUrl+"files?file="));var v=Math.floor(1E6*Math.random()+1),w="print/"+v+"/"+cvjs_FileNameNoExtension+
".svg";a="print/"+v+"/"+cvjs_FileNameNoExtension+"_frame.svg";t=cvjs_printPaperWidth_mm;u=cvjs_printPaperHeight_mm;var x=q.indexOf("tmsMinLineWidth");if(0<x){var A=q.substring(x+17),y=A.indexOf(";");A=A.substring(0,y);var B=parseFloat(A);cvjs_printOrientation.indexOf("landscape");if(f){var z=d.height;z=u/z;n||(B*=z,E=q.substring(0,x+17),F=q.substring(x+17+y),q=E+B+F)}else{var C=d.width;C=t/C;if(!n){B*=C;var E=q.substring(0,x+17),F=q.substring(x+17+y);q=E+B+F}}}cvjs_debug&&console.log("YYYY "+q.length+
" ZZZ");var D=q.substring(q.lastIndexOf("</g><g></g>")+11,q.lastIndexOf("</svg></svg>"));cvjs_debug&&console.log("redlines "+D);if(0<D.length){q=q.substring(0,q.lastIndexOf("</g><g></g>")+11)+"</svg></svg>";var J=q.lastIndexOf("</g><desc>Created with Snap</desc>");if(-1<J){var H=q.substring(J);q=q.substring(0,J)+D+H}else J=q.lastIndexOf("</image>"),-1<J&&(H=q.substring(J+8),q=q.substring(0,J+8)+D+H)}d=cvjs_serverHandlersPath+cvjs_serverSaveFileController;n=cvjs_ServerLocation+"/converters/files/"+
w;x={};x.file=n;x.file_content=q;jQuery.ajax({url:d,type:"post",async:!1,data:x,success:function(a){cvjs_debug&&console.log("Saved zoomed svg file")}});if(cvjs_useFrameOutputFile_ZoomedStatus){cvjs_Conversion_forPrint(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_FrameOutputFileName,cvjs_conversion_originatingUsername[cvjs_active_floorplan_div_nr],cvjs_conversion_originatingPassword[cvjs_active_floorplan_div_nr],"svg");var I="";q={};if(0<cvjs_FrameOutputConvertedFileName.indexOf("fileTag")){var L=
cvjs_FrameOutputConvertedFileName.substring(cvjs_FrameOutputConvertedFileName.indexOf("fileTag")+8);cvjs_FrameOutputConvertedFileName=L.substring(0,L.indexOf("&"))+".svg"}else"f"!=cvjs_FrameOutputConvertedFileName.charAt(0)&&(cvjs_FrameOutputConvertedFileName="f"+cvjs_FrameOutputConvertedFileName.substring(cvjs_FrameOutputConvertedFileName.lastIndexOf("/")+1));q.file=cvjs_ServerLocation+"/converters/files/"+cvjs_FrameOutputConvertedFileName;jQuery.ajax({url:cvjs_serverHandlersPath+cvjs_serverLoadFileController,
type:"post",data:q,async:!1,success:function(a){I=a;cvjs_debug&&console.log("Load background file:   length of file"+a.length)},error:function(a){console.log("Error "+a)}});L=0;L=cvjs_spaceReduction_TitleBlock_ZoomPrint_top+cvjs_spaceReduction_TitleBlock_ZoomPrint_bottom>cvjs_spaceReduction_TitleBlock_ZoomPrint_left+cvjs_spaceReduction_TitleBlock_ZoomPrint_right?cvjs_spaceReduction_TitleBlock_ZoomPrint_top+cvjs_spaceReduction_TitleBlock_ZoomPrint_bottom:cvjs_spaceReduction_TitleBlock_ZoomPrint_left+
cvjs_spaceReduction_TitleBlock_ZoomPrint_right;var M='<g id="cv_frame_insert01" transform="translate('+2500*cvjs_spaceReduction_TitleBlock_ZoomPrint_top+","+2500*cvjs_spaceReduction_TitleBlock_ZoomPrint_left+"),scale("+(1-L)+')"><svg viewBox="'+cvjs_FrameOutput_bbox.x+" "+cvjs_FrameOutput_bbox.y+" "+cvjs_FrameOutput_bbox.width+" "+cvjs_FrameOutput_bbox.height+'" ><use xlink:href="'+cvjs_ServerUrl+"/converters/files/"+w+'#cv_main_drawing" ></use>   </svg></g>';I=I.substring(0,I.lastIndexOf("</svg>"))+
M+"</svg>";d=cvjs_serverHandlersPath+cvjs_serverSaveFileController;x={};x.file=cvjs_ServerLocation+"/converters/files/"+a;x.file_content=I;cvjs_debug&&console.log(x.file+"  "+I.length);jQuery.ajax({url:d,type:"post",async:!1,data:x,success:function(a){cvjs_debug&&console.log("saving file with svgUseString ")},error:function(a){console.log("Error "+a)}});w=a}serverString="<!DOCTYPE html><html><head><title>CADViewer - Print</title>";if(cvjs_removePrintObject){var O=cvjs_serverHandlersPath+cvjs_serverDeleteFileController+
"?file="+encodeURIComponent("xXXX"+cvjs_ServerLocation+"/converters/files/"+w);serverString=JQ_absoluteFolder?serverString+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'" type="text/javascript">\x3c/script>'):serverString+('<script src="'+cvjs_javaScriptsAbsoluteFolder+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');serverString+='<script type="text/javascript">';serverString+="jQuery(window).on('beforeunload', function ()";serverString+="{";serverString+="jQuery.ajax({";serverString+=
"url:'"+O+"',";serverString+="cache: false,";serverString+="success: function(html){";serverString+="}";serverString+="});";serverString+="});";serverString+="jQuery(window).on('unload', function ()";serverString+="{";serverString+="jQuery.ajax({";serverString+="url:'"+O+"',";serverString+="cache: false,";serverString+="success: function(html){";serverString+="}";serverString+="});";serverString+="});";serverString+="window.onbeforeunload = function () {";serverString+="jQuery.ajax({";serverString+=
"url:'"+O+"',";serverString+="cache: false,";serverString+="success: function(html){";serverString+="}";serverString+="});";serverString+="return undefined; }; ";serverString+="\x3c/script>"}serverString+='<style type="text/css" media="print">';serverString+="@page {size: ";serverString=-1<cvjs_printOrientation.indexOf("landscape")?serverString+(t+"mm "+u+"mm"):serverString+(u+"mm "+t+"mm");serverString+="}";serverString+="</style>";serverString+='<script src="'+cvjs_defaultJSPath+'/popper.js" type="text/javascript">\x3c/script><script src="'+
cvjs_defaultJSPath+'/bootstrap.min.js" type="text/javascript">\x3c/script><link href="'+cvjs_defaultJSPath+'../css/bootstrap.min.css" rel="stylesheet">\x3c/script>';serverString+='<link href="'+cvjs_defaultJSPath+'../css/font-awesome.min.css" rel="stylesheet">\x3c/script>';serverString+="<style>.btn {  background-color: DodgerBlue;  border: none;  color: white;  padding: 12px 30px;  cursor: pointer;  font-size: 20px;} /* Darker background on mouse-over */ .btn:hover {  background-color: RoyalBlue;} </style>";
serverString+='<script type="text/javascript">';serverString+="jQuery(document).ready(function(){\tjQuery('#printbutton').click(function (e) { \t\tjQuery('#printbutton').remove(); window.print(); \t});});\x3c/script>";serverString+="</head><body>";serverString+='<button id="printbutton" class="btn" style="width:100%"><i class="fa fa-print"></i> Print: '+(w.substring(w.lastIndexOf("/")+1)+"</button> <br>");serverString+="<div id=\"imagetag\"><object type='image/svg+xml' data='"+w.substring(w.lastIndexOf("/")+
1);f?(printDebugFlag&&console.log("b1 a (pw1-10)  '  style=\"height: auto; width:"+(t-10)+'mm;" /></div></body></html>'),serverString=h?serverString+("'  style=\"height: auto; width:"+(t-40)+'mm;" /></div></body></html>'):serverString+("'  style=\"height: auto; width:"+(t-0)+'mm;" /></div></body></html>')):(printDebugFlag&&console.log("b1 b (pw1-20)    '  style=\"height: auto; width: "+(t-20)+'mm;" /></div></body></html>'),serverString=h?serverString+("'  style=\"height: auto; width: "+(t-40)+'mm;" /></div></body></html>'):
serverString+("'  style=\"height: auto; width: "+(t-0)+'mm;" /></div></body></html>'));d=cvjs_serverHandlersPath+cvjs_serverSaveFileController;n=cvjs_ServerLocation+"/converters/files/"+w.substring(0,w.lastIndexOf("."))+".html";x={};x.file=n;x.file_content=serverString;jQuery.ajax({url:d,type:"post",async:!1,data:x,success:function(a){cvjs_debug&&console.log("saving html before opening ");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();printWindow=window.open(cvjs_ServerUrl+
"/converters/files/"+w.substring(0,w.lastIndexOf("."))+".html","CADViewer - Print","height="+.5*screen.height+",width="+.5*screen.width)}})}catch(Q){console.log(Q),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()}}
var cvjs_useFrameOutputFile=!1,cvjs_useFrameOutputFile_ZoomedStatus=!1,cvjs_FrameOutputFileName="",cvjs_FrameOutputConvertedFileName="",cvjs_spaceReduction_TitleBlock_ZoomPrint_top=0,cvjs_spaceReduction_TitleBlock_ZoomPrint_bottom=0,cvjs_spaceReduction_TitleBlock_ZoomPrint_left=0,cvjs_spaceReduction_TitleBlock_ZoomPrint_right=0,cvjs_FrameOutput_bbox={x:0,y:0,width:0,height:0},cvjs_FrameOutput_clipbox={x:0,y:0,width:0,height:0};
function cvjs_superimposeBackgroundDrawing_PrintOutputAtZoom(a,d,f,h,n,p){cvjs_useFrameOutputFile=!0;cvjs_FrameOutputFileName=d;cvjs_spaceReduction_TitleBlock_ZoomPrint_top=f;cvjs_spaceReduction_TitleBlock_ZoomPrint_bottom=h;cvjs_spaceReduction_TitleBlock_ZoomPrint_left=n;cvjs_spaceReduction_TitleBlock_ZoomPrint_right=p}
function parseServerResponseSVGPrint(a){a=jQuery.parseJSON(a);"E0"==a.errorCode?(jQuery("#looper").hide(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),"svg_creation"==a.completedAction&&(cvjs_FrameOutputConvertedFileName="","stream"==rest_contentResponse&&(cvjs_FrameOutputConvertedFileName=a.contentStreamData),"file"==rest_contentResponse&&(cvjs_FrameOutputConvertedFileName=a.contentStreamData)),console.log("Converted callback")):(jQuery("#looper").hide(),
jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],"E1"==a.errorCode?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ServerSideFormatForPDFPrint:"Server side conversion error, AutoXchange responded with errorcode: "+a.errorCode))}
var cvjs_initCustomPrintCheckboxMode=!1,settings_text_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_Settings(a){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");settings_text_offset_flag[cvjs_active_floorplan_div_nr]&&(settings_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#settingsModal_"+a).css({position:"fixed"}),jQuery("#settingsModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}));for(var d="",f=0;f<
languageTable.numberOfLanguages;f++)d=f==cvjs_currentLanguage?d+('<option value="'+(f+1)+'" selected>'+languageTable.languages[f].thisLanguage+"</option>"):d+('<option value="'+(f+1)+'">'+languageTable.languages[f].thisLanguage+"</option>");jQuery("#cvjs_settingsSelectLanguage").html(d);d="";var h=languageTable.languages[cvjs_currentLanguage].SettingsModal.TotalParameters;for(k=0;k<h;k++){var n=!1;for(f=0;f<rest_nname_custom[cvjs_active_floorplan_div_nr].length;f++)rest_nname_custom[cvjs_active_floorplan_div_nr][f]==
languageTable.languages[cvjs_currentLanguage].SettingsModal.ParamNames.ParamName[k]&&(n=!0);n||(f=rest_nname_custom[cvjs_active_floorplan_div_nr].length,rest_nname_custom[cvjs_active_floorplan_div_nr][f]=languageTable.languages[cvjs_currentLanguage].SettingsModal.ParamNames.ParamName[k],rest_vvalue_custom[cvjs_active_floorplan_div_nr][f]=languageTable.languages[cvjs_currentLanguage].SettingsModal.ParamValues.ParamValue[k])}h=-1;for(f=0;f<rest_nname[cvjs_active_floorplan_div_nr].length;f++)console.log("rest_nname[cvjs_active_floorplan_div_nr ][i] "+
rest_nname[cvjs_active_floorplan_div_nr][f]),0==rest_nname[cvjs_active_floorplan_div_nr][f].indexOf("layout")&&(h=f,console.log("rest_nname[cvjs_active_floorplan_div_nr ][i] "+rest_nname[cvjs_active_floorplan_div_nr][f]));console.log("layout "+h);if(-1<h)for(k=h+1;k<rest_nname[cvjs_active_floorplan_div_nr].length;k++)"last"==rest_nname[cvjs_active_floorplan_div_nr][k]&&(rest_nname[cvjs_active_floorplan_div_nr][k]="",rest_vvalue[cvjs_active_floorplan_div_nr][k]=""),"model"==rest_nname[cvjs_active_floorplan_div_nr][k]&&
(rest_nname[cvjs_active_floorplan_div_nr][k]="",rest_vvalue[cvjs_active_floorplan_div_nr][k]="");h=-1;for(f=0;f<rest_nname[cvjs_active_floorplan_div_nr].length;f++)console.log("rest_nname[cvjs_active_floorplan_div_nr ][i] "+rest_nname[cvjs_active_floorplan_div_nr][f]),0==rest_nname[cvjs_active_floorplan_div_nr][f].indexOf("model")&&(h=f);for(f=0;f<rest_nname_custom[cvjs_active_floorplan_div_nr].length;f++)for(j=0;j<rest_nname[cvjs_active_floorplan_div_nr].length;j++)rest_nname[cvjs_active_floorplan_div_nr][j]==
rest_nname_custom[cvjs_active_floorplan_div_nr][f]&&(rest_nname[cvjs_active_floorplan_div_nr][j]="",rest_vvalue[cvjs_active_floorplan_div_nr][j]="");console.log("modelpos "+h);if(-1<h)for(k=h+1;k<rest_nname[cvjs_active_floorplan_div_nr].length;k++)0==rest_nname[cvjs_active_floorplan_div_nr][k].indexOf("last")&&(rest_nname[cvjs_active_floorplan_div_nr][k]="",rest_vvalue[cvjs_active_floorplan_div_nr][k]=""),0==rest_nname[cvjs_active_floorplan_div_nr][k].indexOf("model")&&(rest_nname[cvjs_active_floorplan_div_nr][k]=
"",rest_vvalue[cvjs_active_floorplan_div_nr][k]="");for(f=h=0;f<rest_nname[cvjs_active_floorplan_div_nr].length;f++)if(""==rest_nname[cvjs_active_floorplan_div_nr][f]){for(k=f;k<rest_nname[cvjs_active_floorplan_div_nr].length-1;k++)rest_nname[cvjs_active_floorplan_div_nr][k]=rest_nname[cvjs_active_floorplan_div_nr][k+1],rest_vvalue[cvjs_active_floorplan_div_nr][k]=rest_vvalue[cvjs_active_floorplan_div_nr][k+1];h++}rest_nname[cvjs_active_floorplan_div_nr].length-=h;for(k=0;k<rest_nname[cvjs_active_floorplan_div_nr].length;k++)d+=
'<canvas id="dummy" width="10" height="23"></canvas><i><font id="cvjs_param'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Param+'</font></i><canvas id="dummy" width="10" height="10"></canvas><input value="'+rest_nname[cvjs_active_floorplan_div_nr][k]+'" id="cvjs_param_list_name'+(k+1)+'" class="cvjs_inputSettingsModal"><canvas id="dummy" width="30" height="23"></canvas><i><font id="cvjs_param_value'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Value+
'</font></i><canvas id="dummy" width="10" height="10"></canvas><input value="'+rest_vvalue[cvjs_active_floorplan_div_nr][k]+'" id="cvjs_param_list_value'+(k+1)+'" class="cvjs_inputSettingsModal"><br>';d+='<canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_conversion_user">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.ConversionUser+"</font><br>";for(k=0;k<rest_nname_custom[cvjs_active_floorplan_div_nr].length;k++)d+='<canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_param'+
(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Param+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="'+rest_nname_custom[cvjs_active_floorplan_div_nr][k]+'" id="cvjs_param_list_name'+(k+1+rest_nname[cvjs_active_floorplan_div_nr].length)+'" class="cvjs_inputSettingsModal"><canvas id="dummy" width="30" height="23"></canvas><font id="cvjs_param_value'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Value+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="'+
rest_vvalue_custom[cvjs_active_floorplan_div_nr][k]+'" id="cvjs_param_list_value'+(k+1+rest_nname[cvjs_active_floorplan_div_nr].length)+'" class="cvjs_inputSettingsModal"><br>';for(k=rest_nname[cvjs_active_floorplan_div_nr].length+rest_nname_custom[cvjs_active_floorplan_div_nr].length;9>k;k++)d+='<div id="settings_param_lines_input"><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_param'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Param+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="" id="cvjs_param_list_name'+
(k+1)+'" class="cvjs_inputSettingsModal"><canvas id="dummy" width="30" height="23"></canvas><font id="cvjs_param_value'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Value+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="" id="cvjs_param_list_value'+(k+1)+'" class="cvjs_inputSettingsModal"><br>';d+='<div id="cvjs_settingsModalText"><canvas id="dummy" width="0" height="17"></canvas><font id="cvjs_settings_modal_text">'+languageTable.languages[cvjs_currentLanguage].SettingsModal.Text+
'</font></div><button id="cvjs_settings_button_icon" class="cvjs_btn btn" onClick="cvjs_exitSettingsModal(\''+a+'\',2);"><i class="fa fa-check"></i></button>';jQuery("#settings_param_lines_input").html(d);jQuery("#settingsModal_"+a).show()}}
function cvjs_exitSettingsModal(a,d){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#settingsModal_"+a).hide();if(2==d){cvjs_currentLanguage=jQuery("#cvjs_settingsSelectLanguage option:selected").val()-1;cvjs_setCurrentLanguage(a,cvjs_currentLanguage);for(i=0;i<rest_nname_custom[cvjs_active_floorplan_div_nr].length;i++)rest_nname_custom[cvjs_active_floorplan_div_nr][i]=jQuery("#cvjs_param_list_name"+(i+1+rest_nname[cvjs_active_floorplan_div_nr].length)).val(),rest_vvalue_custom[cvjs_active_floorplan_div_nr][i]=
jQuery("#cvjs_param_list_value"+(i+1+rest_nname[cvjs_active_floorplan_div_nr].length)).val();for(k=rest_nname_custom[cvjs_active_floorplan_div_nr].length+rest_nname[cvjs_active_floorplan_div_nr].length;9>k;k++)""!=jQuery("#cvjs_param_list_name"+(k+1)).val()&&(rest_nname_custom[cvjs_active_floorplan_div_nr][k-rest_nname[cvjs_active_floorplan_div_nr].length]=jQuery("#cvjs_param_list_name"+(k+1)).val(),rest_vvalue_custom[cvjs_active_floorplan_div_nr][k-rest_nname[cvjs_active_floorplan_div_nr].length]=
jQuery("#cvjs_param_list_value"+(k+1)).val())}}
function cvjs_setCurrentLanguage(a,d){cvjs_currentLanguage=d;floorplan_Modal=a;a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");jQuery("#cvjs_layerListTextHeader").html(languageTable.languages[cvjs_currentLanguage].LayerListModal.Header);jQuery("#cvjs_layer_search_field").attr("placeholder",languageTable.languages[cvjs_currentLanguage].LayerListModal.Search);jQuery("#cvjs_layer_sort_button").html(languageTable.languages[cvjs_currentLanguage].LayerListModal.Sort);jQuery("#cvjs_layer_settings_button1").attr("value",
languageTable.languages[cvjs_currentLanguage].LayerListModal.AllLayerOn);jQuery("#cvjs_layer_settings_button2").attr("value",languageTable.languages[cvjs_currentLanguage].LayerListModal.AllLayerOff);jQuery("#cvjs_layer_settings_button3").attr("value",languageTable.languages[cvjs_currentLanguage].LayerListModal.SwapLayers);jQuery("#cvjs_layer_selectdrawing").html(languageTable.languages[cvjs_currentLanguage].LayerListModal.SelectDrawings);jQuery("#cvjs_layerlist_checkboxText").html(languageTable.languages[cvjs_currentLanguage].LayerListModal.XrefLayerName);
jQuery('#cvjs_SelectLayerDrawings option[value="1"]').text(languageTable.languages[cvjs_currentLanguage].LayerListModal.BaseAndXref);jQuery("#cvjs_pagechangeListTextHeader").html(languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Header);jQuery("#cvjs_pagechange_search_field").attr("placeholder",languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Search);jQuery("#cvjs_pagechange_sort_button").html(languageTable.languages[cvjs_currentLanguage].PageChangeListModal.Sort);
jQuery("#cvjs_magnifyHeader").html(languageTable.languages[cvjs_currentLanguage].BirdsEyeModal.Header);jQuery("#cvjs_calibrateModalHeader").html(languageTable.languages[cvjs_currentLanguage].CalibrateModal.Header);jQuery("#cvjs_calibrate_modal_unit").html(languageTable.languages[cvjs_currentLanguage].CalibrateModal.Unit);jQuery("#cvjs_calibrate_modal_distance").html(languageTable.languages[cvjs_currentLanguage].CalibrateModal.Distance);jQuery("#cvjs_calibrate_button").html(languageTable.languages[cvjs_currentLanguage].CalibrateModal.OK);
jQuery("#cvjs_calibrate_modal_text").html(languageTable.languages[cvjs_currentLanguage].CalibrateModal.Text);jQuery("#cvjs_measurementHeader").html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Header);jQuery("#cvjs_measurementLength_"+a).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Distance);jQuery("#cvjs_measurement_button").attr("value",languageTable.languages[cvjs_currentLanguage].MeasurementModal.MeasureAgain);jQuery("#cvjs_measurementModalText").html('<canvas id="dummy" width="0" height="20"></canvas>'+
languageTable.languages[cvjs_currentLanguage].MeasurementModal.Text);jQuery("#measureareaLocation").html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area);jQuery("#cvjs_closearea_button").attr("value",languageTable.languages[cvjs_currentLanguage].MeasurementModal.ClosePolygon);cvjs_loadTopIconMenuXML[cvjs_interfaceCounterIndex(a)]?cvjs_LoadTopIconMenuXML(a,cvjs_topIconMenu[cvjs_interfaceCounterIndex(a)]):cvjs_LoadTopIconMenu(a);cvjs_LoadTopNavigationMenu(a);a=languageTable.languages[cvjs_currentLanguage].PrintModal.PaperSizeTotal;
d="";for(k=0;k<a;k++)d=d+'<option value="'+languageTable.languages[cvjs_currentLanguage].PrintModal.PaperSizes.PaperSize[k]+'">'+languageTable.languages[cvjs_currentLanguage].PrintModal.MenuItems.MenuItem[k]+"</option>";jQuery("#cvjs_printHeader").html(languageTable.languages[cvjs_currentLanguage].PrintModal.Header);jQuery("#cvjs_printmodal_paper").html(languageTable.languages[cvjs_currentLanguage].PrintModal.Paper);jQuery("#cvjs_paperSize").html(d);jQuery("#cvjs_print_modal_resolution").html(languageTable.languages[cvjs_currentLanguage].PrintModal.Resolution);
jQuery("#cvjs_print_modal_resolution_text").html(languageTable.languages[cvjs_currentLanguage].PrintModal.ResolutionText);jQuery("#cvjs_print_button").attr("value",languageTable.languages[cvjs_currentLanguage].PrintModal.Print);jQuery("#greyscaleLocation").html('<select id="cvjs_grayScaleType"><option value="1">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Grayscale+'</option><option value="2">'+languageTable.languages[cvjs_currentLanguage].PrintModal.BlackWhite+"</option></select>");
jQuery("#printToPdfLocation").html(languageTable.languages[cvjs_currentLanguage].PrintModal.PrintPDF);jQuery("#printToScaleLocation").html(languageTable.languages[cvjs_currentLanguage].PrintModal.PrintToScale);jQuery("#enterPrintToScaleValueLocation").html(languageTable.languages[cvjs_currentLanguage].PrintModal.EnterScale);jQuery("#printCustomCheckbox").html(languageTable.languages[cvjs_currentLanguage].PrintModal.CustomCheckbox);jQuery("#cvjs_printModalTextboxLocation_text").html(languageTable.languages[cvjs_currentLanguage].PrintModal.TextBox1Header);
jQuery("#cvjs_printModalDualTextboxLocation_text").html(languageTable.languages[cvjs_currentLanguage].PrintModal.TextBox2Header);jQuery("#cvjs_printorientation_text").html(languageTable.languages[cvjs_currentLanguage].PrintModal.Orientation);a='<option value="1">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Landscape+"</option>";a+='<option value="2">'+languageTable.languages[cvjs_currentLanguage].PrintModal.Portrait+"</option>";jQuery("#cvjs_paperOrientation").html(a);jQuery("#cvjs_searchTextHeader").html(languageTable.languages[cvjs_currentLanguage].SearchTextModal.Header);
jQuery("#cvjs_search_text_searchtext").html(languageTable.languages[cvjs_currentLanguage].SearchTextModal.SearchText);jQuery("#cvje_search_text_zoom").html(languageTable.languages[cvjs_currentLanguage].SearchTextModal.Zoom);jQuery("#cvjs_textsearch_button").attr("value",languageTable.languages[cvjs_currentLanguage].SearchTextModal.Search);jQuery("#cvjs_infoMessageHeader").html(languageTable.languages[cvjs_currentLanguage].InfoMessageModal.Header);jQuery("#cvjs_infoMessageHeader2").html(languageTable.languages[cvjs_currentLanguage].InfoMessageModal.Header2);
jQuery("#cvjs_documentChangeModalHeader").html(languageTable.languages[cvjs_currentLanguage].DocumentPageChangeModal.Header);jQuery("#cvjs_documentPageChangeModal_changetext").html(languageTable.languages[cvjs_currentLanguage].DocumentPageChangeModal.Page);jQuery("#cvjs_documentPageChangeModal_button").attr("value",languageTable.languages[cvjs_currentLanguage].DocumentPageChangeModal.OK);jQuery("#cvjs_publishPDFHeader").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Header);jQuery("#cvjs_publish_pdf_selectmode").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.SelectMode);
jQuery("#cvjs_publishpdfmode1").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Mode1);jQuery("#cvjs_publishpdfmode2").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Mode2);jQuery("#cvjs_publishpdfmode3").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Mode3);jQuery("#cvjs_entiredoc_checkbox_text").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.EntireDoc);jQuery("#cvjs_entiredoc_checkbox_text_recep").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Recipient);
jQuery("#cvjs_entiredoc_checkbox_title").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Title);jQuery("#cvjs_entiredoc_checkbox_message").html(languageTable.languages[cvjs_currentLanguage].PublishPDFModal.Message);jQuery("#cvjs_publish_redline_to_pdf_button").attr("value",languageTable.languages[cvjs_currentLanguage].PublishPDFModal.OK);jQuery("#cvjs_backgroundColorHeader").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Header);jQuery("#cvjs_background_color_pickcolor").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.PickColor);
jQuery("#cvjs_background_color_selectcolor").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.SelectColor);jQuery("#cvjs_radio1_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.White);jQuery("#cvjs_radio2_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Black);jQuery("#cvjs_radio3_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Azure);jQuery("#cvjs_radio4_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Pink);
jQuery("#cvjs_radio5_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Snow);jQuery("#cvjs_radio6_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Silver);jQuery("#cvjs_radio7_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Gray);jQuery("#cvjs_radio8_text").html(languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.Brown);jQuery("#cvjs_backgroundcolor_button").attr("value",languageTable.languages[cvjs_currentLanguage].BackgroundColorModal.OK);
jQuery("#cvjs_lineThicknessHeader").html(languageTable.languages[cvjs_currentLanguage].LineThicknessModal.Header);jQuery("#lineThicknessText").html(languageTable.languages[cvjs_currentLanguage].LineThicknessModal.LineThickness);jQuery("#cvjs_layerListTextHeaderSpace").html(languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Header);jQuery("#cvjs_layer_search_space_field").attr("placeholder",languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Search);jQuery("#cvjs_layer_sort_button_space").html(languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Sort);
jQuery("#cvjs_layer_settings_space_button1").attr("value",languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.AllLayerOn);jQuery("#cvjs_layer_settings_space_button2").attr("value",languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.AllLayerOff);jQuery("#cvjs_layer_settings_space_button3").attr("value",languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.SwapLayers);jQuery("#cvjs_CollabHeader").html(languageTable.languages[cvjs_currentLanguage].CollaborationStartModal.Header);
jQuery("#collab_start_text").html(languageTable.languages[cvjs_currentLanguage].CollaborationStartModal.Session);jQuery("#cvjs_collabStart_button").attr("value",languageTable.languages[cvjs_currentLanguage].CollaborationStartModal.OK);jQuery("#cvjs_redlineColorHeader").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Header);jQuery("#cvjs_redline_color_pickcolor").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.PickColor);jQuery("#cvjs_redline_color_selectcolor").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.SelectColor);
jQuery("#cvjs_radio1_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Blue);jQuery("#cvjs_radio2_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Red);jQuery("#cvjs_radio3_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Orange);jQuery("#cvjs_radio4_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Yellow);jQuery("#cvjs_radio5_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Green);
jQuery("#cvjs_radio6_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Purple);jQuery("#cvjs_radio7_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Gray);jQuery("#cvjs_radio8_text_red").html(languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Brown);jQuery("#cvjs_redlinecolor_button").attr("value",languageTable.languages[cvjs_currentLanguage].RedlineColorModal.OK);jQuery("#cvjs_redlineEllipseHeader").html(languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.Header);
jQuery("#cvjs_redline_ellipse_type").html(languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.SelectType);jQuery("#cvjs_redline_ellipse_textellipse").html(languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.Ellipse);jQuery("#cvjs_redline_ellipse_textcloud").html(languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.Cloud);jQuery("#cvjs_ellipse_button").attr("value",languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.OK);jQuery("#cvjs_mergeDXFHeader").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Header);
jQuery("#cvjs_publish_dxf_selectmode").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.SelectMode);jQuery("#cvjs_mergedxfmode1").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Mode1);jQuery("#cvjs_mergedxfmode2").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Mode2);jQuery("#cvjs_mergedxfmode3").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Mode3);jQuery("#cvjs_entiredoc_checkbox_text_dxf").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.EntireDoc);
jQuery("#cvjs_entiredoc_checkbox_text_recep_dxf").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Recipient);jQuery("#cvjs_entiredoc_checkbox_title_dxf").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Title);jQuery("#cvjs_entiredoc_checkbox_message_dxf").html(languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Message);jQuery("#cvjs_publish_redline_to_dxf_button").attr("value",languageTable.languages[cvjs_currentLanguage].MergeDXFModal.OK);jQuery("#cvjs_redlineThicknessHeader").html(languageTable.languages[cvjs_currentLanguage].RedlineThicknessModal.Header);
jQuery("#cvjs_redline_thickness_thickness").html(languageTable.languages[cvjs_currentLanguage].RedlineThicknessModal.Thickness);jQuery("#cvjs_thickness_button").attr("value",languageTable.languages[cvjs_currentLanguage].RedlineThicknessModal.OK);jQuery("#cvjs_redlineTextHeader").html(languageTable.languages[cvjs_currentLanguage].RedlineTextModal.Header);jQuery("#cvjs_redline_text_fontsize").html(languageTable.languages[cvjs_currentLanguage].RedlineTextModal.FontSize);jQuery("#cvjs_redlinetext_button").attr("value",
languageTable.languages[cvjs_currentLanguage].RedlineTextModal.OK);jQuery("#cvjs_redline_text_inserttext").html(languageTable.languages[cvjs_currentLanguage].RedlineTextModal.Text);jQuery("#cvjs_settingsModalHeader").html(languageTable.languages[cvjs_currentLanguage].SettingsModal.Header);jQuery("#cvjs_settings_language").html(languageTable.languages[cvjs_currentLanguage].SettingsModal.OnlineLanguage);jQuery("#cvjs_settings_button").attr("value",languageTable.languages[cvjs_currentLanguage].SettingsModal.OK);
jQuery("#cvjs_ax2020_paramtext").html(languageTable.languages[cvjs_currentLanguage].SettingsModal.ConversionFixed);d="";for(k=0;7>k;k++)d=d+'<option value="'+(k+1)+'">'+languageTable.languages[cvjs_currentLanguage].MeasurementModal.MenuItems.MenuItem[k]+"</option>";jQuery("#cvjs_measurementOption").html(d);jQuery("#cvjs_spaceobjectchangesettingsTextHeader").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.ModalModify);jQuery("#cvjs_spaceobjectchangesettingsTextLayer").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Layer);
jQuery("#cvjs_spaceobjectchangesettingsTextSpaceId").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.SpaceId);jQuery("#cvjs_spaceobjectchangesettingsTextType").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Type);jQuery("#cvjs_spaceobjectchangesettingsUnlink").attr("value",languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Unlink);jQuery("#cvjs_spaceobjectchangesettingsUpdate").attr("value",languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Update);
jQuery("#cvjs_spaceobjectchangesettingsExplanation").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Explanation);jQuery("#cvjs_spaceobjectsettingsTextLayer").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Layer);jQuery("#cvjs_spaceobjectsettingsTextSpaceId").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.SpaceId);jQuery("#cvjs_spaceobjectsettingsTextCreate").attr("value",languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.Create)}
function cvjs_copyMeasurementField(a){document.getElementById("cvjs_measurementBox_"+a).select();document.execCommand("copy")}var spacemodal_init_settings_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_spaceObjectsInitSettingsModal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),spacemodal_init_settings_offset_flag[cvjs_active_floorplan_div_nr]&&(spacemodal_init_settings_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#spaceobjectsInitSettingsModal_"+a).css({position:"fixed"}),jQuery("#spaceobjectsInitSettingsModal_"+
a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#spaceobjectsInitSettingsModal_"+a).show())}function cvjs_exitSpaceObjectsInitSettingsModal(){jQuery("#spaceobjectsInitSettingsModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1}
function cvjs_continueCreateSpaceObjects(){for(var a=jQuery("#cvjs_spaceobjectLayerFromModal").val(),d=!1,f=0;f<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;f++)a==layerTable[cvjs_active_floorplan_div_nr].layers[f].layerName&&(d=!0);d||(d="layer_"+a,layerTable[cvjs_active_floorplan_div_nr].layers[layerTable[cvjs_active_floorplan_div_nr].numberOfLayers]={layer:d,layerClass:d,layerName:a,status:"ON",layerBaseName:"",xRefFile:""},layerTable[cvjs_active_floorplan_div_nr].numberOfLayers+=1);
jQuery("#spaceobjectsInitSettingsModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;1==cvjs_addSpaceObjectType&&cvjs_addPolygonSpaceObjectCore(floorplan_div_Array[cvjs_active_floorplan_div_nr]);2==cvjs_addSpaceObjectType&&cvjs_addRectangleSpaceObjectCore(floorplan_div_Array[cvjs_active_floorplan_div_nr]);3==cvjs_addSpaceObjectType&&cvjs_addCircleSpaceObjectCore(floorplan_div_Array[cvjs_active_floorplan_div_nr])}
var spacemodal_update_settings_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_spaceObjectsChangeSettingsModal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg"),spacemodal_update_settings_offset_flag[cvjs_active_floorplan_div_nr]&&(spacemodal_update_settings_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#spaceobjectsChangeSettingsModal_"+a).css({position:"fixed"}),jQuery("#spaceobjectsChangeSettingsModal_"+
a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#spaceobjectsChangeSettingsModal_"+a).show(),a=jQuery("#cvjs_spaceobjectchangeLayerFromModal").val(),"unassigned"!=a&&void 0!=a||jQuery("#cvjs_spaceobjectchangeLayerFromModal").val("cvjs_SpaceLayer"))}
function cvjs_exitSpaceObjectsChangeSettingsModal(){jQuery("#spaceobjectsChangeSettingsModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;cvjs_setCreationMode(!cvjs_supressPopUpModal,!0);hideOnlyPop();cvjs_clearDrawing()}
function cvjs_updateChangeSpaceObjects(){jQuery("#spaceobjectsUpdateSettingsModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;var a=selected_current_jsonStrucure.id;cvjs_changeSpaceObjectType(a,jQuery("#cvjs_spaceobjectchangeTypeFromModal").val());cvjs_changeSpaceObjectLayer(a,jQuery("#cvjs_spaceobjectchangeLayerFromModal").val());cvjs_changeSpaceObjectLinkStatus(a,!0);cvjs_changeSpaceObjectName(a,jQuery("#cvjs_spaceobjectchangeIdFromModal").val());
cvjs_changeSpaceObjectID(a,jQuery("#cvjs_spaceobjectchangeIdFromModal").val());a=jQuery("#cvjs_spaceobjectchangeLayerFromModal").val();for(var d=!1,f=0;f<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;f++)a==layerTable[cvjs_active_floorplan_div_nr].layers[f].layerName&&(d=!0);d||(d="layer_"+a,layerTable[cvjs_active_floorplan_div_nr].layers[layerTable[cvjs_active_floorplan_div_nr].numberOfLayers]={layer:d,layerClass:d,layerName:a,status:"ON",layerBaseName:"",xRefFile:""},layerTable[cvjs_active_floorplan_div_nr].numberOfLayers+=
1);cvjs_draw_space_object_names_on_spaces();hideOnlyPop();cvjs_clearDrawing()}function cvjs_unlinkChangeSpaceObjects(){jQuery("#spaceobjectsUpdateSettingsModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;cvjs_changeSpaceObjectLinkStatus(selected_current_jsonStrucure.id,!1);cvjs_draw_space_object_names_on_spaces();hideOnlyPop();cvjs_clearDrawing()};var cvjs_maxfiles=200,cvjs_globalScaleNote=1,custom_modal_dir_listing=[{filename:"My file - revision1.dwg",url:"http://server/path/myfile-revison1.dwg",path:"/serverx/path/myfile-revison1.dwg"},{filename:"My file - revision2.dwg",url:"http://server/path/myfile-revison2.dwg",path:"/serverx/path/myfile-revison2.dwg"},{filename:"My file - revision3.dwg",url:"http://server/path/myfile-revison3.dwg",path:"/serverx/path/myfile-revison3.dwg"},{filename:"My file - revision4.dwg",url:"http://server/path/myfile-revison4.dwg",
path:"/serverx/path/myfile-revison4.dwg"}],cvjs_saveRedlinesAsDXF=!1,cvjs_saveRedlinesAsXML=!1,layer_vqstickynotes="",layer_vqredlines="",bMouseDown=!1,bTempMouseDown=!1,bPan=!1,firstx,firsty,lastDX,lastDY,TouchZoomFactor=1.1,floorplan_height,floorplan_width,tip_width=30,vqRoomMouseSelect=!1,thumbsMode=!1,layer_vqdrag;totalDragStart=0;string_X="";var dx=0,dy=0;pdy=pdx=0;var openHyperlinkInNewWindow=!1,hyperlinkNewWindowWidth=200,hyperlinkNewWindowHeight=200,cvjs_customToolTip=!1,locked=!1,rid;
function cvjs_setCustomToolTip(a){cvjs_customToolTip=a}var cvjs_customToolTipArrayId=[],cvjs_customToolTipArrayContent=[];
function cvjs_showToolTipLocation(a,d,f){tip[cvjs_active_floorplan_div_nr].html(a);tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",d+document.documentElement.scrollLeft+10).css("top",f+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",d-a.left+document.documentElement.scrollLeft+
10).css("top",f-a.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].show()}function cvjs_hideToolTip(){tip[cvjs_active_floorplan_div_nr].hide()}function cvjs_displayCustomToolTip(a){for(ids in cvjs_customToolTipArrayId)if(cvjs_customToolTipArrayId[ids]==a)return cvjs_customToolTipArrayContent[ids];return a}
function cvjs_setCustomToolTipValue(a,d){try{for(var f="",h=0;h<d.length;h++)f=0==h?d[0]:f+"<br>"+d[h];d=!0;for(h=0;h<cvjs_customToolTipArrayId.length;h++)a==cvjs_customToolTipArrayId[h]&&(cvjs_customToolTipArrayContent[h]=f,d=!1);d&&(cvjs_customToolTipArrayId.push(a),cvjs_customToolTipArrayContent.push(f))}catch(n){console.log(n)}}
function cvjs_searchReplaceText(a,d){jQuery("text").each(function(f){if(-1<jQuery(this).text().toLowerCase().indexOf(a.toLowerCase())){f=jQuery(this).attr("x");var h=jQuery(this).attr("y"),n=jQuery(this).attr("transform");jQuery(this).attr("font-size");jQuery(this).attr("stroke");jQuery(this).attr("fill");jQuery(this).attr("fill-opacity");f='<text x="'+f+'" y="'+h+'" transform="'+n+'" >'+d+"</text>";jQuery(this).replaceWith(f)}})}
function cvjs_openHyperlinkInNewWindow(a,d,f){openHyperlinkInNewWindow=a;hyperlinkNewWindowWidth=d;hyperlinkNewWindowHeight=f}function consolelog(a){console.log(a)}function cvjs_getSpaceObjectIdList(){var a=[];for(spc in vqRooms[cvjs_active_floorplan_div_nr])a.push(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"));return a}
function cvjs_getSpaceObjectNamesList(){var a=[];for(spc in vqRooms[cvjs_active_floorplan_div_nr])a.push(vqRooms[cvjs_active_floorplan_div_nr][spc].data("name"));return a}function cvjs_getSpaceObjectTypefromId(a){var d=-1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("type");break}return d}
function cvjs_getSpaceObjectNodefromId(a){var d=-1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");break}return d}function cvjs_getSpaceObjectNamefromId(a){var d=-1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("name");break}return d}
function cvjs_getSpaceObjectIdfromNode(a){var d=-1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("id");break}return d}function cvjs_getSpaceObjectNamefromNode(a){var d=-1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("name");break}return d}
function cvjs_getAttributeStatus(a){var d=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(d=spc);return vqRooms[cvjs_active_floorplan_div_nr][d].data("attributeStatus")}
function cvjs_setAttributeStatus(a,d){var f=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(f=spc);vqRooms[cvjs_active_floorplan_div_nr][f].removeData("attributeStatus");vqRooms[cvjs_active_floorplan_div_nr][f].data("attributeStatus",d)}
function cvjs_getAttributeFromSpaceObjectNode(a,d){var f=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(f=spc);a=vqRooms[cvjs_active_floorplan_div_nr][f].data("attributes");for(var h in a)if(f=a[h],f.name==d)return f.value;return-1}
function cvjs_setAttributeInSpaceObjectNode(a,d,f){var h=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(h=spc);a=vqRooms[cvjs_active_floorplan_div_nr][h].data("attributes");var n=!1,p;for(p in a)a[p].name==d&&(a[p].value=f,n=!0);n||(a[a.length]={name:d,value:f});vqRooms[cvjs_active_floorplan_div_nr][h].removeData("attributes");vqRooms[cvjs_active_floorplan_div_nr][h].data("attributes",a)}
function cvjs_newLayer(a){try{return a=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()}catch(d){}}function cvjs_newLayerDiv(a,d){try{return a=cvjs_rPaper[cvjs_rPaperIndex(d)].g()}catch(f){}}function cvjs_clearLayer(a){try{a.remove(),a=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()}catch(d){a=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()}cvjs_customLayerContentAdded=!1;return a}
function cvjs_clearLayerDiv(a,d){try{a.remove(),a=cvjs_rPaper[cvjs_rPaperIndex(d+"_svg")].g()}catch(f){a=cvjs_rPaper[cvjs_rPaperIndex(d)].g()}return a}function cvjs_clearTextLayer(a){try{a.remove();a=cvjs_rPaper[cvjs_active_floorplan_div_nr].g();for(var d in vqTBorder)vqTBorder[d].attr(hide)}catch(f){a=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()}return a}function cvjs_sortLayersInOrder(a,d){try{a.prepend(d)}catch(f){return!1}return!0}
function cvjs_sortLayers_prepend(a,d){try{a.prepend(d)}catch(f){return!1}return!0}function cvjs_sortLayers_insertAfter(a,d){try{a.insertAfter(d)}catch(f){return!1}return!0}function cvjs_AllGroupsOn(){for(var a in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][a].attr(show)}
function cvjs_AllGroupsOff(){for(var a in vqRooms[cvjs_active_floorplan_div_nr])"Undefined"!=vqRooms[cvjs_active_floorplan_div_nr][a].data("group")&&""!=vqRooms[cvjs_active_floorplan_div_nr][a].data("group")&&vqRooms[cvjs_active_floorplan_div_nr][a].attr(hide)}function cvjs_GroupOn(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("group")==a&&vqRooms[cvjs_active_floorplan_div_nr][d].attr(show)}
function cvjs_GroupOn_OthersOff(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("group")==a?vqRooms[cvjs_active_floorplan_div_nr][d].attr(show):vqRooms[cvjs_active_floorplan_div_nr][d].attr(hide)}function cvjs_GroupOn_AllOff(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("group")==a?vqRooms[cvjs_active_floorplan_div_nr][d].attr(show):vqRooms[cvjs_active_floorplan_div_nr][d].attr(hide)}
function cvjs_GroupOff(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("group")==a&&vqRooms[cvjs_active_floorplan_div_nr][d].attr(hide)}function cvjs_ApplyPatternOnSpaceObjectId(a,d,f,h,n){d=cvjs_getSpaceObjectNodefromId(d);cvjs__ApplyPatternOnObject_layerSort(a,d,f,h,n,layer_vqrooms[cvjs_active_floorplan_div_nr],1)}
function cvjs_ApplyPatternOnSpaceObjectNode(a,d,f,h,n){cvjs__ApplyPatternOnObject_layerSort(a,d,f,h,n,layer_vqrooms[cvjs_active_floorplan_div_nr],1)}function cvjs_ApplyPatternOnUrl(a,d,f,h,n){cvjs__ApplyPatternOnObject_layerSort(a,d,f,h,n,layer_vqrooms[cvjs_active_floorplan_div_nr],2)}
function cvjs__ApplyPatternOnObject_layerSort(a,d,f,h,n,p,q){var t=!1;if(1==q)for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==d){var u=vqRooms[cvjs_active_floorplan_div_nr][spc];t=!0}if(2==q)for(spc in vqURLs)vqURLs[spc].data("node")==d&&(u=vqURLs[spc],t=!0);if(t){q=u.toString();d=!0;if(-1<q.indexOf("path")){d=!0;var v=q.indexOf(" d=");v=q.substring(v+4);u=v.indexOf('" ');v=v.substring(0,u)}if(-1<q.indexOf("circle")){d=!1;var w=q.indexOf(" cx=");
w=q.substring(w+5);var x=w.indexOf('"');w=w.substring(0,x);x=q.indexOf(" cy=");x=q.substring(x+5);var A=x.indexOf('"');x=x.substring(0,A);A=q.indexOf(" r=");q=q.substring(A+4);A=q.indexOf('"');A=q.substring(0,A)}if("pattern_45degree_standard"==f||"pattern_45degree_fine"==f||"pattern_45degree_wide"==f||"pattern_90degree_standard"==f||"pattern_90degree_fine"==f||"pattern_90degree_wide"==f||"pattern_135degree_standard"==f||"pattern_135degree_fine"==f||"pattern_135degree_wide"==f||"pattern_0degree_standard"==
f||"pattern_0degree_fine"==f||"pattern_0degree_wide"==f||"pattern_45degree_crosshatch_standard"==f||"pattern_45degree_crosshatch_fine"==f){if("pattern_45degree_standard"==f){cvjs_setUpPattern_45degree_standard(h,"1.0");var y=pattern_45degree_standard}"pattern_45degree_fine"==f&&(cvjs_setUpPattern_45degree_fine(h,"1.0"),y=pattern_45degree_standard);"pattern_45degree_wide"==f&&(cvjs_setUpPattern_45degree_wide(h,"1.0"),y=pattern_45degree_standard);"pattern_90degree_standard"==f&&(cvjs_setUpPattern_90degree_standard(h,
"1.0"),y=pattern_90degree_standard);"pattern_90degree_fine"==f&&(cvjs_setUpPattern_90degree_fine(h,"1.0"),y=pattern_90degree_standard);"pattern_90degree_wide"==f&&(cvjs_setUpPattern_90degree_wide(h,"1.0"),y=pattern_90degree_standard);"pattern_135degree_standard"==f&&(cvjs_setUpPattern_135degree_standard(h,"1.0"),y=pattern_135degree_standard);"pattern_135degree_fine"==f&&(cvjs_setUpPattern_135degree_fine(h,"1.0"),y=pattern_135degree_standard);"pattern_135degree_wide"==f&&(cvjs_setUpPattern_135degree_wide(h,
"1.0"),y=pattern_135degree_standard);"pattern_0degree_standard"==f&&(cvjs_setUpPattern_0degree_standard(h,"1.0"),y=pattern_0degree_standard);"pattern_0degree_fine"==f&&(cvjs_setUpPattern_0degree_fine(h,"1.0"),y=pattern_0degree_standard);"pattern_0degree_wide"==f&&(cvjs_setUpPattern_0degree_wide(h,"1.0"),y=pattern_0degree_standard);"pattern_45degree_crosshatch_standard"==f&&(cvjs_setUpPattern_45degree_crosshatch_standard(h,"1.0"),y=pattern_45degree_crosshatch);"pattern_45degree_crosshatch_fine"==f&&
(cvjs_setUpPattern_45degree_crosshatch_fine(h,"1.0"),y=pattern_45degree_crosshatch);d?(f=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(v),f.attr({fill:y,"fill-opacity":n,stroke:h,"stroke-opacity":n}),a.add(f)):(f=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(w,x,A,A),cvjs_debug&&console.log(f),a.add(f.attr({fill:y,"fill-opacity":n,stroke:h,"stroke-opacity":n})));try{p.prepend(a)}catch(B){}return 1}return-1}}
var pattern_45degree_standard=null,pattern_90degree_standard=null,pattern_135degree_standard=null,pattern_0degree_standard=null,pattern_45degree_crosshatch=null;function cvjs_setUpPattern_45degree_standard(a,d){pattern_45degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:a,strokeWidth:2,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_45degree_wide(a,d){pattern_45degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:a,strokeWidth:5,"stroke-opacity":d}).pattern(0,0,10,10)}function cvjs_setUpPattern_45degree_fine(a,d){pattern_45degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:a,strokeWidth:.5,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_90degree_fine(a,d){pattern_90degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M10-5 10,15M15,0,15,15M0-5 0,15").attr({fill:"none",stroke:a,strokeWidth:.5,"stroke-opacity":d}).pattern(0,0,10,10)}function cvjs_setUpPattern_90degree_standard(a,d){pattern_90degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M10-5 10,15M15,0,15,15M0-5 0,15").attr({fill:"none",stroke:a,strokeWidth:2,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_90degree_wide(a,d){pattern_90degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M10-5 10,15M15,0,15,15M0-5 0,15").attr({fill:"none",stroke:a,strokeWidth:5,"stroke-opacity":d}).pattern(0,0,10,10)}function cvjs_setUpPattern_135degree_standard(a,d){pattern_135degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0-5 20,15M10,-5,30,15M-10-5 10,15").attr({fill:"none",stroke:a,strokeWidth:2,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_135degree_wide(a,d){pattern_135degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0-5 20,15M10,-5,30,15M-10-5 10,15").attr({fill:"none",stroke:a,strokeWidth:5,"stroke-opacity":d}).pattern(0,0,10,10)}function cvjs_setUpPattern_135degree_fine(a,d){pattern_135degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0-5 20,15M10,-5,30,15M-10-5 10,15").attr({fill:"none",stroke:a,strokeWidth:.5,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_0degree_standard(a,d){pattern_0degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M-5,0,15,0M-5,10,15,10M-5,20,15,20").attr({fill:"none",stroke:a,strokeWidth:2,"stroke-opacity":d}).pattern(0,0,10,10)}function cvjs_setUpPattern_0degree_wide(a,d){pattern_0degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M-5,0,15,0M-5,10,15,10M-5,20,15,20").attr({fill:"none",stroke:a,strokeWidth:5,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_0degree_fine(a,d){pattern_0degree_standard=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M-5,0,15,0M-5,10,15,10M-5,20,15,20").attr({fill:"none",stroke:a,strokeWidth:.5,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_45degree_crosshatch_standard(a,d){pattern_45degree_crosshatch=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0-5 20,15M10,-5,30,15M-10-5 10,15M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:a,strokeWidth:2,"stroke-opacity":d}).pattern(0,0,10,10)}
function cvjs_setUpPattern_45degree_crosshatch_fine(a,d){pattern_45degree_crosshatch=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0-5 20,15M10,-5,30,15M-10-5 10,15M10-5-10,15M15,0,0,15M0-5-20,15").attr({fill:"none",stroke:a,strokeWidth:.5,"stroke-opacity":d}).pattern(0,0,10,10)}var linear_gradient;function cvjs_ApplyRelativeLinearGradientStandard2Colors(a,d,f,h){cvjs_ApplyRelativeLinearGradient(a,0,0,1,1,d,"",f,h)}
function cvjs_ApplyRelativeLinearGradientStandard3Colors(a,d,f,h,n){cvjs_ApplyRelativeLinearGradient(a,0,0,1,1,d,f,h,n)}function cvjs_ApplyRelativeLinearGradient(a,d,f,h,n,p,q,t,u){linear_gradient=""==q?cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("l("+d+", "+f+", "+h+" ,"+n+" )"+p+"-"+t):cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("l("+d+", "+f+", "+h+" ,"+n+" )"+p+"-"+q+"-"+t);a.attr({fill:linear_gradient,"fill-opacity":u,"stroke-opacity":u})}
function cvjs_ApplyRelativeLinearGradientStandard2ColorsOnSpaceObjectId(a,d,f,h,n){d=cvjs_getSpaceObjectNodefromId(d);cvjs_ApplyRelativeLinearGradientOnObject_layerSort(a,d,0,0,1,1,f,"",h,n,layer_vqrooms[cvjs_active_floorplan_div_nr])}function cvjs_ApplyRelativeLinearGradientStandard2ColorsOnSpaceObjectNode(a,d,f,h,n){cvjs_ApplyRelativeLinearGradientOnObject_layerSort(a,d,0,0,1,1,f,"",h,n,layer_vqrooms[cvjs_active_floorplan_div_nr])}
function cvjs_ApplyRelativeLinearGradientStandard3ColorsOnSpaceObjectId(a,d,f,h,n,p){d=cvjs_getSpaceObjectNodefromId(d);cvjs_ApplyRelativeLinearGradientOnObject_layerSort(a,d,0,0,1,1,f,h,n,p,layer_vqrooms[cvjs_active_floorplan_div_nr])}function cvjs_ApplyRelativeLinearGradientStandard3ColorsOnSpaceObjectNode(a,d,f,h,n,p){cvjs_ApplyRelativeLinearGradientOnObject_layerSort(a,d,0,0,1,1,f,h,n,p,layer_vqrooms[cvjs_active_floorplan_div_nr])}
function cvjs_ApplyRelativeLinearGradientOnObject_layerSort(a,d,f,h,n,p,q,t,u,v,w){var x=!1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==d){var A=vqRooms[cvjs_active_floorplan_div_nr][spc];x=!0}if(x){A=A.toString();d=!0;if(-1<A.indexOf("path")){d=!0;var y=A.indexOf(" d=");y=A.substring(y+4);x=y.indexOf('" ');y=y.substring(0,x)}if(-1<A.indexOf("circle")){d=!1;var B=A.indexOf(" cx=");B=A.substring(B+5);var z=B.indexOf('"');B=B.substring(0,
z);z=A.indexOf(" cy=");z=A.substring(z+5);var C=z.indexOf('"');z=z.substring(0,C);C=A.indexOf(" r=");A=A.substring(C+4);C=A.indexOf('"');C=A.substring(0,C)}linear_gradient=""==t?cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("l("+f+", "+h+", "+n+" ,"+p+" )"+q+"-"+u):cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("l("+f+", "+h+", "+n+" ,"+p+" )"+q+"-"+t+"-"+u);d?(f=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(y),f.attr({fill:linear_gradient,"fill-opacity":v,"stroke-opacity":v}),a.add(f)):
(f=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(B,z,C,C),f.attr({fill:linear_gradient,"fill-opacity":v,"stroke-opacity":v}),a.add(f));try{return w.prepend(a),1}catch(E){}return-1}}var radial_gradient;function cvjs_ApplyRelativeRadialGradientStandard2Colors(a,d,f,h){cvjs_ApplyRelativeRadialGradient(a,.5,.5,.5,d,"",f,h)}function cvjs_ApplyRelativeRadialGradientStandard3Colors(a,d,f,h,n){cvjs_ApplyRelativeRadialGradient(a,.5,.5,.5,d,f,h,n)}
function cvjs_ApplyRelativeRadialGradient(a,d,f,h,n,p,q,t){radial_gradient=""==p?cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("r("+d+", "+f+", "+h+" )"+n+"-"+q):cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("r("+d+", "+f+", "+h+" )"+n+"-"+p+"-"+q);a.attr({fill:radial_gradient,"fill-opacity":t,"stroke-opacity":t});cvjs_debug&&console.log("after "+a)}
function cvjs_ApplyRelativeRadialGradientStandard2ColorsOnSpaceObjectId(a,d,f,h,n){d=cvjs_getSpaceObjectNodefromId(d);cvjs_ApplyRelativeRadialGradientOnObject_layerSort(a,d,.5,.5,.5,f,"",h,n,layer_vqrooms[cvjs_active_floorplan_div_nr])}function cvjs_ApplyRelativeRadialGradientStandard2ColorsOnSpaceObjectNode(a,d,f,h,n){cvjs_ApplyRelativeRadialGradientOnObject_layerSort(a,d,.5,.5,.5,f,"",h,n,layer_vqrooms[cvjs_active_floorplan_div_nr])}
function cvjs_ApplyRelativeRadialGradientStandard3ColorsOnSpaceObjectId(a,d,f,h,n,p){d=cvjs_getSpaceObjectNodefromId(d);cvjs_ApplyRelativeRadialGradientOnObject_layerSort(a,d,.5,.5,.5,f,h,n,p,layer_vqrooms[cvjs_active_floorplan_div_nr])}function cvjs_ApplyRelativeRadialGradientStandard3ColorsOnSpaceObjectNode(a,d,f,h,n,p){cvjs_ApplyRelativeRadialGradientOnObject_layerSort(a,d,.5,.5,.5,f,h,n,p,layer_vqrooms[cvjs_active_floorplan_div_nr])}
function cvjs_ApplyRelativeRadialGradientOnObject_layerSort(a,d,f,h,n,p,q,t,u,v){var w;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==d&&(w=vqRooms[cvjs_active_floorplan_div_nr][spc]);w=w.toString();d=!0;if(-1<w.indexOf("path")){d=!0;var x=w.indexOf(" d=");x=w.substring(x+4);var A=x.indexOf('" ');x=x.substring(0,A)}if(-1<w.indexOf("circle")){d=!1;var y=w.indexOf(" cx=");y=w.substring(y+5);var B=y.indexOf('"');y=y.substring(0,B);B=w.indexOf(" cy=");
B=w.substring(B+5);var z=B.indexOf('"');B=B.substring(0,z);z=w.indexOf(" r=");w=w.substring(z+4);z=w.indexOf('"');z=w.substring(0,z)}radial_gradient=""==q?cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("r("+f+", "+h+", "+n+" )"+p+"-"+t):cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("r("+f+", "+h+", "+n+" )"+p+"-"+q+"-"+t);d?(f=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(x),f.attr({fill:radial_gradient,"fill-opacity":u,"stroke-opacity":u}),a.add(f)):(f=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(y,
B,z,z),f.attr({fill:radial_gradient,"fill-opacity":u,"stroke-opacity":u}),a.add(f));try{return v.prepend(a),1}catch(C){}return-1}
var text_style_arial_11pt_bold={stroke:"#00539B",fill:"#00539B","font-family":"Arial","font-size":"11pt","font-weight":"bold",margin:0,cursor:"pointer","text-align":"left","z-index":1980},text_style_arial_9pt_normal={stroke:"#00539B",fill:"#00539B","font-family":"Arial","font-size":"9pt","font-weight":"normal",margin:0,"margin-top":"-10px",cursor:"pointer","text-align":"left","vertical-align":"top",width:"128px","z-index":1980},text_style_dialog={"text-font":"Dialog","font-family":"Dialog","font-size":"7pt",
"text-anchor":"start","font-weight":"normal","font-style":"italic",stroke:"#88539B",fill:"#88539B"};function setTextStyle(){return{}}
function cvjs_AddTextOnObject(a,d,f,h,n,p,q,t,u,v,w,x,A,y,B){var z;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==d&&(z=vqRooms[cvjs_active_floorplan_div_nr][spc]);var C=z.getBBox();d=C.y;z=C.height;f=C.x+C.width*f;p*=z;h=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(f,d+1.05*p,h).attr(n);h.attr({"font-size":p});h.attr({"stroke-width":p/15});h.attr({stroke:q});h.attr({fill:q});q=z*v;t=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(f,d+1.05*
q+1.05*p,t).attr(u);t.attr({"font-size":q});t.attr({"stroke-width":q/15});t.attr({stroke:w});t.attr({fill:w});w=z*y;x=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(f,d+1.05*w+1.05*q+1.05*p,x).attr(A);x.attr({"font-size":w});x.attr({"stroke-width":w/15});x.attr({stroke:B});x.attr({fill:B});a.add(h);a.add(t);a.add(x)}
function cvjs_AddTextAndTBorderOnSpaceObject3Lines(a,d,f,h,n,p,q,t,u,v,w,x,A,y,B,z,C,E,F){var D=0,J=0,H=!1;for(D in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][D].data("node")==d){var I=vqRooms[cvjs_active_floorplan_div_nr][D];J=D;H=!0}if(H){D=I.toString();d=!0;if(-1<D.indexOf("path")){d=!0;var L=D.indexOf(" d=");L=D.substring(L+4);H=L.indexOf('" ');L=L.substring(0,H)}if(-1<D.indexOf("circle")){d=!1;H=D.indexOf(" cx=");H=D.substring(H+5);var M=H.indexOf('"');H.substring(0,
M);H=D.indexOf(" cy=");H=D.substring(H+5);M=H.indexOf('"');H.substring(0,M);H=D.indexOf(" r=");D=D.substring(H+4);H=D.indexOf('"');D.substring(0,H)}H=I.getBBox();I=H.y;D=H.height;h=H.x+H.width*h;t*=D;p=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(h,I+1.05*t,p).attr(q);p.attr({"font-size":t});p.attr({"stroke-width":t/15,"stroke-opacity":"1"});p.attr({stroke:u});p.attr({fill:u});vqText.push(p.data("node",n));u=vqText.length;0<u&&u--;vqText[u].data("name",n);vqText[u].data("id",n);vqText[u].data("layer",
a);A*=D;w=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(h,I+1.05*A+1.05*t,w).attr(x);w.attr({"font-size":A});w.attr({"stroke-width":A/15,"stroke-opacity":"1"});w.attr({stroke:y});w.attr({fill:y});vqText.push(w.data("node",v));u=vqText.length;0<u&&u--;vqText[u].data("name",v);vqText[u].data("id",v);vqText[u].data("layer",a);y=D*E;z=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(h,I+1.05*y+1.05*A+1.05*t,z).attr(C);z.attr({"font-size":y});z.attr({"stroke-width":y/15,"stroke-opacity":"1"});z.attr({stroke:F});
z.attr({fill:F});vqText.push(z.data("node",B));u=vqText.length;0<u&&u--;vqText[u].data("name",B);vqText[u].data("id",B);vqText[u].data("layer",a);a=[];a[0]=n;a[1]=v;a[2]=B;if(d)n=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(L),p,w,z).data("node",f),vqTBorder.push(n),n=vqTBorder.length,0<n&&n--,vqTBorder[n].data("name",f),vqTBorder[n].data("id",f),vqTBorder[n].data("layer",f),vqTBorder[n].attr(show).attr({fill:"none","stoke-width":"0.01",stroke:"#000000",
"stroke-opacity":"0.01"});else return-1;vqRooms[cvjs_active_floorplan_div_nr][J].data("tborderId",f);vqRooms[cvjs_active_floorplan_div_nr][J].data("textId",a)}}function cvjs_AddTextAndTBorderOnSpaceObjectId_GlobalHeight(a,d,f,h,n,p,q,t){d=cvjs_getSpaceObjectNodefromId(d);var u=vqTBorder.length;u++;u="TBORDER_"+u;var v=[];for(ii in h)v[ii]="TEXT_"+u+"_"+(ii+1);cvjs_AddTextAndTBorderOnSpaceObject(a,d,u,f,v,h,n,p,q,t,!0)}
function cvjs_AddTextAndTBorderOnSpaceObjectId(a,d,f,h,n,p,q,t,u){d=cvjs_getSpaceObjectNodefromId(d);void 0==u&&(u=!1);var v=vqTBorder.length;v++;v="TBORDER_"+v;var w=[];for(ii in h)w[ii]="TEXT_"+v+"_"+(ii+1);cvjs_AddTextAndTBorderOnSpaceObject(a,d,v,f,w,h,n,p,q,t,u,!1)}
function cvjs_AddTextAndTBorderOnSpaceObjectNode(a,d,f,h,n,p,q,t,u){var v=vqTBorder.length;v++;v="TBORDER_"+v;void 0==u&&(u=!1);var w=[];for(ii in h)w[ii]="TEXT_"+v+"_"+(ii+1);cvjs_AddTextAndTBorderOnSpaceObject(a,d,v,f,w,h,n,p,q,t,u,!1)}
function cvjs_AddTextAndTBorderOnSpaceObject(a,d,f,h,n,p,q,t,u,v,w,x){var A=0,y=0,B=!1;for(A in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][A].data("node")==d){var z=vqRooms[cvjs_active_floorplan_div_nr][A];y=A;B=!0}if(B){A=z.toString();d=!0;if(-1<A.indexOf("path")){d=!0;var C=A.indexOf(" d=");C=A.substring(C+4);var E=C.indexOf('" ');C=E=C.substring(0,E)}if(-1<A.indexOf("circle")){d=!1;B=A.indexOf(" cx=");B=A.substring(B+5);var F=B.indexOf('"');B.substring(0,F);
B=A.indexOf(" cy=");B=A.substring(B+5);F=B.indexOf('"');B.substring(0,F);B=A.indexOf(" r=");A=A.substring(B+4);B=A.indexOf('"');A.substring(0,B)}F=z.getBBox();z=F.x;B=F.y;A=F.width;w&&(z=F.x+F.width/2,B=F.y+F.height/2);w=x?actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]:F.height;x=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(E)).data("node",f);E=B;for(B=0;B<n.length;B++){if(v){var D=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(C);
D.attr({fill:"#FFFFFF","fill-opacity":"1"})}F=z+A*h;var J=w*t[B];E+=1.05*J;F=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(F,E,p[B]).attr(q[B]);F.attr({"font-size":J});F.attr({fill:u[B]});v&&F.attr({mask:D});F.attr({"pointer-events":"none"});vqText.push(F.data("node",n[B]));J=vqText.length;0<J&&J--;vqText[J].data("name",n[B]);vqText[J].data("id",n[B]);vqText[J].data("layer",a);x.add(F)}if(d)vqTBorder.push(x),a=vqTBorder.length,0<a&&a--,vqTBorder[a].data("name",f),vqTBorder[a].data("id",f),vqTBorder[a].data("layer",
f),vqTBorder[a].attr(show).attr({fill:"none","stoke-width":"0.01",stroke:"#000000","stroke-opacity":"0.01"});else return-1;vqRooms[cvjs_active_floorplan_div_nr][y].data("tborderId",f);vqRooms[cvjs_active_floorplan_div_nr][y].data("textId",n)}}
function cvjs_AddTextOnObjectScaleText(a,d,f,h,n,p,q,t,u,v,w){var x=a.getBBox(),A=x.x;a=x.y;var y=x.width;x=x.height;cvjs_debug&&console.log(A+" "+a+"  "+y+" "+x);d=A+y*d;n*=x;f=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(d,a+1.05*n,f).attr(h);f.attr({"font-size":n});f.attr({"stroke-width":n/15});t*=x;p=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(d,a+1.05*t+1.05*n,p).attr(q);p.attr({"font-size":t});p.attr({"stroke-width":t/15});w*=x;u=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(d,a+1.05*
w+1.05*t+1.05*n,u).attr(v);u.attr({"font-size":w});u.attr({"stroke-width":w/15})}var handleGroup,canvas_width,canvas_height,global_scale_X,global_scale_Y,global_scale,delta_x,delta_y,cvjs_supressHyperlinkColors=!1,cvjs_callbackForModalDisplayVar=!1,cvjs_standardHighLightColors=!0,cvjs_customModalPopUpBody,cvjs_populateMyCustomPopUpBody;function cvjs_setCallbackForModalDisplay(a,d,f){cvjs_callbackForModalDisplayVar=a;cvjs_customModalPopUpBody=d;cvjs_populateMyCustomPopUpBody=f}
function cvjs_setCreationMode(a,d){cvjs_supressPopUpModal=a;cvjs_standardHighLightColors=1==d?!1:!0;if(1==cvjs_supressPopUpModal)for(var f in vqRooms[cvjs_active_floorplan_div_nr])jQuery(vqRooms[cvjs_active_floorplan_div_nr][f].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqRooms[cvjs_active_floorplan_div_nr][f].node).qtip("destroy");else for(f in textLayer1=
cvjs_clearTextLayer(textLayer1),vqRooms[cvjs_active_floorplan_div_nr])a='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][f].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][f].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+f+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+vqRooms[cvjs_active_floorplan_div_nr][f].data("type")+"</h4></td></tr></table>",
dual_hbody_flag&&(-1<=parseInt(cvjs_currentNode_id)?jQuery(vqRooms[cvjs_active_floorplan_div_nr][f].node).qtip({content:{text:hbody,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][f].node).qtip({content:{text:hbody_2,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})),
dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][f].node).qtip({content:{text:hbody,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})}
function cvjs_setNoModalMode(a){cvjs_supressPopUpModal=a;cvjs_standardHighLightColors=!0;if(1==cvjs_supressPopUpModal)for(var d in vqRooms[cvjs_active_floorplan_div_nr])jQuery(vqRooms[cvjs_active_floorplan_div_nr][d].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqRooms[cvjs_active_floorplan_div_nr][d].node).qtip("destroy");else for(d in vqRooms[cvjs_active_floorplan_div_nr])a=
'<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][d].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][d].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+d+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+vqRooms[cvjs_active_floorplan_div_nr][d].data("type")+"</h4></td></tr></table>",dual_hbody_flag&&(-1<=parseInt(cvjs_currentNode_id)?
jQuery(vqRooms[cvjs_active_floorplan_div_nr][d].node).qtip({content:{text:hbody,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][d].node).qtip({content:{text:hbody_2,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})),dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][d].node).qtip({content:{text:hbody,
title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})}
function cvjs_setCustomModalsContent(a,d,f){cvjs_supressPopUpModal=cvjs_modalMode=!1;cvjs_standardHighLightColors=!0;if(1==cvjs_supressPopUpModal)for(var h in vqRooms[cvjs_active_floorplan_div_nr])jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip("destroy");else for(h in vqRooms[cvjs_active_floorplan_div_nr])d=
'<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][h].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][h].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+h+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+vqRooms[cvjs_active_floorplan_div_nr][h].data("type")+"</h4></td></tr></table>",console.log(" "+h),dual_hbody_flag&&(-1<=parseInt(cvjs_currentNode_id)?
jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:a,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody_2,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})),dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:a,
title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})}
var cvjs_currentNode_underbar="NODE_",cvjs_currentNode_name="unassigned",cvjs_currentNode_id="unassigned",cvjs_currentNode_layer="unassigned",cvjs_currentNode_group="unassigned",cvjs_currentNode_attributes="unassigned",cvjs_currentNode_attributeStatus="unpopulated",cvjs_currentNode_occupancy="unassigned",cvjs_currentNode_type="unassigned",cvjs_currentNode_tags="unassigned",cvjs_currentNode_linked=!1,cvjs_currentNode_tborderId="unassigned",cvjs_currentNode_textId=[],cvjs_currentNode_displaySpaceObject=
"on",cvjs_currentStickyNote_underbar="SNOTE_",cvjs_currentStickyNote_name="unassigned",cvjs_currentStickyNote_id="unassigned",cvjs_currentStickyNote_layer="RedlineLayer",cvjs_currentStickyNote_group="unassigned",cvjs_currentStickyNote_text="",cvjs_currentStickyNote_userid="unassigned",cvjs_currentStickyNote_date="unassigned",cvjs_currentStickyNote_linked=!0,cvjs_currentStickyNote_transform="none",cvjs_currentStickyNote_currentPage=1,cvjs_currentRedline_underbar="RED_",cvjs_currentRedline_name="unassigned",
cvjs_currentRedline_id="unassigned",cvjs_currentRedline_layer="RedlineLayer",cvjs_currentRedline_group="unassigned";cvjs_currentRedline_color="#FF0000";cvjs_currentRedline_strokeWidth=3;
var cvjs_currentRedline_fill="none",cvjs_currentRedline_fill_opacity="0.01",cvjs_currentRedline_transform="none",cvjs_currentRedline_userid="none",cvjs_currentRedline_currentPage=1,cvjs_currentRedline_polypath_arrow="none",cvjs_currentRedline_triangle_design="none",cvjs_currentRedline_redline_text="none",cvjs_currentRedline_username="none",cvjs_currentRedline_drawingRotation=0,cvjs_hiddenUsersList="",cvjs_lockedUsersList="",cvjs_currentTBorder_underbar="TBORDER_",cvjs_currentTBorder_name="unassigned",
cvjs_currentTBorder_id="unassigned",cvjs_currentTBorder_layer="unassigned",cvjs_currentTBorder_group="unassigned",cvjs_currentText_underbar="TEXT_",cvjs_currentText_name="unassigned",cvjs_currentText_id="unassigned",cvjs_currentText_layer="unassigned",cvjs_currentText_group="unassigned",cvjs_currentUrl_underbar="URL_",cvjs_currentUrl_name="unassigned",cvjs_currentUrl_id="unassigned",cvjs_currentUrl_comment="unassigned",cvjs_currentUrl_url="unassigned",cvjs_currentUrl_layer="unassigned",cvjs_currentUrl_group=
"unassigned",cvjs_currentUrl_linked=!0,cvjsStickyNoteBody='<table id="note_table">';cvjsStickyNoteBody+="<tr>";cvjsStickyNoteBody+="<td>";cvjsStickyNoteBody+='<div class="cvjs_stickynotes_text_1" onclick="cvjs_edit_note();">Text NOT initialized!</div>';cvjsStickyNoteBody+="</td>";cvjsStickyNoteBody+="</tr>";cvjsStickyNoteBody+="</table>";
function cvjs_setStickyNoteText(a){cvjsStickyNoteBody='<table id="note_table">';cvjsStickyNoteBody+="<tr>";cvjsStickyNoteBody+="<td>";cvjsStickyNoteBody+='<div class="cvjs_stickynotes_text_1" onclick="cvjs_edit_note();">'+a+"</div>";cvjsStickyNoteBody+="</td>";cvjsStickyNoteBody+="</tr>";cvjsStickyNoteBody+="</table>"}
function cvjs_setStickyNoteEditText(a){cvjsStickyNoteBody='<table id="note_table">';cvjsStickyNoteBody+="<tr>";cvjsStickyNoteBody+="<td>";cvjsStickyNoteBody+='<textarea class="cvjs_stickynotes_edit_text_1" id="sNote_text" cols="33" rows="3">'+a+"</textarea>";cvjsStickyNoteBody+="</td>";cvjsStickyNoteBody+="</tr>";cvjsStickyNoteBody+="</table>"}
jQuery("#stickyNoteSelectIcon").mouseover(function(){var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",e.clientX+document.documentElement.scrollLeft+20).css("top",e.clientY+document.documentElement.scrollTop-20):tip[cvjs_active_floorplan_div_nr].css("left",e.clientX-a.left+document.documentElement.scrollLeft+20).css("top",e.clientY-a.top+
document.documentElement.scrollTop-20);tip[cvjs_active_floorplan_div_nr].html(tipText);tip[cvjs_active_floorplan_div_nr].show()});
function cvjs_showIconnoteTip(a,d,f){var h,n="#cvjs_floorPlanInsertImageEncapsulate_"+floorplan_div_Array[cvjs_active_floorplan_div_nr];f=jQuery(n).position();var p=jQuery(n).css("position");cvjs_debug&&console.log("qtip div "+p);cvjs_debug&&console.log("we are here "+a+"  "+StickNoteQtipDiv+" "+n+" "+f.left+" "+f.top);1==d&&(h=jQuery("#imageNoteIcon1").position());2==d&&(h=jQuery("#imageNoteIcon2").position());3==d&&(h=jQuery("#imageNoteIcon3").position());jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position");cvjs_debug&&console.log("iconPosition "+h.left+"  "+h.top+"  "+d);tip[cvjs_active_floorplan_div_nr].css({left:f.left+h.left-(window.pageXOffset||document.documentElement.scrollLeft),top:f.top-25-(window.pageYOffset||document.documentElement.scrollTop),position:"fixed"});tip[cvjs_active_floorplan_div_nr].html(a);tip[cvjs_active_floorplan_div_nr].show()}var StickNoteQtipDiv="";
function cvjs_showStickynoteTip(a,d,f){var h,n="#"+StickNoteQtipDiv;f=jQuery(n).position();var p=jQuery(n).css("position");cvjs_debug&&console.log("qtip div "+p);cvjs_debug&&console.log("we are here "+a+"  "+StickNoteQtipDiv+" "+n+" "+f.left+" "+f.top);1==d&&(h=jQuery("#stickyNoteIcon1").position());2==d&&(h=jQuery("#stickyNoteIcon2").position());3==d&&(h=jQuery("#stickyNoteIcon3").position());4==d&&(h=jQuery("#stickyNoteIcon4").position());jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
n=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position");cvjs_debug&&console.log("iconPosition "+h.left+"  "+h.top+"  "+n);tip[cvjs_active_floorplan_div_nr].css({left:f.left+h.left,top:f.top-25,position:"fixed"});tip[cvjs_active_floorplan_div_nr].html(a);tip[cvjs_active_floorplan_div_nr].show();3==d&&-1==a.indexOf("Inactive")&&jQuery("#stickyNoteIcon3").css("color","#FB5300")}
function noteIconChangeHighlight(a,d){3==a&&jQuery("#stickyNoteIcon3").css("color",d);tip[cvjs_active_floorplan_div_nr].hide()}var StickNoteEditMode=!1;
function cvjs_edit_note(){cvjs_debug_stickynotes&&window.alert("edit note!");var a=cvjs_StickyNoteClicked();for(d in vqStickyNotes)if(a==vqStickyNotes[d].data("node")&&1==vqStickyNotes[d].data("locked")){cvjs_debug&&console.log("StickyNote locked for editing!");return}a=cvjs_StickyNotes_arrayIndex(a);if(0==StickNoteEditMode){var d=vqStickyNotes[a].data("text");d=d.replace(/(<br>)/gm,"\n");cvjs_setStickyNoteEditText(d);d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+
vqStickyNotes[a].data("id")+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+vqStickyNotes[a].data("name")+'</td><td class="cvjs_modal_header_sticky_note_info_1_nonselect" id="stickyNoteIcon1" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.Inactive+"',1,"+a+');" ><i class=""></i></td><td class="cvjs_modal_header_sticky_note_info_1_select" id="stickyNoteIcon2" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onclick="cvjs_edit_note();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.SaveNote+"',2,"+a+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1_nonselect" id="stickyNoteIcon3" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.Inactive+"',3,"+a+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2_select" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+
a+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.Cancel+"',4,"+a+');" ><i class="fa fa-times"></i></td></tr></table>';jQuery(vqStickyNotes[a].node).qtip({content:{text:cvjsStickyNoteBody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});cvjs_debug_stickynotes&&console.log("2 stickynote show");
jQuery(vqStickyNotes[a].node).qtip("show");StickNoteEditMode=!0;a=document.getElementsByTagName("div");d=0}else tip[cvjs_active_floorplan_div_nr].hide(),d=jQuery("#sNote_text").val(),d=d.replace(/(\r\n|\n|\r)/gm,"<br>"),vqStickyNotes[a].data("text",d),cvjs_setStickyNoteText(d),d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+vqStickyNotes[a].data("id")+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+
vqStickyNotes[a].data("name")+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="cvjs_move_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MoveNote+"',1,"+a+');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.EditNote+"',2,"+a+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="cvjs_delete_note();" onmouseout="javascript:noteIconChangeHighlight(3,\'#00539B\');" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.DeleteNote+"',3,"+a+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+
a+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MinimizeNote+"',4,"+a+');" ><i class="fa fa-times"></i></td></tr></table>',jQuery(vqStickyNotes[a].node).qtip({content:{text:cvjsStickyNoteBody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}),cvjs_debug_stickynotes&&console.log("3 stickynote show"),
jQuery(vqStickyNotes[a].node).qtip("show"),StickNoteEditMode=!1,a=document.getElementsByTagName("div"),d=0;for(;d<a.length;d++)-1<a[d].id.indexOf("qtip-")&&-1==a[d].id.indexOf("-content")&&-1==a[d].id.indexOf("-title")&&(StickNoteQtipDiv=a[d].id)}
function cvjs_move_note(){var a=cvjs_StickyNoteClicked(),d;for(d in vqStickyNotes)if(a==vqStickyNotes[d].data("node")&&1==vqStickyNotes[d].data("locked")){cvjs_debug&&console.log("StickyNote locked for editing!");return}a=cvjs_StickyNotes_arrayIndex(a);cvjs_debug_stickynotes&&console.log("2 stickynote hide");cvjs_debug&&console.log("2 stickynote move");jQuery(vqStickyNotes[a].node).qtip("hide");vqStickyNotes[a].attr({"fill-opacity":"0.1","stroke-opacity":"0.3"});tip[cvjs_active_floorplan_div_nr].hide();
cvjs_addHandleFunc_MoveStickyNote()}function cvjs_delete_note(){var a=cvjs_StickyNoteClicked();cvjs_debug&&console.log("StickyNote delete "+a);for(var d in vqStickyNotes)if(a==vqStickyNotes[d].data("node")&&1==vqStickyNotes[d].data("locked")){cvjs_debug&&console.log("StickyNote locked for editing!");return}cvjs_setUpStickyNotes_deleteNode(a)}
function cvjs_currentMaxNodeId(){var a=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr]){var d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");d=d.substring(5);d=parseInt(d);d>a&&(a=d)}return a}function cvjs_currentMaxSpaceNodeId(){var a=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr]){var d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");d=d.substring(5);d=parseInt(d);d>a&&(a=d)}return a}
function cvjs_addUserIdToHiddenRedlineUsers(a){cvjs_hiddenUsersList=""==cvjs_hiddenUsersList?cvjs_hiddenUsersList+a:cvjs_hiddenUsersList+(";"+a)}function cvjs_addUserIdToLockedRedlineUsers(a){cvjs_lockedUsersList=""==cvjs_lockedUsersList?cvjs_lockedUsersList+a:cvjs_lockedUsersList+(";"+a)}function cvjs_clearAllRedlineHiddenUsers(){cvjs_hiddenUsersList=""}function cvjs_clearAllRedlineLockedUsers(){cvjs_lockedUsersList=""}function cvjs_getRedlineHiddenUsersList(){return cvjs_hiddenUsersList}
function cvjs_getRedlineLockedUsersList(){return cvjs_lockedUsersList}
function cvjs_getAllRedlines_UserIdList(){var a="",d;for(d in a){for(var f in vqStickyNotes)for(var h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&-1==a.indexOf(cvjs_stickyNotesRedlines[h].userid)&&(console.log(" 1 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),a=""==a?cvjs_stickyNotesRedlines[h].userid:a+";"+cvjs_stickyNotesRedlines[h].userid);for(f in vqRedlines)for(h in cvjs_debug&&console.log("snote Red "+f),cvjs_stickyNotesRedlines)cvjs_debug&&
console.log("redNote "+h+"  vqRedlines[snote].data(node) "+vqRedlines[f].data("node")+"  "+cvjs_stickyNotesRedlines[h].node),-1==a.indexOf(cvjs_stickyNotesRedlines[h].userid)&&(console.log(" 2 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),a=""==a?cvjs_stickyNotesRedlines[h].userid:a+";"+cvjs_stickyNotesRedlines[h].userid)}return a}
function cvjs_getAllRedlines_TextList(){var a="";cvjs_debug&&console.log("loop "+hideuser+"  "+a[hideuser]);for(var d in cvjs_stickyNotesRedlines)try{void 0!=cvjs_stickyNotesRedlines[d].text&&"none"!=cvjs_stickyNotesRedlines[d].text&&-1!=cvjs_stickyNotesRedlines[d].text&&(a=""==a?"("+cvjs_stickyNotesRedlines[d].userid+',"'+a.indexOf(cvjs_stickyNotesRedlines[d].redline_text)+'")':a+";("+cvjs_stickyNotesRedlines[d].userid+',"'+a.indexOf(cvjs_stickyNotesRedlines[d].redline_text)+'")')}catch(f){console.log(f)}for(d in cvjs_stickyNotesRedlines)try{void 0!=
cvjs_stickyNotesRedlines[d].redline_text&&"none"!=cvjs_stickyNotesRedlines[d].redline_text&&-1!=cvjs_stickyNotesRedlines[d].redline_text&&(a=""==a?"("+cvjs_stickyNotesRedlines[d].userid+',"'+cvjs_stickyNotesRedlines[d].redline_text+'")':a+";("+cvjs_stickyNotesRedlines[d].userid+',"'+cvjs_stickyNotesRedlines[d].redline_text+'")')}catch(f){console.log(f)}return a}
function cvjs_hideAllRedlines_ExceptUser(a){var d=cvjs_hiddenUsersList="",f;for(f in vqStickyNotes)for(var h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&-1==d.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=a&&(console.log(" 1 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),d=""==d?cvjs_stickyNotesRedlines[h].userid:d+";"+cvjs_stickyNotesRedlines[h].userid);for(f in vqRedlines)for(h in cvjs_debug&&
console.log("snote Red "+f),cvjs_stickyNotesRedlines)cvjs_debug&&console.log("redNote "+h+"  vqRedlines[snote].data(node) "+vqRedlines[f].data("node")+"  "+cvjs_stickyNotesRedlines[h].node),-1==d.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=a&&(console.log(" 2 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),d=""==d?cvjs_stickyNotesRedlines[h].userid:d+";"+cvjs_stickyNotesRedlines[h].userid);cvjs_hiddenUsersList=d;console.log("USER LIST "+d);
cvjs_hideAllRedlines_HiddenUsersList()}
function cvjs_lockAllRedlines_ExceptUser(a){var d=cvjs_lockedUsersList="";cvjs_debug&&console.log("loop "+hideuser+"  "+d[hideuser]);for(var f in vqStickyNotes)for(var h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&-1==d.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=a&&(console.log(" 1 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),d=""==d?cvjs_stickyNotesRedlines[h].userid:d+";"+cvjs_stickyNotesRedlines[h].userid);
for(f in vqRedlines)for(h in cvjs_debug&&console.log("snote Red "+f),cvjs_stickyNotesRedlines)cvjs_debug&&console.log("redNote "+h+"  vqRedlines[snote].data(node) "+vqRedlines[f].data("node")+"  "+cvjs_stickyNotesRedlines[h].node),-1==d.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=a&&(console.log(" 2 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),d=""==d?cvjs_stickyNotesRedlines[h].userid:d+";"+cvjs_stickyNotesRedlines[h].userid);cvjs_lockedUsersList=
d;console.log("USER LIST "+d);cvjs_lockAllRedlines_LockedUsersList()}
function cvjs_hideAllRedlines_ExceptCurrentUser(){var a=cvjs_hiddenUsersList="",d;for(d in a){for(var f in vqStickyNotes)for(var h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&-1==a.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=cvjs_currentRedline_userid&&(console.log(" 1 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),a=""==a?cvjs_stickyNotesRedlines[h].userid:a+";"+cvjs_stickyNotesRedlines[h].userid);
for(f in vqRedlines)for(h in cvjs_debug&&console.log("snote Red "+f),cvjs_stickyNotesRedlines)cvjs_debug&&console.log("redNote "+h+"  vqRedlines[snote].data(node) "+vqRedlines[f].data("node")+"  "+cvjs_stickyNotesRedlines[h].node),-1==a.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=cvjs_currentRedline_userid&&(console.log(" 2 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),a=""==a?cvjs_stickyNotesRedlines[h].userid:a+";"+cvjs_stickyNotesRedlines[h].userid)}cvjs_hiddenUsersList=
a;console.log("USER LIST "+a);cvjs_hideAllRedlines_HiddenUsersList()}
function cvjs_lockAllRedlines_ExceptCurrentUser(){var a=cvjs_lockedUsersList="",d;for(d in a){for(var f in vqStickyNotes)for(var h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&-1==a.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=cvjs_currentRedline_userid&&(console.log(" 1 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),a=""==a?cvjs_stickyNotesRedlines[h].userid:a+";"+cvjs_stickyNotesRedlines[h].userid);
for(f in vqRedlines)for(h in cvjs_debug&&console.log("snote Red "+f),cvjs_stickyNotesRedlines)cvjs_debug&&console.log("redNote "+h+"  vqRedlines[snote].data(node) "+vqRedlines[f].data("node")+"  "+cvjs_stickyNotesRedlines[h].node),-1==a.indexOf(cvjs_stickyNotesRedlines[h].userid)&&cvjs_stickyNotesRedlines[h].userid!=cvjs_currentRedline_userid&&(console.log(" 2 "+cvjs_currentRedline_userid+"  "+cvjs_stickyNotesRedlines[h].userid),a=""==a?cvjs_stickyNotesRedlines[h].userid:a+";"+cvjs_stickyNotesRedlines[h].userid)}cvjs_lockedUsersList=
a;console.log("USER LIST "+a);cvjs_lockAllRedlines_LockedUsersList()}
function cvjs_hideAllRedlines_HiddenUsersList(){var a=cvjs_hiddenUsersList.split(";"),d;for(d in a){cvjs_debug&&console.log("loop "+d+"  "+a[d]);for(var f in vqStickyNotes){cvjs_debug&&console.log("snote "+f);for(var h in cvjs_stickyNotesRedlines)cvjs_debug&&console.log("redNote "+h),cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&(cvjs_debug&&console.log("notes redNote"+h+" "+cvjs_stickyNotesRedlines[h].userid),cvjs_stickyNotesRedlines[h].userid==a[d]&&vqStickyNotes[f].attr(hide))}for(f in vqRedlines)for(h in cvjs_debug&&
console.log("snote Red "+f),cvjs_stickyNotesRedlines)cvjs_debug&&console.log("redNote "+h+"  vqRedlines[snote].data(node) "+vqRedlines[f].data("node")+"  "+cvjs_stickyNotesRedlines[h].node),cvjs_stickyNotesRedlines[h].node==vqRedlines[f].data("node")&&(cvjs_debug&&console.log("redlines redNote"+h+"  "+cvjs_stickyNotesRedlines[h].userid+" "+a[d]+"X  "+f+"  "+(cvjs_stickyNotesRedlines[h].userid==a[d])),cvjs_stickyNotesRedlines[h].userid==a[d]&&vqRedlines[f].attr(hide))}}
function cvjs_lockAllRedlines_LockedUsersList(){var a=cvjs_lockedUsersList.split(";"),d;for(d in a){cvjs_debug&&console.log("loop "+d+"  "+a[d]);for(var f in vqStickyNotes)for(var h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqStickyNotes[f].data("node")&&cvjs_stickyNotesRedlines[h].userid==a[d]&&(vqStickyNotes[f].data("locked",!0),cvjs_debug&&console.log("locked note "+h));for(f in vqRedlines)for(h in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[h].node==vqRedlines[f].data("node")&&
cvjs_stickyNotesRedlines[h].userid==a[d]&&(vqRedlines[f].data("locked",!0),cvjs_debug&&console.log("locked note "+h))}}function cvjs_setCurrentNodeValues(a,d,f,h,n,p,q,t,u,v,w){cvjs_currentNode_underbar=a;cvjs_currentNode_name=d;cvjs_currentNode_id=f;cvjs_currentNode_layer=h;cvjs_currentNode_group=n;cvjs_currentNode_attributes=p;cvjs_currentNode_attributeStatus=q;cvjs_currentNode_type=t;cvjs_currentNode_tags=u;cvjs_currentNode_occupancy=v;cvjs_currentNode_linked=w}
function cvjs_setCurrentSpaceObjectNodeValues(a,d,f,h,n,p,q,t,u,v,w){cvjs_currentNode_underbar=a;cvjs_currentNode_name=d;cvjs_currentNode_id=f;cvjs_currentNode_layer=h;cvjs_currentNode_group=n;cvjs_currentNode_attributes=p;cvjs_currentNode_attributeStatus=q;cvjs_currentNode_type=t;cvjs_currentNode_tags=u;cvjs_currentNode_occupancy=v;cvjs_currentNode_linked=w}
function cvjs_setCurrentStickyNoteValues(a,d,f,h,n,p,q,t,u){cvjs_currentStickyNote_underbar=a;cvjs_currentStickyNote_name=d;cvjs_currentStickyNote_id=f;cvjs_currentStickyNote_layer=h;cvjs_currentStickyNote_group=n;cvjs_currentStickyNote_text=p;cvjs_currentStickyNote_userid=q;cvjs_currentStickyNote_date=t;cvjs_currentStickyNote_linked=u}
function cvjs_setCurrentStickyNoteValues_All(a,d,f,h,n,p,q,t,u,v,w,x){cvjs_currentStickyNote_underbar=a;cvjs_currentStickyNote_name=d;cvjs_currentStickyNote_id=f;cvjs_currentStickyNote_layer=h;cvjs_currentStickyNote_group=n;cvjs_currentStickyNote_text=p;cvjs_currentStickyNote_userid=q;cvjs_currentStickyNote_date=t;cvjs_currentStickyNote_linked=u;cvjs_currentStickyNote_transform=v;cvjs_currentStickyNote_currentPage=w;cvjs_currentStickyNote_drawingRotation=x}
function cvjs_setCurrentStickyNoteValues_NameUserId(a,d){cvjs_currentStickyNote_name=a;cvjs_currentStickyNote_userid=d}function cvjs_setCurrentStickyNoteValues_NameUserIdDate(a,d,f){cvjs_currentStickyNote_name=a;cvjs_currentStickyNote_userid=d;cvjs_currentStickyNote_date=f}function cvjs_setCurrentRedlineValues_NameUserid(a,d){cvjs_currentRedline_userid=d;cvjs_currentRedline_username=a}function cvjs_setCurrentRedlineValues_Userid(a){cvjs_currentRedline_userid=a}
function cvjs_setCurrentRedlineValues(a,d,f,h,n,p,q,t){cvjs_currentRedline_underbar=a;cvjs_currentRedline_name=d;cvjs_currentRedline_id=f;cvjs_currentRedline_layer=h;cvjs_currentRedline_group=n;cvjs_currentRedline_color=p;cvjs_currentRedline_strokeWidth=q;cvjs_currentRedline_drawingRotation=t}
function cvjs_setCurrentRedlineValues_All(a,d,f,h,n,p,q,t,u,v,w,x,A,y,B,z,C){cvjs_currentRedline_underbar=a;cvjs_currentRedline_name=d;cvjs_currentRedline_id=f;cvjs_currentRedline_layer=h;cvjs_currentRedline_group=n;cvjs_currentRedline_color=p;cvjs_currentRedline_strokeWidth=q;cvjs_currentRedline_fill=t;cvjs_currentRedline_fill_opacity=u;cvjs_currentRedline_transform=v;cvjs_currentRedline_username=w;cvjs_currentRedline_userid=x;cvjs_currentRedline_currentPage=A;cvjs_currentRedline_polypath_arrow=
y;cvjs_currentRedline_triangle_design=B;cvjs_currentRedline_redline_text=z;cvjs_currentRedline_drawingRotation=C}function cvjs_setCurrentRedlineValues_ColorStokeWidth(a,d){cvjs_currentRedline_color=a;cvjs_currentRedline_strokeWidth=d}function cvjs_setCurrentRedlineValues_Color(a){cvjs_currentRedline_color=a}function cvjs_setCurrentRedlineValues_StokeWidth(a){cvjs_currentRedline_strokeWidth=a}function cvjs_setCurrentRedlineValues_StrokeWidth(a){cvjs_currentRedline_strokeWidth=a}
function cvjs_setCurrentNodeValuesFromExistingNode(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(cvjs_currentNode_underbar=a,cvjs_currentNode_name=vqRooms[cvjs_active_floorplan_div_nr][spc].data("name"),cvjs_currentNode_id=vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"),cvjs_currentNode_layer=vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer"),cvjs_currentNode_group=vqRooms[cvjs_active_floorplan_div_nr][spc].data("group"),
cvjs_currentNode_attributes=vqRooms[cvjs_active_floorplan_div_nr][spc].data("attributes"),cvjs_currentNode_attributeStatus=vqRooms[cvjs_active_floorplan_div_nr][spc].data("attributeStatus"),cvjs_currentNode_type=vqRooms[cvjs_active_floorplan_div_nr][spc].data("type"),cvjs_currentNode_tags=vqRooms[cvjs_active_floorplan_div_nr][spc].data("tags"),cvjs_currentNode_occupancy=vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy"),cvjs_currentNode_linked=vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked"))}
function cvjs_overwriteNodeValues(a,d,f,h,n,p,q,t,u,v,w){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a)if(vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("id"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("name"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("layer"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("group"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("attributes"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("attributeStatus"),
vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("type"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("tags"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("occupancy"),vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("linked"),vqRooms[cvjs_active_floorplan_div_nr][spc].data("id",d),vqRooms[cvjs_active_floorplan_div_nr][spc].data("name",f),vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer",h),vqRooms[cvjs_active_floorplan_div_nr][spc].data("group",n),vqRooms[cvjs_active_floorplan_div_nr][spc].data("attributes",
p),vqRooms[cvjs_active_floorplan_div_nr][spc].data("attributeStatus",q),vqRooms[cvjs_active_floorplan_div_nr][spc].data("type",t),vqRooms[cvjs_active_floorplan_div_nr][spc].data("tags",u),vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy",v),vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked",w),vqRooms[cvjs_active_floorplan_div_nr][spc].data("defaultcolor","undefined"),1==cvjs_supressPopUpModal)jQuery(vqRooms[cvjs_active_floorplan_div_nr][spc].node).qtip({content:{text:"",title:""},
style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqRooms[cvjs_active_floorplan_div_nr][spc].node).qtip("destroy");else{var x='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+d+"');\">"+f+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+spc+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+t+"</h4></td></tr></table>";
cvjs_debug&&console.log(x);cvjs_debug&&console.log(vqRooms[cvjs_active_floorplan_div_nr][spc]);dual_hbody_flag&&(-1<=parseInt(d)?jQuery(vqRooms[cvjs_active_floorplan_div_nr][spc].node).qtip({content:{text:hbody,title:x},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][spc].node).qtip({content:{text:hbody_2,title:x},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},
position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][spc].node).qtip({content:{text:hbody,title:x},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})}}function cvjs_addVqRoomsGraphics_newNode_polygon(a,d){a=d.data("node",a);vqRooms[cvjs_active_floorplan_div_nr].push(a)}
function cvjs_addVqRoomsGraphics_newNode_circle(a,d){var f=d.toString();d.attr({transform:"S0.001",opacity:"1"});cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(0,0,1,1).attr({stroke:"#000000","stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"});d=f.indexOf(" cx=");d=f.substring(d+5);var h=d.indexOf('"');d=d.substring(0,h);h=f.indexOf(" cy=");h=f.substring(h+5);var n=h.indexOf('"');h=h.substring(0,n);n=f.indexOf(" r=");n=f.substring(n+4);var p=n.indexOf('"');n=n.substring(0,p);
p=f.indexOf("transform=");p=f.substring(p+11);var q=p.indexOf('"');if(-1<p.substring(0,q).indexOf("matrix")){h=f.indexOf("(");f=f.substring(h+1);d=f.indexOf(",");n=f.substring(0,d);for(d=0;4>d;d++)h=f.indexOf(","),f=f.substring(h+1);h=f.indexOf(",");d=f.substring(0,h);f=f.substring(h+1);h=f.indexOf(")");h=f.substring(0,h)}vqRooms[cvjs_active_floorplan_div_nr].push(cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(d,h,n,n).attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"}).data("node",
a))}function cvjs_addVqStickyNotesGraphics_newNode(a,d){a=d.data("node",a);vqStickyNotes.push(a)}
function cvjs_addVqRedlinesGraphics_newNode(a,d){a=d.data("node",a);vqRedlines.push(a);a=vqRedlines.length-1;0<=a&&(vqRedlines[a].data("name",cvjs_currentRedline_name),vqRedlines[a].data("id",cvjs_currentRedline_id),vqRedlines[a].data("layer",cvjs_currentRedline_layer),vqRedlines[a].data("group",cvjs_currentRedline_group),vqRedlines[a].data("color",cvjs_currentRedline_color),vqRedlines[a].data("strokeWidth",cvjs_currentRedline_strokeWidth),vqRedlines[a].data("fill","#FFF"),vqRedlines[a].data("fill_opacity",
"0.01"),vqRedlines[a].data("transform","none"),vqRedlines[a].data("username",cvjs_currentRedline_username),vqRedlines[a].data("userid",cvjs_currentRedline_userid),vqRedlines[a].data("currentPage",multiPages[cvjs_active_floorplan_div_nr].currentPage),vqRedlines[a].data("triangle_design","none"),vqRedlines[a].data("polypath_arrow","none"),vqRedlines[a].data("redline_text","none"),vqRedlines[a].data("drawingRotation",cvjs_currentRedline_drawingRotation),vqRedlines[a].mousedown(function(a){cvjs_deleteRedlineFlag&&
(cvjs_deleteRedlineFlag=!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))}),vqRedlines[a].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",
a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}),vqRedlines[a].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()}))}
function cvjs_addVqRedlinesGraphics_newNodeFill(a,d,f,h){a=d.data("node",a);vqRedlines.push(a);a=vqRedlines.length-1;0<=a&&(vqRedlines[a].data("name",cvjs_currentRedline_name),vqRedlines[a].data("id",cvjs_currentRedline_id),vqRedlines[a].data("layer",cvjs_currentRedline_layer),vqRedlines[a].data("group",cvjs_currentRedline_group),vqRedlines[a].data("color",cvjs_currentRedline_color),vqRedlines[a].data("strokeWidth",cvjs_currentRedline_strokeWidth),vqRedlines[a].data("fill",f),vqRedlines[a].data("fill_opacity",
h),vqRedlines[a].data("transform","none"),vqRedlines[a].data("username",cvjs_currentRedline_username),vqRedlines[a].data("userid",cvjs_currentRedline_userid),vqRedlines[a].data("currentPage",multiPages[cvjs_active_floorplan_div_nr].currentPage),vqRedlines[a].data("triangle_design","none"),vqRedlines[a].data("polypath_arrow","none"),vqRedlines[a].data("redline_text","none"),vqRedlines[a].data("drawingRotation",cvjs_currentRedline_drawingRotation),vqRedlines[a].mousedown(function(a){cvjs_deleteRedlineFlag&&
(cvjs_deleteRedlineFlag=!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))}),vqRedlines[a].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",
a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}),vqRedlines[a].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()}))}
function cvjs_addVqRedlinesGraphics_newNodeTrans(a,d,f,h,n){a=d.data("node",a);vqRedlines.push(a);a=vqRedlines.length-1;0<=a&&(vqRedlines[a].data("name",cvjs_currentRedline_name),vqRedlines[a].data("id",cvjs_currentRedline_id),vqRedlines[a].data("layer",cvjs_currentRedline_layer),vqRedlines[a].data("group",cvjs_currentRedline_group),vqRedlines[a].data("color",cvjs_currentRedline_color),vqRedlines[a].data("strokeWidth",cvjs_currentRedline_strokeWidth),vqRedlines[a].data("fill","#FFF"),vqRedlines[a].data("fill_opacity",
"0.01"),vqRedlines[a].data("transform",f),vqRedlines[a].data("username",cvjs_currentRedline_username),vqRedlines[a].data("userid",cvjs_currentRedline_userid),vqRedlines[a].data("currentPage",multiPages[cvjs_active_floorplan_div_nr].currentPage),vqRedlines[a].data("triangle_design",h),vqRedlines[a].data("polypath_arrow",n),vqRedlines[a].data("redline_text","none"),vqRedlines[a].data("drawingRotation",cvjs_currentRedline_drawingRotation),vqRedlines[a].mousedown(function(a){cvjs_deleteRedlineFlag&&(cvjs_deleteRedlineFlag=
!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))}),vqRedlines[a].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+
10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}),vqRedlines[a].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()}))}
function cvjs_addVqRedlinesGraphics_newNodeText(a,d,f,h){a=d.data("node",a);vqRedlines.push(a);a=vqRedlines.length-1;0<=a&&(vqRedlines[a].data("name",cvjs_currentRedline_name),vqRedlines[a].data("id",cvjs_currentRedline_id),vqRedlines[a].data("layer",cvjs_currentRedline_layer),vqRedlines[a].data("group",cvjs_currentRedline_group),vqRedlines[a].data("color",cvjs_currentRedline_color),vqRedlines[a].data("strokeWidth",cvjs_currentRedline_strokeWidth),vqRedlines[a].data("fill","#FFF"),vqRedlines[a].data("fill_opacity",
"0.01"),vqRedlines[a].data("transform",f),vqRedlines[a].data("username",cvjs_currentRedline_username),vqRedlines[a].data("userid",cvjs_currentRedline_userid),vqRedlines[a].data("currentPage",multiPages[cvjs_active_floorplan_div_nr].currentPage),vqRedlines[a].data("triangle_design","none"),vqRedlines[a].data("polypath_arrow","none"),vqRedlines[a].data("redline_text",h),vqRedlines[a].data("drawingRotation",cvjs_currentRedline_drawingRotation),vqRedlines[a].mousedown(function(a){cvjs_deleteRedlineFlag&&
(cvjs_deleteRedlineFlag=!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))}),vqRedlines[a].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",
a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}),vqRedlines[a].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()}))}
function cvjs_setUpVqRooms_currentNode(a,d){floorplan_height=.9*jQuery(window).height();floorplan_width=.9*jQuery(window).width();tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);tip[cvjs_active_floorplan_div_nr].hide().css("left",floorplan_width).css("top",floorplan_height);tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var f="";try{jQuery.fn.qtip.defaults.show.event="click",jQuery.fn.qtip.defaults.hide.event=null}catch(t){}""==layer_vqrooms[cvjs_active_floorplan_div_nr]&&
(layer_vqrooms[cvjs_active_floorplan_div_nr]=a.g());try{var h=vqRooms[cvjs_active_floorplan_div_nr].length-1}catch(t){console.log("vqRooms [cvjs_active_floorplan_div_nr] not defined! "+t)}cvjs_debug&&console.log(" room "+h);rid=vqRooms[cvjs_active_floorplan_div_nr][h].data("node");if(d==rid){a=cvjs_currentNode_tags;if("unassigned"==cvjs_currentNode_tags)vqRooms[cvjs_active_floorplan_div_nr][h].data("tags","unassigned");else{d=1;for(var n in a){for(var p="tag"+d,q=a[n];" "==q.charAt(0);)q=q.substr(1);
q=q.replace(/ /gi,"&nbsp;");vqRooms[cvjs_active_floorplan_div_nr][h].data(p,q);d++}}vqRooms[cvjs_active_floorplan_div_nr][h].data("occupancy",cvjs_currentNode_occupancy);vqRooms[cvjs_active_floorplan_div_nr][h].data("name",cvjs_currentNode_name);vqRooms[cvjs_active_floorplan_div_nr][h].data("type",cvjs_currentNode_type);vqRooms[cvjs_active_floorplan_div_nr][h].data("id",cvjs_currentNode_id);vqRooms[cvjs_active_floorplan_div_nr][h].data("defaultcolor","undefined");try{vqRooms[cvjs_active_floorplan_div_nr][h].data("layer",
cvjs_currentNode_layer),vqRooms[cvjs_active_floorplan_div_nr][h].data("group",cvjs_currentNode_group),vqRooms[cvjs_active_floorplan_div_nr][h].data("linked",cvjs_currentNode_linked),vqRooms[cvjs_active_floorplan_div_nr][h].data("handle",""),vqRooms[cvjs_active_floorplan_div_nr][h].data("attributes",cvjs_currentNode_attributes),vqRooms[cvjs_active_floorplan_div_nr][h].data("attributeStatus",cvjs_currentNode_attributeStatus),vqRooms[cvjs_active_floorplan_div_nr][h].data("displaySpaceObject",cvjs_currentNode_displaySpaceObject)}catch(t){console.log(t)}!cvjs_supressPopUpModal||
cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][h].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][h].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][h].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][h].attr(defaultColor_unlinked);1==cvjs_supressPopUpModal?(jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},
hideOnHTMLClick:"true"}),jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip("destroy")):(n='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+cvjs_currentNode_id+"');\">"+cvjs_currentNode_name+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+h+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+cvjs_currentNode_type+"</h4></td></tr></table>",dual_hbody_flag&&(-1<=parseInt(cvjs_currentNode_id)?
jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody_2,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})),dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody,
title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));vqRooms[cvjs_active_floorplan_div_nr][h].mousedown(function(a){vqRoomMouseSelect=!0;cvjs_debug&&console.log("A Domousedown");DoMouseDown(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop,cvjs_active_floorplan_div_nr)}).mouseout(function(a){jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();var d=findRoom(currentRoomId);
vqRoomMouseSelect||cvjs_supressPopUpModal&&!cvjs_standardHighLightColors||(cvjs_debug&&console.log("room="+d+" defaultcolor"),cvjs_debug&&console.log(" "+vqRooms[cvjs_active_floorplan_div_nr][d].data("defaultcolor")+" rm="+d+"  "+vqRooms[cvjs_active_floorplan_div_nr][d].data("name")+(a.clientX+document.body.scrollLeft)+" "+(a.clientY+document.body.scrollTop)),-1<vqRooms[cvjs_active_floorplan_div_nr][d].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][d].attr(defaultColor):
vqRooms[cvjs_active_floorplan_div_nr][d].attr(vqRooms[cvjs_active_floorplan_div_nr][d].data("defaultcolor")))}).mousemove(function(a){currentRoomId=this.data("id");currentRoomName=this.data("name");if(bMouseDown||bTempMouseDown)DoMouseMove(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else{var d=findRoom(currentRoomId);0<=d&&d!=lastObj[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&(tooltipLast[cvjs_active_floorplan_div_nr]!=lastObj[cvjs_active_floorplan_div_nr]&&-1!=tooltipLast[cvjs_active_floorplan_div_nr]&&
(!cvjs_supressPopUpModal||cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].attr(vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].data("defaultcolor")):vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].data("linked")?
vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked)),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][d].attr(highlight):vqRooms[cvjs_active_floorplan_div_nr][d].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][d].attr(highlight_linked):vqRooms[cvjs_active_floorplan_div_nr][d].attr(highlight_unlinked),
tooltipLast[cvjs_active_floorplan_div_nr]=d);f=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");cvjs_customToolTip&&(f=cvjs_displayCustomToolTip(this.data("id")));tip[cvjs_active_floorplan_div_nr].html(f);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?
tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}}).mouseup(function(a){if(bPan)DoMouseUp(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else try{layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show)}catch(u){}f=
!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");cvjs_customToolTip&&(f=cvjs_displayCustomToolTip(this.data("id")));tip[cvjs_active_floorplan_div_nr].html(f);bMouseDown=!1;cvjs_clearDrawing();rid=this.data("id");change_space_fixed_location(rid,cvjs_active_floorplan_div_nr);bPan=!1}).touchstart(function(a){DoTouchStart(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).touchend(function(a){if(!bPan&&!locked){var d=this.data("id");cvjs_change_space(d);
f=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");cvjs_customToolTip&&(f=cvjs_displayCustomToolTip(this.data("id")));tip[cvjs_active_floorplan_div_nr].html(f)}DoTouchEnd(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);f=cvjs_supressPopUpModal?this.data("id"):this.data("name");cvjs_customToolTip&&(f=cvjs_displayCustomToolTip(this.data("id")));tip[cvjs_active_floorplan_div_nr].html(f);bMouseDown=!1;cvjs_clearDrawing();d=this.data("id");
change_space_fixed_location(d,cvjs_active_floorplan_div_nr)}).touchmove(function(a){if(!bPan){var d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+
10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(f);cvjs_customToolTip&&(f=cvjs_displayCustomToolTip(this.data("id")))}DoTouchMove(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).dblclick(function(a){event.preventDefault();event.stopPropagation()})}layer_vqrooms[cvjs_active_floorplan_div_nr].add(vqRooms[cvjs_active_floorplan_div_nr][h])}
function cvjs_setUpVqStickyNotes_currentNode_vqIndex(a,d,f,h){floorplan_height=.9*jQuery(window).height();floorplan_width=.9*jQuery(window).width();tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);tip[cvjs_active_floorplan_div_nr].hide().css("left",floorplan_width).css("top",floorplan_height);var n="";try{jQuery.fn.qtip.defaults.show.event="click",jQuery.fn.qtip.defaults.hide.event=null}catch(q){}var p=vqStickyNotes[f].data("node");if(d==p){vqStickyNotes[f].data("name",
cvjs_currentStickyNote_name);vqStickyNotes[f].data("id",cvjs_currentStickyNote_id);vqStickyNotes[f].data("text",cvjs_currentStickyNote_text);try{vqStickyNotes[f].data("layer",cvjs_currentStickyNote_layer),vqStickyNotes[f].data("group",cvjs_currentStickyNote_group),vqStickyNotes[f].data("linked",cvjs_currentStickyNote_linked),vqStickyNotes[f].data("userid",cvjs_currentStickyNote_userid),vqStickyNotes[f].data("date",cvjs_currentStickyNote_date),vqStickyNotes[f].data("currentPage",cvjs_currentStickyNote_currentPage),
vqStickyNotes[f].data("transform",cvjs_currentStickyNote_transform),vqStickyNotes[f].data("drawingRotation",cvjs_currentStickyNote_drawingRotation)}catch(q){console.log(q)}!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqStickyNotes[f].attr(defaultColor_StickyNotes):vqStickyNotes[f].data("linked")?vqStickyNotes[f].attr(defaultColor_linked):vqStickyNotes[f].attr(defaultColor_unlinked);if(1==cvjs_supressPopUpModal)jQuery(vqStickyNotes[f].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},
position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqStickyNotes[f].node).qtip("destroy");else for(a='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+cvjs_currentStickyNote_id+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+cvjs_currentStickyNote_name+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="cvjs_move_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.MoveNote+"',1,"+f+');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.EditNote+"',2,"+f+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="cvjs_delete_note();" onmouseout="javascript:noteIconChangeHighlight(3,\'#00539B\');" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.DeleteNote+"',3,"+f+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+f+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MinimizeNote+"',4,"+f+');" ><i class="fa fa-times"></i></td></tr></table>',cvjs_setStickyNoteText(cvjs_currentStickyNote_text),
jQuery(vqStickyNotes[f].node).qtip({content:{text:cvjsStickyNoteBody,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}),a=document.getElementsByTagName("div"),d=0;d<a.length;d++)-1<a[d].id.indexOf("qtip-")&&-1==a[d].id.indexOf("-content")&&-1==a[d].id.indexOf("-title")&&(StickNoteQtipDiv=a[d].id);vqStickyNotes[f].mousedown(function(a){vqRoomMouseSelect=!0;cvjs_debug&&console.log("B Domousedown");DoMouseDown(a.clientX+
document.body.scrollLeft,a.clientY+document.body.scrollTop,cvjs_active_floorplan_div_nr)}).mousemove(function(a){currentStickyNoteId=this.data("id");currentStickyNoteName=this.data("name");if(bMouseDown||bTempMouseDown)DoMouseMove(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else{var d=findStickyNotes(currentStickyNoteId);0<=d&&d!=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&(tooltipLastStickyNote!=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&(cvjs_supressPopUpModal?
vqStickyNotes[tooltipLastStickyNote].data("linked")?vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_linked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_unlinked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_StickyNotes)),cvjs_supressPopUpModal?vqStickyNotes[d].data("linked")?vqStickyNotes[d].attr(highlight_linked):vqStickyNotes[d].attr(highlight_unlinked):vqStickyNotes[d].attr(highlight_StickyNotes),tooltipLastStickyNote=d);n="Note #"+this.data("id");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
tip[cvjs_active_floorplan_div_nr].html(n);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",
a.clientY-d.top+document.documentElement.scrollTop-25)}}).mouseup(function(a){vqRoomMouseSelect=!1;if(bPan)DoMouseUp(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop),n="Note #"+this.data("id"),tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html(n),bMouseDown=!1,cvjs_clearDrawingStickyNotes(),p=this.data("id"),console.log("stickynote 1");else{try{layer_vqstickynotes.attr(show)}catch(t){}n="Note #"+this.data("id");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
tip[cvjs_active_floorplan_div_nr].html(n);bMouseDown=!1;cvjs_clearDrawingStickyNotes();p=this.data("id");console.log("stickynote 2x")}change_space_fixed_locationStickyNotes(p);bPan=!1}).touchstart(function(a){DoTouchStart(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).touchend(function(a){bPan||locked||(p=this.data("id"),cvjs_change_space(p),n="Note #"+this.data("id"),tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html(n));DoTouchEnd(a,
a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);n=this.data("id");tip[cvjs_active_floorplan_div_nr].html(n);bMouseDown=!1;cvjs_clearDrawingStickyNotes();p=this.data("id");console.log("stickynote 3x");change_space_fixed_locationStickyNotes(p)}).touchmove(function(a){if(!bPan){var d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",
a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(n)}DoTouchMove(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).dblclick(function(a){event.preventDefault();event.stopPropagation()})}}
function cvjs_setUpVqStickyNotes_currentNode_vqIndex_passedInstance(a,d,f,h){floorplan_height=.9*jQuery(window).height();floorplan_width=.9*jQuery(window).width();tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);tip[cvjs_active_floorplan_div_nr].hide().css("left",floorplan_width).css("top",floorplan_height);try{jQuery.fn.qtip.defaults.show.event="click",jQuery.fn.qtip.defaults.hide.event=null}catch(n){}""==layer_vqstickynotes&&(layer_vqstickynotes=
a.g(),layer_vqstickynotes.prepend(cvjs_masterBackground[cvjs_active_floorplan_div_nr]));a=h.data("node");console.log("cvjs_setUpVqStickyNotes_currentNode_vqIndex_passedInstance rid "+a);console.log("rid                       ="+a+"              "+h+" "+(d==a));h.data("name",cvjs_currentStickyNote_name);h.data("id",cvjs_currentStickyNote_id);h.data("text",cvjs_currentStickyNote_text);h.data("layer",cvjs_currentStickyNote_layer);h.data("group",cvjs_currentStickyNote_group);h.data("linked",cvjs_currentStickyNote_linked);
h.data("userid",cvjs_currentStickyNote_userid);h.data("date",cvjs_currentStickyNote_date);h.data("currentPage",cvjs_currentStickyNote_currentPage);h.data("transform",cvjs_currentStickyNote_transform);h.data("drawingRotation",cvjs_currentStickyNote_drawingRotation)}
function cvjs_setUpVqStickyNotes_currentNode(a,d){floorplan_height=.9*jQuery(window).height();floorplan_width=.9*jQuery(window).width();tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);tip[cvjs_active_floorplan_div_nr].hide().css("left",floorplan_width).css("top",floorplan_height);var f="";try{jQuery.fn.qtip.defaults.show.event="click",jQuery.fn.qtip.defaults.hide.event=null}catch(n){}""==layer_vqstickynotes&&(layer_vqstickynotes=a.g(),layer_vqstickynotes.prepend(cvjs_masterBackground[cvjs_active_floorplan_div_nr]));
var h=vqStickyNotes.length-1;rid=vqStickyNotes[h].data("node");if(d==rid){vqStickyNotes[h].data("name",cvjs_currentStickyNote_name);vqStickyNotes[h].data("id",cvjs_currentStickyNote_id);vqStickyNotes[h].data("text",cvjs_currentStickyNote_text);try{vqStickyNotes[h].data("layer",cvjs_currentStickyNote_layer),vqStickyNotes[h].data("group",cvjs_currentStickyNote_group),vqStickyNotes[h].data("linked",cvjs_currentStickyNote_linked),vqStickyNotes[h].data("userid",cvjs_currentStickyNote_userid),vqStickyNotes[h].data("date",
cvjs_currentStickyNote_date),vqStickyNotes[h].data("currentPage",multiPages[cvjs_active_floorplan_div_nr].currentPage),vqStickyNotes[h].data("transform",cvjs_currentStickyNote_transform),vqStickyNotes[h].data("drawingRotation",cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr])}catch(n){console.log(n)}cvjs_supressPopUpModal?vqStickyNotes[h].data("linked")?vqStickyNotes[h].attr(defaultColor_linked):vqStickyNotes[h].attr(defaultColor_unlinked):vqStickyNotes[h].attr(defaultColor_StickyNotes);1==
cvjs_supressPopUpModal?(jQuery(vqStickyNotes[h].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqStickyNotes[h].node).qtip("destroy")):(d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+cvjs_currentStickyNote_id+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+cvjs_currentStickyNote_name+
'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="javascript:cvjs_move_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MoveNote+"',1,"+h+');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="javascript:cvjs_edit_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.EditNote+"',2,"+h+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="javascript:cvjs_delete_note();" onmouseout="javascript:noteIconChangeHighlight(3,\'#00539B\');" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.DeleteNote+"',3,"+h+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="javascript:hideOnlyStickyNote('+
h+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MinimizeNote+"',4,"+h+');" ><i class="fa fa-times"></i></td></tr></table>',isSmartPhoneOrTablet&&(d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+cvjs_currentStickyNote_id+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >ZZ '+
cvjs_currentStickyNote_name+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" ontap="cvjs_move_note();" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();"><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" ontap="javascript:cvjs_delete_note();" onclick="javascript:cvjs_delete_note();" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" ontap="javascript:hideOnlyStickyNote('+
h+');" onclick="javascript:hideOnlyStickyNote('+h+');" ><i class="fa fa-times"></i></td></tr></table>',d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+cvjs_currentStickyNote_id+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >ZAZ '+cvjs_currentStickyNote_name+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="window.alert(\'1\');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();"><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="window.alert(\'3\');" onclick="javascript:cvjs_delete_note();" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+
h+');" ><i class="fa fa-times"></i></td></tr></table>'),cvjs_setStickyNoteText(cvjs_currentStickyNote_text),jQuery(vqStickyNotes[h].node).qtip({content:{text:cvjsStickyNoteBody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));vqStickyNotes[h].mousedown(function(a){vqRoomMouseSelect=!0;cvjs_debug&&console.log("C Domousedown");DoMouseDown(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop,
cvjs_active_floorplan_div_nr)}).mousemove(function(a){currentStickyNoteId=this.data("id");currentStickyNoteName=this.data("name");if(bMouseDown||bTempMouseDown)DoMouseMove(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else{var d=findStickyNotes(currentStickyNoteId);0<=d&&d!=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&(tooltipLastStickyNote!=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&(cvjs_supressPopUpModal?vqStickyNotes[tooltipLastStickyNote].data("linked")?
vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_linked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_unlinked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_StickyNotes)),cvjs_supressPopUpModal?vqStickyNotes[d].data("linked")?vqStickyNotes[d].attr(highlight_linked):vqStickyNotes[d].attr(highlight_unlinked):vqStickyNotes[d].attr(highlight_StickyNotes),tooltipLastStickyNote=d);f="Note #"+this.data("id");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});tip[cvjs_active_floorplan_div_nr].html(f);
tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-
25)}}).mouseup(function(a){vqRoomMouseSelect=!1;if(bPan)DoMouseUp(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop),f="Note #"+this.data("id"),tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html(f),bMouseDown=!1,cvjs_clearDrawingStickyNotes(),rid=this.data("id"),cvjs_debug_stickynotes&&console.log("zzxz");else{try{layer_vqstickynotes.attr(show)}catch(p){}f="Note #"+this.data("id");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
tip[cvjs_active_floorplan_div_nr].html(f);bMouseDown=!1;rid=this.data("id");console.log("stickynote 5x")}change_space_fixed_locationStickyNotes(rid);bPan=!1}).touchstart(function(a){DoTouchStart(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).touchend(function(a){bPan||locked||(rid=this.data("id"),cvjs_change_space(rid),f="Note #"+this.data("id"),tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html(f));DoTouchEnd(a,a.clientX+document.body.scrollLeft,
a.clientY+document.body.scrollTop)}).touchmove(function(a){if(!bPan){var d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",
a.clientY-d.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(f)}DoTouchMove(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).dblclick(function(a){event.preventDefault();event.stopPropagation()})}a.add(vqStickyNotes[h])}
function cvjs_setUpVqStickyNotes_currentNode_PageChange(a,d,f){floorplan_height=.9*jQuery(window).height();floorplan_width=.9*jQuery(window).width();tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);tip[cvjs_active_floorplan_div_nr].hide().css("left",floorplan_width).css("top",floorplan_height);var h="";try{jQuery.fn.qtip.defaults.show.event="click",jQuery.fn.qtip.defaults.hide.event=null}catch(p){}""==layer_vqstickynotes&&(layer_vqstickynotes=a.g(),
layer_vqstickynotes.prepend(cvjs_masterBackground[cvjs_active_floorplan_div_nr]));var n=vqStickyNotes[f].data("node");if(d==n){vqStickyNotes[f].data("name",cvjs_currentStickyNote_name);vqStickyNotes[f].data("id",cvjs_currentStickyNote_id);vqStickyNotes[f].data("text",cvjs_currentStickyNote_text);try{vqStickyNotes[f].data("layer",cvjs_currentStickyNote_layer),vqStickyNotes[f].data("group",cvjs_currentStickyNote_group),vqStickyNotes[f].data("linked",cvjs_currentStickyNote_linked),vqStickyNotes[f].data("userid",
cvjs_currentStickyNote_userid),vqStickyNotes[f].data("date",cvjs_currentStickyNote_date),vqStickyNotes[f].data("currentPage",cvjs_currentStickyNote_currentPage),vqStickyNotes[f].data("transform",cvjs_currentStickyNote_transform),vqStickyNotes[f].data("drawingRotation",cvjs_currentStickyNote_drawingRotation)}catch(p){console.log(p)}!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqStickyNotes[f].attr(defaultColor_StickyNotes):vqStickyNotes[f].data("linked")?vqStickyNotes[f].attr(defaultColor_linked):
vqStickyNotes[f].attr(defaultColor_unlinked);if(1==cvjs_supressPopUpModal)jQuery(vqStickyNotes[f].node).qtip({content:{text:"",title:""},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"true"}),jQuery(vqStickyNotes[f].node).qtip("destroy");else for(a='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+cvjs_currentStickyNote_id+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+
cvjs_currentStickyNote_name+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="cvjs_move_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MoveNote+"',1,"+f+');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.EditNote+"',2,"+f+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="cvjs_delete_note();" onmouseout="javascript:noteIconChangeHighlight(3,\'#00539B\');" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.DeleteNote+"',3,"+f+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+
f+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MinimizeNote+"',4,"+f+');" ><i class="fa fa-times"></i></td></tr></table>',cvjs_setStickyNoteText(cvjs_currentStickyNote_text),jQuery(vqStickyNotes[f].node).qtip({content:{text:cvjsStickyNoteBody,title:a},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}),
a=document.getElementsByTagName("div"),d=0;d<a.length;d++)-1<a[d].id.indexOf("qtip-")&&-1==a[d].id.indexOf("-content")&&-1==a[d].id.indexOf("-title")&&(StickNoteQtipDiv=a[d].id);vqStickyNotes[f].mousedown(function(a){vqRoomMouseSelect=!0;cvjs_debug&&console.log("E Domousedown");DoMouseDown(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop,cvjs_active_floorplan_div_nr)}).mousemove(function(a){currentStickyNoteId=this.data("id");currentStickyNoteName=this.data("name");if(bMouseDown||
bTempMouseDown)DoMouseMove(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else{var d=findStickyNotes(currentStickyNoteId);if(0<=d&&d!=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&cvjs_location_flag){if(tooltipLastStickyNote!=lastObjStickyNote[cvjs_active_floorplan_div_nr])try{cvjs_supressPopUpModal?vqStickyNotes[tooltipLastStickyNote].data("linked")?vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_linked):vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_unlinked):
vqStickyNotes[tooltipLastStickyNote].attr(defaultColor_StickyNotes)}catch(t){}cvjs_supressPopUpModal?vqStickyNotes[d].data("linked")?vqStickyNotes[d].attr(highlight_linked):vqStickyNotes[d].attr(highlight_unlinked):vqStickyNotes[d].attr(highlight_StickyNotes);tooltipLastStickyNote=d}h="Note #"+this.data("id");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});tip[cvjs_active_floorplan_div_nr].html(h);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}}).mouseup(function(a){vqRoomMouseSelect=!1;if(bPan)DoMouseUp(a.clientX+document.body.scrollLeft,
a.clientY+document.body.scrollTop),h="Note #"+this.data("id"),tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html(h),bMouseDown=!1,cvjs_clearDrawingStickyNotes(),n=this.data("id"),console.log("sticky note up 7x");else{try{layer_vqstickynotes.attr(show)}catch(q){}h="Note #"+this.data("id");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});tip[cvjs_active_floorplan_div_nr].html(h);bMouseDown=!1;cvjs_clearDrawingStickyNotes();n=this.data("id");console.log("2")}change_space_fixed_locationStickyNotes(n);
bPan=!1}).touchstart(function(a){DoTouchStart(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).touchend(function(a){bPan||locked||(n=this.data("id"),cvjs_change_space(n),h="Note #"+this.data("id"),tip[cvjs_active_floorplan_div_nr].css({position:"fixed"}),tip[cvjs_active_floorplan_div_nr].html(h));DoTouchEnd(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);h=this.data("id");tip[cvjs_active_floorplan_div_nr].html(h);bMouseDown=!1;cvjs_clearDrawingStickyNotes();
n=this.data("id");console.log("3");change_space_fixed_locationStickyNotes(n)}).touchmove(function(a){if(!bPan){var d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+
10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(h)}DoTouchMove(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).dblclick(function(a){event.preventDefault();event.stopPropagation()})}}
function cvjs_setUpVqRooms_deleteNode(a){var d;for(d in vqRooms[cvjs_active_floorplan_div_nr]){var f=vqRooms[cvjs_active_floorplan_div_nr][d].data("node");f==a&&(vqRooms[cvjs_active_floorplan_div_nr][d].data("deleted",!0),vqRooms[cvjs_active_floorplan_div_nr][d].attr({transform:"S0.001",opacity:"0.01"}))}}
function cvjs_setUpStickyNotes_deleteNode(a){var d;for(d in vqStickyNotes){var f=vqStickyNotes[d].data("node");console.log("delete "+a+" "+f+"   "+d);f==a&&(vqStickyNotes[d].data("deleted",!0),cvjs_debug&&console.log("DELETING "+d+"  "+vqStickyNotes[d]),vqStickyNotes[d].attr({transform:"S0.001",opacity:"1"}),hideOnlyStickyNote(d),cvjs_debug&&console.log("AFTER DELETING "+d+"  "+vqStickyNotes[d]),jQuery(vqStickyNotes[d].node).qtip("destroy"),vqStickyNotes.splice(d,1))}}
function cvjs_StickyNotes_arrayIndex(a){var d;for(d in vqStickyNotes){var f=vqStickyNotes[d].data("node");if(f==a)return d}return-1}var firstX_c=0,firstY_c=0,lastX_c=0,lastY_c=0,flag_c=!1,tTransform_c="",tRubberBand_c,myText,delta=0;function cvjs_drawSpaceObject_Circle(){cvjs_addHandleFunc_Circle()}
function cvjs_addHandleFunc_Circle(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(0,0,1,1).attr({stroke:"#b00000","stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"});handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_circle,start_cvjs_create_circle,stop_cvjs_create_circle)}function cvjs_removeHandleFunc_Circle(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_circle=function(){flag_c=!1;tRubberBand_c.attr({stroke:"#b00000","stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"})},move_cvjs_create_circle=function(a,d,f,h){flag_c?(lastX_c=a,lastY_c=d):(firstX_c=f,firstY_c=h,lastX_c=a,lastY_c=d,flag_c=!0);delta=Math.sqrt(a*a+d*d);tTransform_c="t"+(firstX_c-delta_x)/global_scale+","+(firstY_c-delta_y)/global_scale;delta/=global_scale;tTransform_c+="S"+delta;tRubberBand_c.attr({transform:tTransform_c,opacity:"1"})},stop_cvjs_create_circle=
function(){tRubberBand_c.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});cvjs_removeHandleFunc_Circle();cvjs_addVqRoomsGraphics_newNode_circle(cvjs_currentNode_underbar,tRubberBand_c);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("Circle")};function cvjs_drawSpaceObject_RedlineCloud(){cvjs_addHandleFunc_RedlineCloud()}
function cvjs_addHandleFunc_RedlineCloud(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=
canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(0,0,1,1).attr({stroke:cvjs_currentRedline_color,
"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none","fill-opacity":"0.01",opacity:"0.01"});handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});
handleGroup.drag(move_cvjs_create_redlinecircle,start_cvjs_create_redlinecircle,stop_cvjs_create_redlinecircle)}}function cvjs_removeHandleFunc_RedlineCloud(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var start_cvjs_create_redlinecircle=function(){flag_c=!1;tRubberBand_c.attr({stroke:cvjs_currentRedline_color,"stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"})},move_cvjs_create_redlinecircle=function(a,d,f,h){flag_c?(lastX_c=a,lastY_c=d):(firstX_c=f,firstY_c=h,lastX_c=a,lastY_c=d,flag_c=!0);delta=Math.sqrt(a*a+d*d);tTransform_c="t"+(firstX_c-delta_x)/global_scale+","+(firstY_c-delta_y)/global_scale;delta/=global_scale;tTransform_c+="S"+delta;tRubberBand_c.attr({transform:tTransform_c,
opacity:"1"})},stop_cvjs_create_redlinecircle=function(){tRubberBand_c.attr({"stroke-width":cvjs_currentRedline_strokeWidth/delta*cvjs_redlineThickness_scaleFactor});tRubberBand_c.attr({transform:"S0",opacity:"1"});for(var a=delta,d=(firstX_c-delta_x)/global_scale,f=(firstY_c-delta_y)/global_scale,h=2*Math.PI/20,n=Math.sin(.5*h)*a,p=Math.PI/20,q,t,u="",v="",w=!0,x=0;20>x;x++){q=h*x+.5*h;t=d+a*Math.cos(q);y1=f+a*Math.sin(q);q-=.5*Math.PI;for(var A=0;20>A;A++){var y=t+n*Math.cos(q),B=y1+n*Math.sin(q);
w?(w=!1,u+="M"+y+","+B,v="L"+y+","+B):u+="L"+y+","+B;q+=p}}tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(u+v).attr({"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,stroke:cvjs_currentRedline_color,fill:"#FFF","fill-opacity":"0.01"});cvjs_removeHandleFunc_RedlineCloud();cvjs_addVqRedlinesGraphics_newNode(cvjs_currentRedline_underbar,tRubberBand_r);cvjs_graphicalObjectCreated("RedlineCloud")};
function cvjs_addRectangleCustomSpaceObject(a,d,f,h,n,p){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_id=f;currentNode_name=h;currentNode_layer=p;currentNode_attributes=currentNode_group="none";currentNode_attributeStatus="unpopulated";currentNode_type=n;currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,
currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked);cvjs_addHandleFunc_CustomRectangle(d,f,h,n)}function cvjs_drawSpaceObject_CustomRectangle(a,d,f,h){cvjs_addHandleFunc_CustomRectangle(a,d,f,h)}var cvjs_customSvgImagePath="",cvjs_customSpaceObjectId="",cvjs_customSpaceObjectType="",cvjs_customSpaceObjectName="";
function cvjs_addHandleFunc_CustomRectangle(a,d,f,h){cvjs_customSvgImagePath=a;cvjs_customSpaceObjectId=d;cvjs_customSpaceObjectType=h;cvjs_customSpaceObjectName=f;tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=
cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_custom_rectangle,start_cvjs_create_custom_rectangle,stop_cvjs_create_custom_rectangle)}
function cvjs_removeHandleFunc_CustomRectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_custom_rectangle=function(){flag_rectangle=!1;tRubberBand_r.attr({stroke:"#b00000",fill:"none"})},move_cvjs_create_custom_rectangle=function(a,d,f,h){flag_rectangle?(lastX_r=a,lastY_r=d):(firstX_r=f,firstY_r=h,lastX_r=a,lastY_r=d,flag_rectangle=!0);tPath_r="M"+(firstX_r-delta_x)/global_scale+","+(firstY_r-delta_y)/global_scale;tPath_r+="h"+lastX_r/global_scale+"v"+lastY_r/global_scale+"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");tRubberBand_r.attr({path:tPath_r})},
stop_cvjs_create_custom_rectangle=function(){tRubberBand_r.remove();cvjs_removeHandleFunc_CustomRectangle();var a=cvjs_rPaper[cvjs_active_floorplan_div_nr].image(cvjs_customSvgImagePath,(firstX_r-delta_x)/global_scale,(firstY_r-delta_y)/global_scale,Math.abs(lastX_r/global_scale),Math.abs(lastY_r/global_scale)),d=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});d.attr({path:tPath_r});d.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});
d.attr({id:"cv_"+cvjs_currentNode_underbar,"cvjs:node":cvjs_currentNode_underbar,"cvjs:roomId":cvjs_customSpaceObjectId,"cvjs:name":cvjs_customSpaceObjectName,"class":"cvjs_nodes","cvjs:type":cvjs_customSpaceObjectType});a.attr({id:"cv_"+cvjs_currentNode_underbar+"_image"});jQuery("#cv_"+cvjs_currentNode_underbar+"_image").css("pointer-events","none");cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,d);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);
cvjs_graphicalObjectCreated("Rectangle");var f={};jQuery("*[id]").each(function(){try{var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(f[a]||(f[a]=!0))}catch(u){console.log(u+" XX"+a+"XX")}});a=0;for(var h in f)try{var n=jQuery("#"+h).attr("id");if(0==n.indexOf("cv_")&&0!=n.indexOf("cv_NODE")){d=0;0==n.indexOf("cv_")&&(d=n.substring(3));var p=parseInt(d);p>a&&(a=p)}}catch(q){console.log(q+
" XX"+id+"XX")}a="cv_"+a;jQuery("#cv_"+cvjs_currentNode_underbar).insertBefore("#cv_"+cvjs_currentNode_underbar+"_image")};lastY_r=lastX_r=firstY_r=firstX_r=0;flag_rectangle=!1;function cvjs_drawSpaceObject_Rectangle(){cvjs_addHandleFunc_Rectangle()}
function cvjs_addHandleFunc_Rectangle(){tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=
canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_rectangle,start_cvjs_create_rectangle,stop_cvjs_create_rectangle)}function cvjs_removeHandleFunc_Rectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_rectangle=function(){flag_rectangle=!1;tRubberBand_r.attr({stroke:"#b00000",fill:"none"})},move_cvjs_create_rectangle=function(a,d,f,h){flag_rectangle?(lastX_r=a,lastY_r=d):(firstX_r=f,firstY_r=h,lastX_r=a,lastY_r=d,flag_rectangle=!0);tPath_r="M"+(firstX_r-delta_x)/global_scale+","+(firstY_r-delta_y)/global_scale;tPath_r+="h"+lastX_r/global_scale+"v"+lastY_r/global_scale+"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");tRubberBand_r.attr({path:tPath_r})},stop_cvjs_create_rectangle=
function(){tRubberBand_r.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});cvjs_removeHandleFunc_Rectangle();cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,tRubberBand_r);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("Rectangle")},firstX_r_redline=0,firstY_r_redline=0,lastX_r_redline=0,lastY_r_redline=0,flag_rectangle_redline=!1,tPath_r_redline,tRubberBand_r_redline;
function cvjs_drawSpaceObject_RedlineRectangle(){cvjs_addHandleFunc_RedlineRectangle()}
function cvjs_addHandleFunc_RedlineRectangle(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;tPath_r_redline="M"+firstX_r_redline+","+firstY_r_redline;tRubberBand_r_redline=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r_redline).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();
canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*
global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});
handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_rectangle_redline,start_cvjs_create_rectangle_redline,stop_cvjs_create_rectangle_redline)}}
function cvjs_removeHandleFunc_RedlineRectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var start_cvjs_create_rectangle_redline=function(){flag_rectangle_redline=!1;tRubberBand_r_redline.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none"})},move_cvjs_create_rectangle_redline=function(a,d,f,h){flag_rectangle_redline?(lastX_r_redline=a,lastY_r_redline=d):(firstX_r_redline=f,firstY_r_redline=h,lastX_r_redline=a,lastY_r_redline=d,flag_rectangle_redline=!0);tPath_r_redline="M"+(firstX_r_redline-delta_x)/global_scale+
","+(firstY_r_redline-delta_y)/global_scale;tPath_r_redline+="h"+lastX_r_redline/global_scale+"v"+lastY_r_redline/global_scale+"h"+-lastX_r_redline/global_scale+"v"+(-lastY_r_redline/global_scale+" Z");tRubberBand_r_redline.attr({path:tPath_r_redline})},stop_cvjs_create_rectangle_redline=function(){tRubberBand_r_redline.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01"});cvjs_removeHandleFunc_RedlineRectangle();
cvjs_addVqRedlinesGraphics_newNode(cvjs_currentRedline_underbar,tRubberBand_r_redline);cvjs_graphicalObjectCreated("RedlineRectangle")},cvjs_ellipseCloudFlag=!1;function cvjs_drawSpaceObject_RedlineEllipseCloud(){cvjs_ellipseCloudFlag=!0;cvjs_addHandleFunc_RedlineEllipse()}function cvjs_drawSpaceObject_RedlineEllipse(){cvjs_ellipseCloudFlag=!1;cvjs_addHandleFunc_RedlineEllipse()}
function cvjs_addHandleFunc_RedlineEllipse(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;tPath_r_redline="M"+firstX_r_redline+","+firstY_r_redline;tRubberBand_r_redline=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r_redline).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();
canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*
global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});
handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_ellipse_redline,start_cvjs_create_ellipse_redline,stop_cvjs_create_ellipse_redline)}}function cvjs_removeHandleFunc_RedlineEllipse(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var start_cvjs_create_ellipse_redline=function(){flag_rectangle_redline=!1;tRubberBand_r_redline.attr({stroke:"#5D5D5D","stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none"});tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].ellipse(0,0,1,1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none","fill-opacity":"0.01",opacity:"0.01"});tRubberBand_c.attr({stroke:cvjs_currentRedline_color,
"stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"})},move_cvjs_create_ellipse_redline=function(a,d,f,h){flag_rectangle_redline?(lastX_r_redline=a,lastY_r_redline=d):(firstX_r_redline=f,firstY_r_redline=h,lastX_r_redline=a,lastY_r_redline=d,flag_rectangle_redline=!0);tPath_r_redline="M"+(firstX_r_redline-delta_x)/global_scale+","+(firstY_r_redline-delta_y)/global_scale;tPath_r_redline+="h"+lastX_r_redline/global_scale+"v"+lastY_r_redline/global_scale+"h"+-lastX_r_redline/global_scale+
"v"+(-lastY_r_redline/global_scale+" Z");tRubberBand_r_redline.attr({path:tPath_r_redline});f="T"+((firstX_r_redline-delta_x)/global_scale+lastX_r_redline/global_scale/2)+","+((firstY_r_redline-delta_y)/global_scale+lastY_r_redline/global_scale/2)+"S"+lastX_r_redline/global_scale/2+","+lastY_r_redline/global_scale/2;if(cvjs_ellipseCloudFlag){tRubberBand_c.remove();a=2*Math.PI/20;d=lastX_r_redline/global_scale/2*(1/(1+Math.sin(.5*a)));var n=lastY_r_redline/global_scale/2*(1/(1+Math.sin(.5*a)));f=(firstX_r_redline-
delta_x)/global_scale+lastX_r_redline/global_scale/2;h=(firstY_r_redline-delta_y)/global_scale+lastY_r_redline/global_scale/2;for(var p=Math.sin(.5*a)*d,q=Math.sin(.5*a)*n,t=Math.PI/20,u,v,w="",x="",A=!0,y=0;20>y;y++){u=a*y+.5*a;v=f+d*Math.cos(u);y1=h+n*Math.sin(u);u-=.5*Math.PI;for(var B=0;20>B;B++){var z=v+p*Math.cos(u),C=y1+q*Math.sin(u);A?(A=!1,w+="M"+z+","+C,x="L"+z+","+C):w+="L"+z+","+C;u+=t}}tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(w+x).attr({"stroke-width":cvjs_currentRedline_strokeWidth*
cvjs_redlineThickness_scaleFactor,stroke:cvjs_currentRedline_color,fill:"#FFF","fill-opacity":"0.01"})}else tRubberBand_c.attr({transform:f,opacity:"1"})},stop_cvjs_create_ellipse_redline=function(){tRubberBand_c.attr({transform:"T0,0S0.001",opacity:"1"});tRubberBand_c.remove();tPath_r_redline="M0,0";tPath_r_redline+="h0v0h0v0 Z";tRubberBand_r_redline.attr({path:tPath_r_redline});tRubberBand_r_redline.remove();cvjs_removeHandleFunc_RedlineEllipse();if(cvjs_ellipseCloudFlag){for(var a=2*Math.PI/20,
d=lastX_r_redline/global_scale/2*(1/(1+Math.sin(.5*a))),f=lastY_r_redline/global_scale/2*(1/(1+Math.sin(.5*a))),h=(firstX_r_redline-delta_x)/global_scale+lastX_r_redline/global_scale/2,n=(firstY_r_redline-delta_y)/global_scale+lastY_r_redline/global_scale/2,p=Math.sin(.5*a)*d,q=Math.sin(.5*a)*f,t=Math.PI/20,u,v,w="",x="",A=!0,y=0;20>y;y++){u=a*y+.5*a;v=h+d*Math.cos(u);y1=n+f*Math.sin(u);u-=.5*Math.PI;for(var B=0;20>B;B++){var z=v+p*Math.cos(u),C=y1+q*Math.sin(u);A?(A=!1,w+="M"+z+","+C,x="L"+z+","+
C):w+="L"+z+","+C;u+=t}}tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(w+x).attr({"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,stroke:cvjs_currentRedline_color,fill:"#FFF","fill-opacity":"0.01"});cvjs_addVqRedlinesGraphics_newNode(cvjs_currentRedline_underbar,tRubberBand_r);cvjs_graphicalObjectCreated("RedlineEllipseCloud")}else tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].ellipse((firstX_r_redline-delta_x)/global_scale+lastX_r_redline/
global_scale/2,(firstY_r_redline-delta_y)/global_scale+lastY_r_redline/global_scale/2,lastX_r_redline/global_scale/2,lastY_r_redline/global_scale/2).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01",opacity:"0.9"}),cvjs_addVqRedlinesGraphics_newNode(cvjs_currentRedline_underbar,tRubberBand_c),cvjs_graphicalObjectCreated("RedlineCloud")};
function cvjs_drawSpaceObject_FilledRedlineRectangle(){cvjs_addHandleFunc_FilledRedlineRectangle()}
function cvjs_addHandleFunc_FilledRedlineRectangle(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;tPath_r_redline="M"+firstX_r_redline+","+firstY_r_redline;tRubberBand_r_redline=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r_redline).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:cvjs_currentRedline_color,"fill-opacity":"0.1"});canvas_width=
jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*
global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff",
"fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_create_filledrectangle_redline,start_cvjs_create_filledrectangle_redline,stop_cvjs_create_filledrectangle_redline)}}
function cvjs_removeHandleFunc_FilledRedlineRectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var start_cvjs_create_filledrectangle_redline=function(){flag_rectangle_redline=!1;tRubberBand_r_redline.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:cvjs_currentRedline_color,"fill-opacity":"0.1"})},move_cvjs_create_filledrectangle_redline=function(a,d,f,h){flag_rectangle_redline?(lastX_r_redline=a,lastY_r_redline=d):(firstX_r_redline=f,firstY_r_redline=h,lastX_r_redline=a,lastY_r_redline=d,flag_rectangle_redline=!0);
tPath_r_redline="M"+(firstX_r_redline-delta_x)/global_scale+","+(firstY_r_redline-delta_y)/global_scale;tPath_r_redline+="h"+lastX_r_redline/global_scale+"v"+lastY_r_redline/global_scale+"h"+-lastX_r_redline/global_scale+"v"+(-lastY_r_redline/global_scale+" Z");tRubberBand_r_redline.attr({path:tPath_r_redline})},stop_cvjs_create_filledrectangle_redline=function(){tRubberBand_r_redline.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,
fill:cvjs_currentRedline_color,"fill-opacity":"0.1"});cvjs_removeHandleFunc_FilledRedlineRectangle();cvjs_addVqRedlinesGraphics_newNodeFill(cvjs_currentRedline_underbar,tRubberBand_r_redline,cvjs_currentRedline_color,.1);cvjs_graphicalObjectCreated("FilledRedlineRectangle")},firstX_mr=0,firstY_mr=0,lastX_mr=0,lastY_mr=0,flag_mrectangle=!1,tPath_mr,tRubberBand_mr,x_mr,y_mr,width_mr,height_mr;
function cvjs_addHandleFunc_ModifyRectangle(a){var d;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc]);a=d.toString();d=d.getBBox();x_mr=d.x;y_mr=d.y;width_mr=d.width;height_mr=d.height;if(-1<a.indexOf("path")){var f=a.indexOf(" d=");f=a.substring(f+4);d=f.indexOf('" ');f=f.substring(0,d)}if(-1<a.indexOf("circle")){d=a.indexOf(" cx=");d=a.substring(d+5);var h=d.indexOf('"');d.substring(0,h);d=
a.indexOf(" cy=");d=a.substring(d+5);h=d.indexOf('"');d.substring(0,h);d=a.indexOf(" r=");a=a.substring(d+4);d=a.indexOf('"');a.substring(0,d)}tPath_mr=f;tRubberBand_mr=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_mr).attr({stroke:"#FF00AA",fill:"none","stroke-width":4});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=
cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_modify_rectangle,start_cvjs_modify_rectangle,stop_cvjs_modify_rectangle)}
function cvjs_removeHandleFunc_ModifyRectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_modify_rectangle=function(){flag_mrectangle=!1;tRubberBand_mr.attr({stroke:"#FF00AA",fill:"none","stroke-width":4})},move_cvjs_modify_rectangle=function(a,d,f,h){f=(f-delta_x)/global_scale;h=(h-delta_y)/global_scale;var n=height_mr/2,p=width_mr/2;f<x_mr+p&&h<y_mr+n&&!flag_mrectangle&&(flag_mrectangle=!0,firstX_mr=x_mr+width_mr,firstY_mr=y_mr+height_mr,lastX_mr=-width_mr,lastY_mr=-height_mr);f>=x_mr+p&&h<y_mr+n&&!flag_mrectangle&&(flag_mrectangle=!0,firstX_mr=x_mr,firstY_mr=y_mr+height_mr,
lastX_mr=width_mr,lastY_mr=-height_mr);f<x_mr+p&&h>=y_mr+n&&!flag_mrectangle&&(flag_mrectangle=!0,firstX_mr=x_mr+width_mr,firstY_mr=y_mr,lastX_mr=-width_mr,lastY_mr=height_mr);f>=x_mr+p&&h>=y_mr+n&&!flag_mrectangle&&(flag_mrectangle=!0,firstX_mr=x_mr,firstY_mr=y_mr,lastX_mr=width_mr,lastY_mr=height_mr);tPath_mr="M"+firstX_mr+","+firstY_mr;tPath_mr+="h"+(lastX_mr+a/global_scale)+"v"+(lastY_mr+d/global_scale)+"h"+(-lastX_mr-a/global_scale)+"v"+(-lastY_mr-d/global_scale)+" Z";tRubberBand_mr.attr({path:tPath_mr})},
stop_cvjs_modify_rectangle=function(){},tb_nodeUnderbarIndex=0,tborderIndex=0,quardrant=0,tTransform_tb="",tTransform_tborder="";function cvjs_dynamicResizeTextOnSpaceObject(a){cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject(a)}
function cvjs_dynamicResizeTextOnSpaceObject_Name(a){var d=-1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("name")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"));cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject(d)}
function cvjs_dynamicResizeTextOnSpaceObject_Id(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a&&vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject(a)}var cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject_started=!1;
function cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject(a){var d=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("tborderId"),vqRooms[cvjs_active_floorplan_div_nr][spc].data("textId"),vqRooms[cvjs_active_floorplan_div_nr][spc].attr(hide),tb_nodeUnderbarIndex=spc);cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject_started=!0;for(bdr in vqTBorder)vqTBorder[bdr].data("node")==d&&
(tborderIndex=bdr,vqTBorder[bdr].attr({fill:"none","stoke-width":"12.0",stroke:"#ff00dd","stroke-opacity":"1"}),vqTBorder[bdr].attr(show));tTransform_tb=tTransform_c="";canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/
viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],
actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.drag(move_cvjs_modify_tbordertext,start_cvjs_modify_tbordertext,stop_cvjs_modify_tbordertext);handleGroup.dblclick(finish_cvjs_modify_tbordertext);oldKeyDown=jQuery(document).keydown().bind({});jQuery(document).keydown(function(a){27==a.keyCode&&
cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject_started&&(cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject_started=!1,finish_cvjs_modify_tbordertext(),jQuery(document).keydown()==oldKeyDown)})}function cvjs_removeHandleFunc_ModifyTBorderWithText(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_addHandleFunc_ModifyTborderWithTextOnSpaceObject_started=!1}
var finish_cvjs_modify_tbordertext=function(){cvjs_removeHandleFunc_ModifyTBorderWithText();vqRooms[cvjs_active_floorplan_div_nr][tb_nodeUnderbarIndex].attr(show);vqTBorder[tborderIndex].attr({fill:"none","stoke-width":"0.1",stroke:"#000000","stroke-opacity":"0.01"})},start_cvjs_modify_tbordertext=function(a,d){flag_mrectangle=!1;x_mr=vqTBorder[tborderIndex].getBBox().x;y_mr=vqTBorder[tborderIndex].getBBox().y;width_mr=vqTBorder[tborderIndex].getBBox().w;height_mr=vqTBorder[tborderIndex].getBBox().h;
a=(a-delta_x)/global_scale;d=(d-delta_y)/global_scale;var f=height_mr/2,h=width_mr/2;a<x_mr+h&&d<y_mr+f&&!flag_mrectangle&&(flag_mrectangle=!0,quardrant=1);a>=x_mr+h&&d<y_mr+f&&!flag_mrectangle&&(flag_mrectangle=!0,quardrant=2);a>=x_mr+h&&d>=y_mr+f&&!flag_mrectangle&&(flag_mrectangle=!0,quardrant=3);a<x_mr+h&&d>=y_mr+f&&!flag_mrectangle&&(flag_mrectangle=!0,quardrant=4)},move_cvjs_modify_tbordertext=function(a,d,f,h){switch(quardrant){case 1:tTransform_c=tTransform_tb+"t"+(+a/global_scale-d/global_scale*
width_mr*.5/height_mr)+","+(+d/global_scale-d/global_scale*height_mr*.5/height_mr);tTransform_c+="S"+(height_mr-d/global_scale)/height_mr;tTransform_tborder="t"+(+a/global_scale-d/global_scale*width_mr*.5/height_mr)+","+(+d/global_scale-d/global_scale*height_mr*.5/height_mr);tTransform_tborder+="S"+(height_mr-d/global_scale)/height_mr;vqTBorder[tborderIndex].attr({transform:tTransform_c,opacity:"1"});break;case 2:tTransform_c=tTransform_tb+"t"+(+a/global_scale+d/global_scale*width_mr*.5/height_mr)+
","+(+d/global_scale-d/global_scale*height_mr*.5/height_mr);tTransform_c+="S"+(height_mr-d/global_scale)/height_mr;tTransform_tborder="t"+(+a/global_scale+d/global_scale*width_mr*.5/height_mr)+","+(+d/global_scale-d/global_scale*height_mr*.5/height_mr);tTransform_tborder+="S"+(height_mr-d/global_scale)/height_mr;vqTBorder[tborderIndex].attr({transform:tTransform_c,opacity:"1"});break;case 3:tTransform_c=tTransform_tb+"t"+(+a/global_scale-d/global_scale*width_mr*.5/height_mr)+","+(+d/global_scale-
d/global_scale*height_mr*.5/height_mr);tTransform_c+="S"+(height_mr+d/global_scale)/height_mr;tTransform_tborder="t"+(+a/global_scale-d/global_scale*width_mr*.5/height_mr)+","+(+d/global_scale-d/global_scale*height_mr*.5/height_mr);tTransform_tborder+="S"+(height_mr+d/global_scale)/height_mr;vqTBorder[tborderIndex].attr({transform:tTransform_c,opacity:"1"});break;case 4:tTransform_c=tTransform_tb+"t"+(+a/global_scale+d/global_scale*width_mr*.5/height_mr)+","+(+d/global_scale-d/global_scale*height_mr*
.5/height_mr);tTransform_c+="S"+(height_mr+d/global_scale)/height_mr;tTransform_tborder="t"+(+a/global_scale+d/global_scale*width_mr*.5/height_mr)+","+(+d/global_scale-d/global_scale*height_mr*.5/height_mr);tTransform_tborder+="S"+(height_mr+d/global_scale)/height_mr;vqTBorder[tborderIndex].attr({transform:tTransform_c,opacity:"1"});break;default:console.log("Default quardrant move")}},stop_cvjs_modify_tbordertext=function(){tTransform_tb+=tTransform_tborder};
function cvjs_resetTextOnSpaceObject(a){var d=0,f=0,h=!1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("tborderId"));for(bdr in vqTBorder)vqTBorder[bdr].data("node")==d&&(f=bdr,h=!0);h&&vqTBorder[f].attr({transform:"T0,0S1.0"})}
function cvjs_resetTextOnSpaceObject_Name(a){var d=0,f=0,h=!1;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("name")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("tborderId"));for(bdr in vqTBorder)vqTBorder[bdr].data("node")==d&&(f=bdr,h=!0);h&&vqTBorder[f].attr({transform:"T0,0S1.0"})}
function cvjs_resetTextOnSpaceObject_Id(a){var d=!1,f=0,h=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a&&(f=vqRooms[cvjs_active_floorplan_div_nr][spc].data("tborderId"));for(bdr in vqTBorder)vqTBorder[bdr].data("node")==f&&(h=bdr,d=!0);d&&vqTBorder[h].attr({transform:"T0,0S1.0"})}
var originX_poly=0,originY_poly=0,firstX_poly=0,firstY_poly=0,lastX_poly=400,lastY_poly=300,tPath_poly,tRubberBand_poly,polyPath,tPolygon,draw_poly=!1,first_point_poly=!0;function cvjs_drawSpaceObject_Polygon(){cvjs_addHandleFunc_Polygon()}var cvjs_addHandleFunc_Polygon_started=!1;
function cvjs_addHandleFunc_Polygon(){cvjs_addHandleFunc_Polygon_started=!0;tPath_poly="M"+firstX_poly+","+firstY_poly;tRubberBand_poly=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly).attr({stroke:"#b00000"});polyPath="M"+firstX_poly+","+firstY_poly;tPolygon=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();
var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*
global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly=!1;first_point_poly=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_polygon);
handleGroup.mousemove(mousemove_polygon);handleGroup.dblclick(polygon_finish);oldKeyDown=jQuery(document).keydown().bind({});jQuery(document).keydown(function(a){27==a.keyCode&&cvjs_addHandleFunc_Polygon_started&&(cvjs_addHandleFunc_Polygon_started=!1,polygon_finish(),jQuery(document).keydown()==oldKeyDown)})}function cvjs_removeHandleFunc_Polygon(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var polygon_finish=function(){polyPath+="L"+(lastX_poly-delta_x)/global_scale+","+(lastY_poly-delta_y)/global_scale+"L"+(originX_poly-delta_x)/global_scale+","+(originY_poly-delta_y)/global_scale;tPolygon.attr({path:polyPath});tPolygon.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});cvjs_removeHandleFunc_Polygon();tRubberBand_poly.attr({path:"M0,0"});draw_poly=!1;first_point_poly=!0;cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,tPolygon);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],
cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("Polygon")},mousedown_polygon=function(){draw_poly?(polyPath+="L"+(lastX_poly-delta_x)/global_scale+","+(lastY_poly-delta_y)/global_scale,tPolygon.attr({path:polyPath}),firstX_poly=lastX_poly,firstY_poly=lastY_poly):(polyPath="M"+(firstX_poly-delta_x)/global_scale+","+(firstY_poly-delta_y)/global_scale,tPolygon.attr({path:polyPath}),tPolygon.attr({stroke:"#b00000",fill:"none"}),draw_poly=!0)},mousemove_polygon=function(a,d,f){draw_poly&&(first_point_poly?
(first_point_poly=!1,firstX_poly=d,firstY_poly=f,lastX_poly=d,lastY_poly=f,originX_poly=d,originY_poly=f,polyPath="M"+(firstX_poly-delta_x)/global_scale+","+(firstY_poly-delta_y)/global_scale):(lastX_poly=d,lastY_poly=f),tPath_poly="M"+(firstX_poly-delta_x)/global_scale+","+(firstY_poly-delta_y)/global_scale,tPath_poly+="L"+(lastX_poly-delta_x)/global_scale+","+(lastY_poly-delta_y)/global_scale,tRubberBand_poly.attr({path:tPath_poly}))};
firstY_poly_redline1=firstX_poly_redline1=originY_poly_redline1=originX_poly_redline1=0;lastX_poly_redline1=400;lastY_poly_redline1=300;draw_poly_redline1=!1;first_point_poly_redline1=!0;function cvjs_drawSpaceObject_RedlinePolyline(){cvjs_addHandleFunc_RedlinePolyline()}var cvjs_addHandleFunc_RedlinePolyline_started=!1;
function cvjs_addHandleFunc_RedlinePolyline(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_addHandleFunc_RedlinePolyline_started=cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;tPath_poly_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tRubberBand_poly_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,
fill:"#FFF","fill-opacity":"0.01"});polyPath_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tPolygon_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();
var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*
global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_redline1=!1;first_point_poly_redline1=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});
handleGroup.mousedown(mousedown_polygon_redline1);handleGroup.mousemove(mousemove_polygon_redline1);handleGroup.dblclick(polygon_finish_redline1);oldKeyDown=jQuery(document).keydown().bind({});jQuery(document).keydown(function(a){27==a.keyCode&&cvjs_addHandleFunc_RedlinePolyline_started&&(cvjs_addHandleFunc_RedlinePolyline_started=!1,polygon_finish_redline1(),jQuery(document).keydown()==oldKeyDown)})}}
function cvjs_removeHandleFunc_RedlinePolyline(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var polygon_finish_redline1=function(){polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale;tPolygon_redline1.attr({path:polyPath_redline1});cvjs_removeHandleFunc_RedlinePolyline();tRubberBand_poly_redline1.attr({path:"M0,0"});draw_poly_redline1=!1;first_point_poly_redline1=!0;cvjs_addVqRedlinesGraphics_newNode(cvjs_currentRedline_underbar,tPolygon_redline1);cvjs_graphicalObjectCreated("RedlinePolyline")},mousedown_polygon_redline1=function(){draw_poly_redline1?
(polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),firstX_poly_redline1=lastX_poly_redline1,firstY_poly_redline1=lastY_poly_redline1):(polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),tPolygon_redline1.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*
cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01"}),draw_poly_redline1=!0)},mousemove_polygon_redline1=function(a,d,f){draw_poly_redline1&&(first_point_poly_redline1?(first_point_poly_redline1=!1,firstX_poly_redline1=d,firstY_poly_redline1=f,lastX_poly_redline1=d,lastY_poly_redline1=f,originX_poly_redline1=d,originY_poly_redline1=f,polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale):(lastX_poly_redline1=d,lastY_poly_redline1=
f),tPath_poly_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPath_poly_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tRubberBand_poly_redline1.attr({path:tPath_poly_redline1}))},lastX_poly_redline_pre,lastY_poly_redline_pre;function cvjs_drawSpaceObject_RedlineArrowPolyline(){cvjs_addHandleFunc_RedlineArrowPolyline()}var cvjs_addHandleFunc_RedlineArrowPolyline_started=!1;
function cvjs_addHandleFunc_RedlineArrowPolyline(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_addHandleFunc_RedlineArrowPolyline_started=cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;tPath_poly_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tRubberBand_poly_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,
fill:"none"});polyPath_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tPolygon_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/
2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_redline1=!1;first_point_poly_redline1=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_polygon_redline3);
handleGroup.mousemove(mousemove_polygon_redline3);handleGroup.dblclick(polygon_finish_redline3);oldKeyDown=jQuery(document).keydown().bind({});jQuery(document).keydown(function(a){27==a.keyCode&&cvjs_addHandleFunc_RedlineArrowPolyline_started&&(cvjs_addHandleFunc_RedlineArrowPolyline_started=!1,polygon_finish_redline3(),jQuery(document).keydown()==oldKeyDown)})}}
function cvjs_removeHandleFunc_RedlineArrowPolyline(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var polygon_finish_redline3=function(){var a=polyPath_redline1.substring(0,polyPath_redline1.lastIndexOf("L"));a=a.substring(0,a.lastIndexOf("L"));a=a.substring(a.lastIndexOf("L")+1);-1<a.indexOf("M")&&(a=a.substring(a.lastIndexOf("M")+1));a=a.split(",");var d=Number(a[0]),f=Number(a[1]);a=cvjs_currentRedline_strokeWidth;3<cvjs_currentRedline_strokeWidth&&(a=3+(cvjs_currentRedline_strokeWidth-3)/2);a*=cvjs_redlineThickness_scaleFactor;a=-4.5*a+","+5.5*a+" "+.5*a+","+-4.5*a+" "+5.5*a+","+5.5*a;d="T"+
(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale+"r"+(Math.atan2((lastY_poly_redline1-delta_y)/global_scale-f,(lastX_poly_redline1-delta_x)/global_scale-d)/Math.PI*180-270);f=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(a);f.attr({fill:cvjs_currentRedline_color,transform:d});polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale;tPolygon_redline1.attr({path:polyPath_redline1});cvjs_removeHandleFunc_RedlineArrowPolyline();
tRubberBand_poly_redline1.attr({path:"M0,0"});f=cvjs_rPaper[cvjs_active_floorplan_div_nr].g(f,tPolygon_redline1);draw_poly_redline1=!1;first_point_poly_redline1=!0;cvjs_addVqRedlinesGraphics_newNodeTrans(cvjs_currentRedline_underbar,f,d,a,polyPath_redline1);cvjs_graphicalObjectCreated("RedlineArrowPolyline")},mousedown_polygon_redline3=function(){draw_poly_redline1?(firstX_poly_redline1!=lastX_poly_redline1&&(lastX_poly_redline_pre=lastX_poly_redline1,lastY_poly_redline_pre=lastY_poly_redline1),polyPath_redline1+=
"L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),firstX_poly_redline1=lastX_poly_redline1,firstY_poly_redline1=lastY_poly_redline1):(polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),tPolygon_redline1.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,
fill:"#FFF","fill-opacity":"0.01"}),draw_poly_redline1=!0)},mousemove_polygon_redline3=function(a,d,f){draw_poly_redline1&&(first_point_poly_redline1?(first_point_poly_redline1=!1,firstX_poly_redline1=d,firstY_poly_redline1=f,lastX_poly_redline1=d,lastY_poly_redline1=f,originX_poly_redline1=d,originY_poly_redline1=f,polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale):(lastX_poly_redline1=d,lastY_poly_redline1=f),tPath_poly_redline1="M"+
(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPath_poly_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tRubberBand_poly_redline1.attr({path:tPath_poly_redline1}))};function cvjs_drawSpaceObject_RedlineFilledPolygon(){cvjs_addHandleFunc_RedlineFilledPolygon()}var cvjs_addHandleFunc_RedlineFilledPolygon_started=!1;
function cvjs_addHandleFunc_RedlineFilledPolygon(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_addHandleFunc_RedlineFilledPolygon_started=cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;tPath_poly_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tRubberBand_poly_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,
fill:cvjs_currentRedline_color,"fill-opacity":"0.1"});polyPath_redline1="M"+firstX_poly_redline1+","+firstY_poly_redline1;tPolygon_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:cvjs_currentRedline_color,"fill-opacity":"0.1"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();
var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*
global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_redline1=!1;first_point_poly_redline1=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});
handleGroup.mousedown(mousedown_polygon_redline2);handleGroup.mousemove(mousemove_polygon_redline2);handleGroup.dblclick(polygon_finish_redline2);oldKeyDown=jQuery(document).keydown().bind({});jQuery(document).keydown(function(a){27==a.keyCode&&cvjs_addHandleFunc_RedlineFilledPolygon_started&&(cvjs_addHandleFunc_RedlineFilledPolygon_started=!1,polygon_finish_redline2(),jQuery(document).keydown()==oldKeyDown)})}}
function cvjs_removeHandleFunc_RedlineFilledPolygon(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var polygon_finish_redline2=function(){polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale+"L"+(originX_poly_redline1-delta_x)/global_scale+","+(originY_poly_redline1-delta_y)/global_scale+"Z";tPolygon_redline1.attr({path:polyPath_redline1});cvjs_removeHandleFunc_RedlineFilledPolygon();tRubberBand_poly_redline1.attr({path:"M0,0"});draw_poly_redline1=!1;first_point_poly_redline1=!0;cvjs_addVqRedlinesGraphics_newNodeFill(cvjs_currentRedline_underbar,
tPolygon_redline1,cvjs_currentRedline_color,.1);cvjs_graphicalObjectCreated("RedlineFilledPolygon")},mousedown_polygon_redline2=function(){draw_poly_redline1?(polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),firstX_poly_redline1=lastX_poly_redline1,firstY_poly_redline1=lastY_poly_redline1):(polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/
global_scale,tPolygon_redline1.attr({path:polyPath_redline1}),tPolygon_redline1.attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:cvjs_currentRedline_color,"fill-opacity":"0.1"}),draw_poly_redline1=!0)},mousemove_polygon_redline2=function(a,d,f){draw_poly_redline1&&(first_point_poly_redline1?(first_point_poly_redline1=!1,firstX_poly_redline1=d,firstY_poly_redline1=f,lastX_poly_redline1=d,lastY_poly_redline1=f,originX_poly_redline1=
d,originY_poly_redline1=f,polyPath_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale):(lastX_poly_redline1=d,lastY_poly_redline1=f),tPath_poly_redline1="M"+(firstX_poly_redline1-delta_x)/global_scale+","+(firstY_poly_redline1-delta_y)/global_scale,tPath_poly_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale,tRubberBand_poly_redline1.attr({path:tPath_poly_redline1}))},originX_poly_red=0,originY_poly_red=
0,firstX_poly_red=0,firstY_poly_red=0,lastX_poly_red=400,lastY_poly_red=300,tPath_poly_red,tRubberBand_poly_red,polyPath_red,tPolygon_red,draw_poly_red=!1,first_point_poly_red=!0,scaleRedline_LineSize=1,scaleFactor_RedlineLineSize=200;
function cvjs_addHandleFunc_RedlinePolygonFreehand(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;scaleRedline_LineSize=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/scaleFactor_RedlineLineSize:(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr])/scaleFactor_RedlineLineSize;tPath_poly_red="M"+firstX_poly_red+","+firstY_poly_red;tRubberBand_poly_red=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_poly_red).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"none"});polyPath_red="M"+firstX_poly_red+","+firstY_poly_red;tPolygon_red=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_red).attr({stroke:cvjs_currentRedline_color,
"stroke-width":cvjs_currentRedline_strokeWidth*cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];
global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;draw_poly_red=!1;first_point_poly_red=!0;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],
actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_redlinepolygon);handleGroup.mousemove(mousemove_redlinepolygon);handleGroup.mouseup(redlinepolygon_finish)}}
function cvjs_removeHandleFunc_RedlinePolygonFreehand(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var redlinepolygon_finish=function(){polyPath_red+="L"+(lastX_poly_red-delta_x)/global_scale+","+(lastY_poly_red-delta_y)/global_scale+"L"+(originX_poly_red-delta_x)/global_scale+","+(originY_poly_red-delta_y)/global_scale;tPolygon_red.attr({path:polyPath_red});cvjs_removeHandleFunc_RedlinePolygonFreehand();tRubberBand_poly_red.attr({path:"M0,0"});draw_poly_red=!1;first_point_poly_red=!0;cvjs_addVqRedlinesGraphics_newNode(cvjs_currentRedline_underbar,tPolygon_red);cvjs_graphicalObjectCreated("RedlineFreehand")};
function cvjs_setUpVqRedlines_currentNode(a,d){for(var f in vqRedlines)redline_node=vqRedlines[f].data("node"),redline_node==d&&(vqRedlines[f].data("name",cvjs_currentRedline_name),vqRedlines[f].data("id",cvjs_currentRedline_id),vqRedlines[f].data("layer",cvjs_currentRedline_layer),vqRedlines[f].data("group",cvjs_currentRedline_group),vqRedlines[f].data("color",cvjs_currentRedline_color),vqRedlines[f].data("strokeWidth",cvjs_currentRedline_strokeWidth),vqRedlines[f].data("fill",cvjs_currentRedline_fill),
vqRedlines[f].data("fill_opacity",cvjs_currentRedline_fill_opacity),vqRedlines[f].data("transform",cvjs_currentRedline_transform),vqRedlines[f].data("username",cvjs_currentRedline_username),vqRedlines[f].data("userid",cvjs_currentRedline_userid),vqRedlines[f].data("currentPage",cvjs_currentRedline_currentPage),vqRedlines[f].data("triangle_design",cvjs_currentRedline_triangle_design),vqRedlines[f].data("polypath_arrow",cvjs_currentRedline_polypath_arrow),vqRedlines[f].data("redline_text",cvjs_currentRedline_redline_text),
vqRedlines[f].data("drawingRotation",cvjs_currentRedline_drawingRotation))}
function cvjs_setUpVqRedlines_deleteNode(a){var d;for(d in vqRedlines){var f=vqRedlines[d].data("node");vqRedlines[d].data("locked")?f==a&&(f=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.RedlinesLocked+vqRedlines[d].data("username"),jQuery("#cvjs_informationModalText").html(f),jQuery("#info_messageModal").modal("show")):f==a&&(vqRedlines[d].data("deleted",!0),vqRedlines[d].attr({transform:"S0.001",opacity:"0.01"}),console.log(vqRedlines[d].data("polypath_arrow")),cvjs_debug&&console.log("We transform SMALL: "+
a))}try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(h){console.log("pdf 12: "+h)}}
var mousedown_redlinepolygon=function(a,d,f){d+=document.body.scrollLeft;f+=document.body.scrollTop;draw_poly_red||(polyPath_red="M"+(d-delta_x)/global_scale+","+(f-delta_y)/global_scale,draw_poly_red=!0)},mousemove_redlinepolygon=function(a,d,f){d+=document.body.scrollLeft;f+=document.body.scrollTop;draw_poly_red&&(first_point_poly_red?(first_point_poly_red=!1,firstX_poly_red=d,firstY_poly_red=f,lastX_poly_red=d,lastY_poly_red=f,originX_poly_red=d,originY_poly_red=f):(lastX_poly_red=d,lastY_poly_red=
f),tPath_poly_red="M"+(firstX_poly_red-delta_x)/global_scale+","+(firstY_poly_red-delta_y)/global_scale,tPath_poly_red+="L"+(lastX_poly_red-delta_x)/global_scale+","+(lastY_poly_red-delta_y)/global_scale,tRubberBand_poly_red.attr({path:tPath_poly_red}),Math.sqrt(Math.pow((firstX_poly_red-delta_x)/global_scale-(lastX_poly_red-delta_x)/global_scale,2)+Math.pow((firstY_poly_red-delta_y)/global_scale-(lastY_poly_red-delta_y)/global_scale,2))>scaleRedline_LineSize&&(polyPath_red+="L"+(lastX_poly_red-delta_x)/
global_scale+","+(lastY_poly_red-delta_y)/global_scale,tPolygon_red.attr({path:polyPath_red}),first_point_poly_red=!0))};function cvjs_drawSpaceObject_CopyCircle(){cvjs_addHandleFunc_CopyCircle()}
function cvjs_addHandleFunc_CopyCircle(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_copycircle)}function cvjs_removeHandleFunc_CopyCircle(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var mousedown_copycircle=function(a,d,f){tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(0,0,1,1).attr({stroke:"#b00000","stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"});tTransform_c="t"+(d-delta_x)/global_scale+","+(f-delta_y)/global_scale;tTransform_c+="S"+delta;tRubberBand_c.attr({transform:tTransform_c,opacity:"1"});tRubberBand_c.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});cvjs_removeHandleFunc_CopyCircle();cvjs_addVqRoomsGraphics_newNode_circle(cvjs_currentNode_underbar,
tRubberBand_c);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("CopyCircle")},mouseMoveStickyNote=!1,tRubberBand_sn;function cvjs_drawStickyNoteDirect(){cvjs_addHandleFunc_StickyNote()}
function cvjs_addHandleFunc_StickyNote(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mouseup(mouseup_stickynote);mouseMoveStickyNote=!1;handleGroup.mousemove(mousemove_stickynote)}
function cvjs_removeHandleFunc_StickyNote(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var scaleNote=1,scaleFactorNotes=600,mousemove_stickynote=function(a,d,f){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?
global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;console.log(delta_x+"  "+delta_y);0==mouseMoveStickyNote&&(a=0,10>cvjs_currentStickyNote_id&&(a=3),tRubberBand_sn=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0.01,0.01h20.0v20.0h-20.0v-20.0Z").attr({stroke:"#000000",
"stroke-width":"1.0",fill:"none"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M7.0,12.0h1.3M9.5,12.0h3.5M11.25,12v5M9.75,12v1.75M12.75,12v1.75M10.5,17h1.5M7,13.5h1.3M7,15.25h3M7,17.0h2.2").attr({stroke:"#000000","stroke-width":"0.5",fill:"none"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].text(3+a,9,"#"+cvjs_currentStickyNote_id).attr({"font-size":"8px","font-style":"italic",stroke:"#000000","stroke-width":".2",fill:"#000000"})),mouseMoveStickyNote=!0);d+=document.body.scrollLeft;f+=document.body.scrollTop;
scaleNote=1;scaleFactorNotes=600;scaleNote=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/scaleFactorNotes:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/scaleFactorNotes;tTransform_c="T"+((d-delta_x)/global_scale+10*scaleNote)+","+((f+0*scaleNote*global_scale-delta_y)/global_scale+
10*scaleNote);tTransform_c+="S"+scaleNote;tRubberBand_sn.attr({transform:tTransform_c})},mouseup_stickynote=function(a,d,f){mouseMoveStickyNote&&(tTransform_c="t0,0S"+scaleNote/100,tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"}),tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"}),tRubberBand_sn.remove());a=0;10>cvjs_currentStickyNote_id&&(a=3);tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0.01,0.01h20.0v20.0h-20.0v-20.0Z").attr({stroke:"#000000",
"stroke-width":"1.0"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M7,12h1.3M9.5,12h3.5M11.25,12v5M9.75,12v1.75M12.75,12v1.75M10.5,17h1.5M7,13.5h1.3M7,15.25h3M7,17.0h2.2").attr({stroke:"#000000","stroke-width":"0.5"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].text(3+a,9,"#"+cvjs_currentStickyNote_id).attr({"font-size":"8px","font-style":"italic",stroke:"#000000","stroke-width":"0.3",fill:"#000000","fill-opacity":1}));d+=document.body.scrollLeft;f+=document.body.scrollTop;scaleNote=1;scaleFactorNotes=
600;scaleNote=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/scaleFactorNotes:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/scaleFactorNotes;tTransform_c="T"+((d-delta_x)/global_scale+10*scaleNote)+","+((f+-delta_y)/global_scale+10*scaleNote);tTransform_c+="S"+scaleNote;
tRubberBand_c.attr({transform:tTransform_c,opacity:"1"});tRubberBand_c.attr({fill:"#FFF","fill-opacity":"0.8",stroke:"#000","stroke-opacity":"1"});cvjs_currentStickyNote_transform=tTransform_c;cvjs_removeHandleFunc_StickyNote();cvjs_addVqStickyNotesGraphics_newNode(cvjs_currentStickyNote_underbar,tRubberBand_c);cvjs_setUpVqStickyNotes_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentStickyNote_underbar);cvjs_graphicalObjectCreated("StickyNote")},mouseMoveFlagStickyNote=!1;
function cvjs_addHandleFunc_MoveStickyNote(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});mouseMoveFlagStickyNote=!1;handleGroup.mousemove(mousemove_movestickynote);handleGroup.mousedown(mousedown_movestickynote)}
function cvjs_removeHandleFunc_MoveStickyNote(){handleGroup.selectAll("handler").remove();handleGroup.remove();try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var mousemove_movestickynote=function(a,d,f){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;if(0==mouseMoveFlagStickyNote){a=cvjs_StickyNoteClicked();for(var h in vqStickyNotes){var n=vqStickyNotes[h].data("node");a==n&&vqStickyNotes[h].data("id")}h=0;10>cvjs_currentStickyNote_id&&(h=3);tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0,0h20v20h-20v-20Z").attr({stroke:"#000000",
"stroke-width":"1.0",fill:"none"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M7,12h1.3M9.5,12h3.5M11.25,12v5M9.75,12v1.75M12.75,12v1.75M10.5,17h1.5M7,13.5h1.3M7,15.25h3M7,17.0h2.2").attr({stroke:"#000000","stroke-width":"0.5",fill:"none"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].text(3+h,9,"#"+cvjs_currentStickyNote_id).attr({"font-size":"8px","font-style":"italic",stroke:"#000000","stroke-width":".2",fill:"#000000"}));mouseMoveFlagStickyNote=!0}d+=document.body.scrollLeft;f+=document.body.scrollTop;
scaleNote=1;scaleFactorNotes=600;scaleNote=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/scaleFactorNotes:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/scaleFactorNotes;tTransform_c="T"+((d-delta_x)/global_scale+10*scaleNote)+","+((f+0*scaleNote*global_scale-delta_y)/global_scale+
10*scaleNote);tTransform_c+="S"+scaleNote;tRubberBand_c.attr({transform:tTransform_c})},mousedown_movestickynote=function(a,d,f){d+=document.body.scrollLeft;f+=document.body.scrollTop;scaleNote=1;scaleFactorNotes=600;scaleNote=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/scaleFactorNotes:(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr])/scaleFactorNotes;tTransform_c="T"+((d-delta_x)/global_scale+10*scaleNote)+","+((f+0*scaleNote*global_scale-delta_y)/global_scale+10*scaleNote);tTransform_c+="S"+scaleNote;a=cvjs_StickyNoteClicked();a=cvjs_StickyNotes_arrayIndex(a);vqStickyNotes[a].attr({transform:tTransform_c,"fill-opacity":"0.8","stroke-opacity":"1"});vqStickyNotes[a].data("transform",tTransform_c);cvjs_removeHandleFunc_MoveStickyNote();tTransform_c+="t0,0S"+scaleNote/100;tRubberBand_c.attr({transform:tTransform_c,
opacity:"0.0"});tRubberBand_c.attr({fill:"#FFF","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"});tRubberBand_c.remove()};function AbsDiff(a,d){return Math.abs(a-d)}
function DoMouseDown(a,d,f){cvjs_active_floorplan_div_nr=f;basey=basex=pdy=pdx=0;firstx=a;firsty=d;dy=dx=0;bMouseDown=!0;bPan=bTempMouseDown=!1;thumbsMode=!0;cvjs_debug&&console.log("DoMouseDown - setup"+a+" "+d+" firstx "+firstx+"  firsty "+firsty+"  active "+cvjs_active_floorplan_div_nr);a=document.getElementsByTagName("svg")[0].getAttribute("viewBox").split(" ");vbx=parseInt(a[0]);vby=parseInt(a[1]);thumb_loaded||(thumb_loaded=!0)}
function DoMouseOut(a,d){bMouseDown&&bPan&&(dx=a-firstx,dy=d-firsty,pdx=dx*zoomScale,pdy=dy*zoomScale,basex=dx,basey=dy,viewBox[cvjs_active_floorplan_div_nr].X=vbx-pdx,viewBox[cvjs_active_floorplan_div_nr].Y=vby-pdy,a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }'),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a),bTempMouseDown=
!0)}function DoMouseOver(a,d){if(bTempMouseDown||bMouseDown)bTempMouseDown=!1,bMouseDown=!0}
function DoMouseUp(a,d){bTempMouseDown=bMouseDown=!1;if(bPan){viewBox[cvjs_active_floorplan_div_nr].X=vbx-pdx;viewBox[cvjs_active_floorplan_div_nr].Y=vby-pdy;var f='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }',h=jQuery.parseJSON(f);cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(h)}if(bPan)try{panWithThumb&&(layers_all.attr(show),layer_thumb.attr(hide)),
layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show)}catch(n){console.log("txx "+n)}else tip[cvjs_active_floorplan_div_nr].show();preventDrag=!0;try{2==totalDragStart&&(e.preventDefault(),e.stopPropagation())}catch(n){bPan=!1}try{2==totalDragStart&&(viewBox[cvjs_active_floorplan_div_nr].X=viewBox_initX[cvjs_active_floorplan_div_nr],viewBox[cvjs_active_floorplan_div_nr].Y=viewBox_initY[cvjs_active_floorplan_div_nr],vBHo=viewBoxHeight_init[cvjs_active_floorplan_div_nr],vBWo=viewBoxWidth_init[cvjs_active_floorplan_div_nr],
viewBoxWidth[cvjs_active_floorplan_div_nr]=viewBoxWidth_init[cvjs_active_floorplan_div_nr],viewBoxHeight[cvjs_active_floorplan_div_nr]=viewBoxHeight_init[cvjs_active_floorplan_div_nr],viewBoxWidth[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase,viewBoxHeight[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase,viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2,viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/
2,zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr],f='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }',h=jQuery.parseJSON(f),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(h))}catch(n){}try{panWithThumb&&(layers_all.attr(show),layer_thumb.attr(hide)),layer_vqrooms[cvjs_active_floorplan_div_nr].attr(show)}catch(n){console.log(n)}bPan=
!1}var basemx=0,basemy=0;
function DoMouseMove(a,d){bPan||(basemx=a,basemy=d);if(thumbsMode&&bPan&&0!=basemx-a&&0!=basemy-d)try{thumbsMode=!1,panWithThumb&&(layers_all.attr(hide),layer_thumb.attr(show),all_layer_off_thumb_on())}catch(p){console.log("t1 "+p)}bMouseDown&&!bPan&&(dragInsidePolygon=bPan=!0);try{if(bMouseDown&&2>totalDragStart&&(dx=a-firstx,dy=d-firsty,4<Math.abs(basex-dx)||4<Math.abs(basey-dy))){hideOnlyPop();tip[cvjs_active_floorplan_div_nr].hide();cvjs_clearDrawing();hideOnlyStickyNote();cvjs_clearDrawingStickyNotes();
bPan=!0;var f=viewBoxWidth[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width(),h=viewBoxHeight[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=1;a=f>h?f:h;pdx=dx*a;pdy=dy*a;basex=dx;basey=dy;viewBox[cvjs_active_floorplan_div_nr].X=vbx-pdx;viewBox[cvjs_active_floorplan_div_nr].Y=vby-pdy;var n=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+
" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(n)}}catch(p){console.log(p)}}
function DoTouchMove(a,d,f){try{panWithThumb&&(layers_all.attr(hide),layer_thumb.attr(show))}catch(n){console.log("t2 "+n)}preventDrag&&(a.stopPropagation(),a.preventDefault());2==totalDragStart&&(a.stopPropagation(),a.preventDefault(),tip[cvjs_active_floorplan_div_nr].hide(),hideOnlyPop(),hideOnlyStickyNote());if(2==totalDragStart)try{if(firstFingerX=a.touches[0].pageX,firstFingerY=a.touches[0].pageY,totalDragStart=1,preventDrag=!1,secondFingerX=a.touches[1].pageX,secondFingerY=a.touches[1].pageY,
totalDragStart=2,preventDrag=!0,allowPinchWithNoPolygons=!1,deltaX=secondFingerX-firstFingerX,deltaY=secondFingerY-firstFingerY,deltaDynamic=Math.sqrt(deltaX*deltaX+deltaY*deltaY),(4<deltaDynamic-deltaDynamicPre||-4>deltaDynamic-deltaDynamicPre)&&flagOK){flagOK=!1;deltaDynamicPre=deltaDynamic;viewBox[cvjs_active_floorplan_div_nr].X=viewBox_initX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=viewBox_initY[cvjs_active_floorplan_div_nr];vBHo=viewBoxHeight_init[cvjs_active_floorplan_div_nr];
vBWo=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=viewBoxHeight_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBoxHeight[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=
(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2;zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];var h=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(h);firstFingerX1=firstFingerX;firstFingerY1=firstFingerY;flagOK=!0}}catch(n){}}
function DoTouchStart(a,d,f){preventDrag=!0;cvjs_debug&&console.log("touch start");ttest=0;a.preventDefault();a.stopPropagation();thumb_loaded||(thumb_loaded=!0);try{firstFingerX=a.touches[0].pageX,firstFingerY=a.touches[0].pageY,totalDragStart=1,preventDrag=!1,secondFingerX=a.touches[1].pageX,secondFingerY=a.touches[1].pageY,totalDragStart=2,preventDrag=!0,allowPinchWithNoPolygons=!1,deltaXinit=secondFingerX-firstFingerX,deltaYinit=secondFingerY-firstFingerY,deltaDynamicPre=deltaBase=Math.sqrt(deltaXinit*
deltaXinit+deltaYinit*deltaYinit),viewBoxWidthPre=viewBoxWidth[cvjs_active_floorplan_div_nr],viewBoxheightPre=viewBoxHeight[cvjs_active_floorplan_div_nr],firstFingerX1=firstFingerX,firstFingerY1=firstFingerY,firstFingerX_init=firstFingerX,firstFingerY_init=firstFingerY,viewBox_initX[cvjs_active_floorplan_div_nr]=viewBox[cvjs_active_floorplan_div_nr].X,viewBox_initY[cvjs_active_floorplan_div_nr]=viewBox[cvjs_active_floorplan_div_nr].Y,viewBoxWidth_init[cvjs_active_floorplan_div_nr]=viewBoxWidth[cvjs_active_floorplan_div_nr],
viewBoxHeight_init[cvjs_active_floorplan_div_nr]=viewBoxHeight[cvjs_active_floorplan_div_nr],flagOK=!0}catch(h){}}
function DoTouchEnd(a,d,f){preventDrag=!0;2==totalDragStart&&(a.preventDefault(),a.stopPropagation(),tip[cvjs_active_floorplan_div_nr].hide(),hideOnlyPop(),hideOnlyStickyNote());try{if(2==totalDragStart){viewBox[cvjs_active_floorplan_div_nr].X=viewBox_initX[cvjs_active_floorplan_div_nr];viewBox[cvjs_active_floorplan_div_nr].Y=viewBox_initY[cvjs_active_floorplan_div_nr];vBHo=viewBoxHeight_init[cvjs_active_floorplan_div_nr];vBWo=viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]=
viewBoxWidth_init[cvjs_active_floorplan_div_nr];viewBoxHeight[cvjs_active_floorplan_div_nr]=viewBoxHeight_init[cvjs_active_floorplan_div_nr];viewBoxWidth[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBoxHeight[cvjs_active_floorplan_div_nr]/=deltaDynamic/deltaBase;viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2;viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2;zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/
rpWidth[cvjs_active_floorplan_div_nr];var h=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(h)}var n=jQuery.parseJSON('{"display" : "none" }'),p=jQuery.parseJSON('{"display" : "inline" }');panWithThumb&&(layers_all.attr(p),layer_thumb.attr(n));layer_vqrooms[cvjs_active_floorplan_div_nr].attr(p)}catch(q){console.log("t4 "+
q)}}var currentRoomId,currentRoomName,tooltipLast=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],currentStickyNoteId,currentStickyNoteName,tooltipLastStickyNote=-1,tooltipLastHyperlink=-1,currentUrlId,currentUrlName;function setRoomAfterPanPC(){tip[cvjs_active_floorplan_div_nr].html(currentRoomName);bMouseDown=!1;cvjs_clearDrawing();change_space_fixed_location(currentRoomId)}
function setUpVqRooms(a,d){var f="";void 0!=d&&(a=cvjs_rPaper[d],cvjs_active_floorplan_div_nr=d,f=floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_debug&&console.log("vqBuilding active nr="+cvjs_active_floorplan_div_nr+"  "+a.toString().substring(0,100));floorplan_height=.9*jQuery(window).height();floorplan_width=.9*jQuery(window).width();tip[d]=jQuery("#tip_"+f);tip[d].hide().css("left",floorplan_width).css("top",floorplan_height);var h="",n=null,p=null;try{jQuery.fn.qtip.defaults.show.event=
"click",jQuery.fn.qtip.defaults.hide.event=null}catch(x){}vqBuilding in buildings&&(n=buildings[vqBuilding],vqFloor in n.floors&&(p=n.floors[vqFloor]));cvjs_debug&&console.log("vqBuilding ="+vqBuilding+" vqFloor="+vqFloor+" floor= "+p);layer_vqrooms[d]=a.g();cvjs_debug&&console.log("layer_vqrooms["+d+" is part of  "+a.toString().substring(0,100));for(var q in vqRooms[cvjs_active_floorplan_div_nr]){a=0;cvjs_debug&&console.log("first loop room="+q);for(bRoom in p.rooms)if(rid=vqRooms[cvjs_active_floorplan_div_nr][q].data("node"),
bRoom==rid){a=1;n=p.rooms[bRoom].tags;var t=1,u;for(u in n){for(var v="tag"+t,w=n[u];" "==w.charAt(0);)w=w.substr(1);w=w.replace(/ /gi,"&nbsp;");vqRooms[cvjs_active_floorplan_div_nr][q].data(v,w);t++}vqRooms[d][q].data("occupancy",p.rooms[bRoom].occupancy);vqRooms[d][q].data("name",p.rooms[bRoom].name);vqRooms[d][q].data("type",p.rooms[bRoom].type);-1==p.rooms[bRoom].id?vqRooms[d][q].data("id",rid):vqRooms[d][q].data("id",p.rooms[bRoom].id);vqRooms[cvjs_active_floorplan_div_nr][q].data("defaultcolor",
"undefined");try{vqRooms[d][q].data("layer",p.rooms[bRoom].layer),vqRooms[d][q].data("group",p.rooms[bRoom].group),vqRooms[d][q].data("attributes",p.rooms[bRoom].attributes),vqRooms[d][q].data("attributeStatus",p.rooms[bRoom].attributeStatus),void 0!=p.rooms[bRoom].linked?vqRooms[d][q].data("linked",p.rooms[bRoom].linked):vqRooms[d][q].data("linked",!1),vqRooms[d][q].data("handle",p.rooms[bRoom].handle),vqRooms[cvjs_active_floorplan_div_nr][q].data("displaySpaceObject",p.rooms[bRoom].displaySpaceObject)}catch(x){console.log(x)}!cvjs_supressPopUpModal||
cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][q].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][q].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][q].attr(vqRooms[cvjs_active_floorplan_div_nr][q].data("defaultcolor")):vqRooms[d][q].data("linked")?vqRooms[d][q].attr(defaultColor_linked):vqRooms[d][q].attr(defaultColor_unlinked);n='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+p.rooms[bRoom].id+
"');\">"+p.rooms[bRoom].name+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+q+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+p.rooms[bRoom].type+"</h4></td></tr></table>";dual_hbody_flag&&(-1<=parseInt(p.rooms[bRoom].id)?jQuery(vqRooms[d][q].node).qtip({content:{text:hbody,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[d][q].node).qtip({content:{text:hbody_2,
title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[d][q].node).qtip({content:{text:hbody,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});vqRooms[d][q].mousedown(function(a){cvjs_debug&&console.log("G Domousedown"+a.clientX+"  "+document.body.scrollLeft+" "+a.clientY+" "+
document.body.scrollTop);vqRoomMouseSelect=!0;DoMouseDown(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop,d)}).mouseout(function(a){jQuery("#tip_"+floorplan_div_Array[d]).hide();a=findRoom(currentRoomId);vqRoomMouseSelect||cvjs_supressPopUpModal&&!cvjs_standardHighLightColors||(cvjs_debug&&console.log("room="+a+" defaultcolor"),-1<vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][a].attr(defaultColor):
vqRooms[cvjs_active_floorplan_div_nr][a].attr(vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor")))}).mousemove(function(a){currentRoomId=this.data("id");currentRoomName=this.data("name");if(bMouseDown||bTempMouseDown)DoMouseMove(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else{var n=findRoom(currentRoomId);0<=n&&n!=lastObj[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&(tooltipLast[d]!=lastObj[cvjs_active_floorplan_div_nr]&&-1!=tooltipLast[d]&&(!cvjs_supressPopUpModal||
cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[d]].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[d]].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[d]].attr(vqRooms[cvjs_active_floorplan_div_nr][tooltipLast[d]].data("defaultcolor")):vqRooms[d][tooltipLast[d]].data("linked")?vqRooms[d][tooltipLast[d]].attr(defaultColor_linked):vqRooms[d][tooltipLast[d]].attr(defaultColor_unlinked)),!cvjs_supressPopUpModal||
cvjs_standardHighLightColors?vqRooms[d][n].attr(highlight):vqRooms[d][n].data("linked")?vqRooms[d][n].attr(highlight_linked):vqRooms[d][n].attr(highlight_unlinked),tooltipLast[d]=n);h=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");cvjs_customToolTip&&(h=cvjs_displayCustomToolTip(this.data("id")));tip[d].html(h);tip[d].show();n=jQuery("#"+f).position();var p=jQuery("#"+f).css("position");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});"absolute"==
p?tip[d].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[d].css("left",a.clientX-n.left+document.documentElement.scrollLeft+10).css("top",a.clientY-n.top+document.documentElement.scrollTop-25)}}).mouseup(function(a){if(bPan)DoMouseUp(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else try{layer_vqrooms[d].attr(show),panWithThumb&&(layers_all.attr(show),layer_thumb.attr(hide))}catch(A){console.log("t5 "+
A)}h=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");cvjs_customToolTip&&(h=cvjs_displayCustomToolTip(this.data("id")));tip[cvjs_active_floorplan_div_nr].html(h);bMouseDown=!1;cvjs_clearDrawing();rid=this.data("id");change_space_fixed_location(rid,cvjs_active_floorplan_div_nr);bPan=!1}).touchstart(function(a){DoTouchStart(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).touchend(function(a){bPan||locked||(rid=this.data("id"),cvjs_change_space(rid),
h=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id"),cvjs_customToolTip&&(h=cvjs_displayCustomToolTip(this.data("id"))),tip[cvjs_active_floorplan_div_nr].html(h));DoTouchEnd(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);h=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");tip[cvjs_active_floorplan_div_nr].html(h);bMouseDown=!1;cvjs_clearDrawing();rid=this.data("id");change_space_fixed_location(rid,
cvjs_active_floorplan_div_nr)}).touchmove(function(a){if(!bPan){var d=jQuery("#"+f).position(),n=jQuery("#"+f).css("position");tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});"absolute"==n?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-
25);tip[cvjs_active_floorplan_div_nr].html(h);cvjs_customToolTip&&(h=cvjs_displayCustomToolTip(this.data("id")))}DoTouchMove(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).dblclick(function(a){event.preventDefault();event.stopPropagation()})}0==a&&(a=vqRooms[cvjs_active_floorplan_div_nr][q].data("node"),cvjs_debug&&console.log("room not found "+a),vqRooms[d][q].data("occupancy","undefined"),vqRooms[d][q].data("name","undefined"),vqRooms[d][q].data("type","undefined"),vqRooms[d][q].data("id",
a),jQuery(vqRooms[d][q].node).qtip({title:"Undefined",content:"",placement:"top"}),vqRooms[d][q].data("layer","undefined"),vqRooms[d][q].data("group","undefined"),vqRooms[d][q].data("attributes","undefined"),vqRooms[d][q].data("attributeStatus","undefined"),vqRooms[d][q].data("linked",!1),vqRooms[d][q].data("handle",""),vqRooms[cvjs_active_floorplan_div_nr][spc].data("defaultcolor","undefined"),vqRooms[cvjs_active_floorplan_div_nr][rm].data("displaySpaceObject","on"));layer_vqrooms[d].add(vqRooms[d][q])}cvjs_debug&&
console.log("  LAYER VQROOMS We have active "+cvjs_active_floorplan_div_nr)}function setUpVqStickyNotes(a){}function setUpVqRedlines(a){}
function setUpVqURLs(a){tip[cvjs_active_floorplan_div_nr]=jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]);tip[cvjs_active_floorplan_div_nr].hide().css("left",floorplan_width).css("top",floorplan_height);var d="",f=null,h=null;try{jQuery.fn.qtip.defaults.show.event="click",jQuery.fn.qtip.defaults.hide.event=null}catch(p){}vqBuilding in buildings&&(f=buildings[vqBuilding],vqFloor in f.floors&&(h=f.floors[vqFloor]));layer_hyperlinks=a.g();for(var n in vqURLs){a=0;for(bRoom in h.rooms)if(rid=
vqURLs[n].data("node"),bRoom==rid){a=1;vqURLs[n].data("name",h.rooms[bRoom].name);-1==h.rooms[bRoom].id?vqURLs[n].data("id",rid):vqURLs[n].data("id",h.rooms[bRoom].id);try{vqURLs[n].data("layer",h.rooms[bRoom].layer),vqURLs[n].data("group",h.rooms[bRoom].group),vqURLs[n].data("url",h.rooms[bRoom].url),void 0!=h.rooms[bRoom].linked?(vqURLs[n].data("linked",h.rooms[bRoom].linked),vqRooms[active_floorplan_div_nr][room].data("handle",h.rooms[bRoom].handle)):vqURLs[n].data("linked",!1),vqRooms[active_floorplan_div_nr][room].data("handle",
h.rooms[bRoom].handle)}catch(p){console.log(p)}vqURLs[n].attr(defaultColor_Hyperlinks);cvjs_supressHyperlinkColors?vqURLs[n].attr(defaultColor_Hyperlinks_blank):vqURLs[n].attr(defaultColor_Hyperlinks);vqURLs[n].mousedown(function(a){cvjs_debug&&console.log("H Domousedown");vqRoomMouseSelect=!0;DoMouseDown(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop,active_floorplan_div_nr)}).mouseout(function(a){jQuery("#tip_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()}).mousemove(function(a){currentUrlId=
this.data("id");currentUrlName=this.data("name");if(bMouseDown||bTempMouseDown)DoMouseMove(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else{var f=findUrl(currentUrlId);0<=f&&f!=lastObjHyperlink[cvjs_active_floorplan_div_nr]&&cvjs_location_flag&&(tooltipLastHyperlink!=lastObjHyperlink[cvjs_active_floorplan_div_nr]&&(cvjs_supressHyperlinkColors?vqURLs[tooltipLastHyperlink].attr(defaultColor_Hyperlinks_blank):vqURLs[tooltipLastHyperlink].attr(defaultColor_Hyperlinks)),cvjs_supressHyperlinkColors?
vqURLs[f].attr(defaultColor_Hyperlinks_blank):vqURLs[f].attr(highlight_Hyperlinks),tooltipLastHyperlink=f);d=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?
tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-f.left+document.documentElement.scrollLeft+10).css("top",a.clientY-f.top+document.documentElement.scrollTop-25)}}).mouseup(function(a){vqRoomMouseSelect=!1;if(bPan)DoMouseUp(a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);else try{layer_hyperlinks.attr(show),panWithThumb&&
(layers_all.attr(show),layer_thumb.attr(hide))}catch(q){console.log("t6 "+q)}d=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");tip[cvjs_active_floorplan_div_nr].html(d);bMouseDown=!1;cvjs_clearDrawingHyperlinks();rid=this.data("id");bPan=!1}).touchstart(function(a){DoTouchStart(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).touchend(function(a){if(!bPan&&!locked){rid=this.data("id");try{cvjs_change_space(rid)}catch(q){}d=this.data("name");
tip[cvjs_active_floorplan_div_nr].html(d)}DoTouchEnd(a,a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop);d=!cvjs_supressPopUpModal||cvjs_standardHighLightColors?this.data("name"):this.data("id");tip[cvjs_active_floorplan_div_nr].html(d);bMouseDown=!1;rid=this.data("id");a=findUrl(rid);1==totalDragStart&&(a.indexOf("http://"),cvjs_Url_encapsulate_callback&&cvjs_Url_callback(vqURLs[a].data("url")),change_space_fixed_locationHyperlink(rid))}).touchmove(function(a){if(!bPan){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
var f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-f.left+document.documentElement.scrollLeft+10).css("top",a.clientY-f.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(d)}DoTouchMove(a,
a.clientX+document.body.scrollLeft,a.clientY+document.body.scrollTop)}).dblclick(function(a){2==cvjs_Url_click_control&&(currentUrlId=this.data("id"),currentUrlName=this.data("name"),a=findUrl(currentUrlId),-1==a.indexOf("http://")?cvjs_Url_encapsulate_callback?cvjs_Url_callback(vqURLs[a].data("url")):openHyperlinkInNewWindow?window.open(current_FileNamePath+vqURLs[a].data("url"),"CADViewerJS","width="+hyperlinkNewWindowWidth+", height="+hyperlinkNewWindowHeight):document.location.href=current_FileNamePath+
vqURLs[a].data("url"):cvjs_Url_encapsulate_callback?cvjs_Url_callback(vqURLs[a].data("url")):openHyperlinkInNewWindow?window.open(vqURLs[a].data("url"),"CADViewerJS","width="+hyperlinkNewWindowWidth+", height="+hyperlinkNewWindowHeight):document.location.href=vqURLs[a].data("url"),cvjs_clearDrawingHyperlinks(),rid=this.data("id"),change_space_fixed_locationHyperlink(rid));vqRoomMouseSelect=!1}).click(function(a){1==cvjs_Url_click_control&&(currentUrlId=this.data("id"),currentUrlName=this.data("name"),
a=findUrl(currentUrlId),-1==a.indexOf("http://")?cvjs_Url_encapsulate_callback?cvjs_Url_callback(vqURLs[a].data("url")):openHyperlinkInNewWindow?window.open(current_FileNamePath+vqURLs[a].data("url"),"CADViewerJS","width="+hyperlinkNewWindowWidth+", height="+hyperlinkNewWindowHeight):document.location.href=current_FileNamePath+vqURLs[a].data("url"):cvjs_Url_encapsulate_callback?cvjs_Url_callback(vqURLs[a].data("url")):openHyperlinkInNewWindow?window.open(vqURLs[a].data("url"),"CADViewerJS","width="+
hyperlinkNewWindowWidth+", height="+hyperlinkNewWindowHeight):document.location.href=vqURLs[a].data("url"),cvjs_clearDrawingHyperlinks(),rid=this.data("id"),change_space_fixed_locationHyperlink(rid));vqRoomMouseSelect=!1})}0==a&&(a=vqURLs[n].data("node"),cvjs_debug&&console.log("room not found "+a),vqURLs[n].data("name","undefined"),vqURLs[n].data("id",a),vqRooms[cvjs_active_floorplan_div_nr][n].data("layer","undefined"),vqRooms[cvjs_active_floorplan_div_nr][n].data("group","undefined"),vqRooms[cvjs_active_floorplan_div_nr][n].data("url",
"undefined"),vqRooms[cvjs_active_floorplan_div_nr][n].data("linked",!1),vqRooms[active_floorplan_div_nr][room].data("handle",""));layer_hyperlinks.add(vqURLs[n])}}function cvjs_setCallbackMeasurement(a){cvjs_callbackMeasurement=a}
var tRubberBand_text1,text_move1,text_move1_noscale,tText_redline1,cvjs_text_redline,cvjs_text_redline_size,cvjs_text_insert_x1,cvjs_text_insert_y1,tArr,cvjs_redline_boundingBoxElement,cvjs_redline_Boxwidth,cvjs_redline_Boxheight,cvjs_reference_font_size=40,global_textString,cvjs_current_font_size=40;
function cvjs_insertRedlineText(a,d){cvjs_current_font_size=cvjs_reference_font_size*d/11;global_textString=a;tArr=a.split("\n");cvjs_text_redline=a;try{canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];
global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+f.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+f.top;tRubberBand_text1=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(0,0,tArr).attr({stroke:cvjs_currentRedline_color,fill:cvjs_currentRedline_color,
"font-size":cvjs_current_font_size});for(a=1;a<tArr.length;a++)tRubberBand_text1.selectAll("tspan")[a].attr({x:0,dy:"1em"});cvjs_redline_boundingBoxElement=tRubberBand_text1.getBBox();cvjs_redline_Boxwidth=cvjs_redline_boundingBoxElement.width;cvjs_redline_Boxheight=cvjs_redline_boundingBoxElement.height;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_redline_text);handleGroup.mousemove(mousemove_redline_text)}catch(h){console.log(h)}}
function cvjs_removeHandleFunc_RedlineText(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var mousedown_redline_text=function(){console.log("tRubberBand_text1 "+tRubberBand_text1+" text_move1  "+text_move1+"  ");tRubberBand_text1.remove();trans=text_move1;tText_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(0,0,tArr).attr({stroke:cvjs_currentRedline_color,fill:cvjs_currentRedline_color,"font-size":cvjs_current_font_size});for(var a=1;a<tArr.length;a++)tText_redline1.selectAll("tspan")[a].attr({x:0,dy:"1em"});tText_redline1.attr({transform:text_move1});cvjs_removeHandleFunc_RedlineText();
cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);a=global_textString.replace(/(\n)/gm,"<br>");cvjs_addVqRedlinesGraphics_newNodeText(cvjs_currentRedline_underbar,tText_redline1,text_move1,a);cvjs_graphicalObjectCreated("RedlineText")},mousemove_redline_text=function(a,d,f){try{canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();
canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var h=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*
global_scale+h.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+h.top;var n=-cvjs_redline_Boxwidth/2*(1-cvjs_redlineThickness_scaleFactor);var p=+cvjs_redline_Boxheight/2*(1-cvjs_redlineThickness_scaleFactor);p=n=0;text_move1="T"+((d-delta_x)/global_scale+n)+","+((f-delta_y)/global_scale+p)+"S"+cvjs_redlineThickness_scaleFactor;text_move1_noscale="T"+((d-delta_x)/global_scale+n)+","+((f-delta_y)/global_scale+
p);cvjs_text_insert_x1=(d-delta_x)/global_scale;cvjs_text_insert_y1=(f-delta_y)/global_scale;tRubberBand_text1.attr({transform:text_move1})}catch(q){console.log(q)}},cvjs_currentIconPage=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],cvjs_MaxIconPages=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],cvjs_userControlled_MaxIconPages=[3,3,3,3,3,3,3,3,
3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3];
function cvjs_changeNextIconPage(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_currentIconPage[cvjs_active_floorplan_div_nr]++;cvjs_currentIconPage[cvjs_active_floorplan_div_nr]>cvjs_userControlled_MaxIconPages[cvjs_active_floorplan_div_nr]&&(cvjs_currentIconPage[cvjs_active_floorplan_div_nr]=1);if(pageChangeInterface){if(cvjs_version_3_2_modal){var d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8.png";var f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+
"_8_"+a}else d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3_"+a;jQuery("#gMenu_"+a).html('<img src="'+d+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="276" width="62" class="map" hidefocus="true">')}else pageChangeInterfaceFalse_noIconNavigation?(cvjs_version_3_2_modal?(d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+
"_8.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8_"+a):(d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3_"+a),jQuery("#gMenu_"+a).html('<img src="'+d+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="276" width="62" class="map" hidefocus="true">')):(d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+
"_2.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_"+a,jQuery("#gMenu_"+a).html('<img src="'+d+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="303" width="62" class="map" hidefocus="true">'));console.log("#gMenu_"+a+"  "+jQuery("#gMenu_"+a).html())}
function cvjs_changePreviousIconPage(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_currentIconPage[cvjs_active_floorplan_div_nr]--;1>cvjs_currentIconPage[cvjs_active_floorplan_div_nr]&&(cvjs_currentIconPage[cvjs_active_floorplan_div_nr]=cvjs_userControlled_MaxIconPages[cvjs_active_floorplan_div_nr]);console.log("change page "+a);if(pageChangeInterface){if(cvjs_version_3_2_modal){var d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8.png";var f=
"#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8_"+a}else d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3_"+a;jQuery("#gMenu_"+a).html('<img src="'+d+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="276" width="62" class="map" hidefocus="true">')}else pageChangeInterfaceFalse_noIconNavigation?(cvjs_version_3_2_modal?
(d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8_"+a):(d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3_"+a),jQuery("#gMenu_"+a).html('<img src="'+d+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="276" width="62" class="map" hidefocus="true">')):
(d=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_2.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_"+a,jQuery("#gMenu_"+a).html('<img src="'+d+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="303" width="62" class="map" hidefocus="true">'));console.log("#gMenu_"+a+"  "+jQuery("#gMenu_"+a).html())}
function cvjs_changeToIconPage(a,d){void 0==d?cvjs_active_floorplan_div_nr=0:(d.endsWith("_svg")||(d+="_svg"),cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d));cvjs_currentIconPage[cvjs_active_floorplan_div_nr]=a;if(pageChangeInterface){if(cvjs_version_3_2_modal){a=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8.png";var f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8_"+d}else a=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+
"_3.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3_"+d;jQuery("#gMenu_"+d).html('<img src="'+a+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="276" width="62" class="map" hidefocus="true">')}else pageChangeInterfaceFalse_noIconNavigation?(cvjs_version_3_2_modal?(a=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_8.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+
"_8_"+d):(a=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_3_"+d),jQuery("#gMenu_"+d).html('<img src="'+a+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="276" width="62" class="map" hidefocus="true">')):(a=cvjs_imagesLocation+"cvjsToolbar_dra_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+"_2.png",f="#cvjsToolbarMap_p"+cvjs_currentIconPage[cvjs_active_floorplan_div_nr]+
"_"+d,jQuery("#gMenu_"+d).html('<img src="'+a+'" style="margin-left: 10px; margin-top: 10px;" usemap="'+f+'" border="0" height="303" width="62" class="map" hidefocus="true">'));console.log("page change  #gMenu_"+d+"  "+jQuery("#gMenu_"+d).html())}function cvjs_setIconInterfaceControls_ViewingOnly(a){cvjs_active_floorplan_div_nr=void 0==a?0:cvjs_rPaperIndex(a+"_svg");cvjs_userControlled_MaxIconPages[cvjs_active_floorplan_div_nr]=1}
function cvjs_setIconInterfaceControls_SpaceManagement(a){cvjs_active_floorplan_div_nr=void 0==a?0:cvjs_rPaperIndex(a+"_svg");cvjs_userControlled_MaxIconPages[cvjs_active_floorplan_div_nr]=5;cvjs_loadCurrentLoadedDrawingAsString=!0}function cvjs_setIconInterfaceControls_ImageInsert(){cvjs_userControlled_MaxIconPages[cvjs_active_floorplan_div_nr]=4}
function cvjs_initiateInsertRedlineText(a){var d=jQuery("#redline_text").val(),f=jQuery("#cvjs_redlineFontSizeInput_"+a).val();jQuery("#redlinetextModal_"+a).hide();cvjs_insertRedlineText(d,f)}var image_encapsulate_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_currentImageLink_id=0,cvjs_currentImageLink_underbar=0,currentImageNoteId,defaultColor_ImageNotes={fill:"#DCCCFF"},highlightColor_ImageNotes={fill:"#DC05FF"};
function cvjs_insertImageLink(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_currentImageLink_id=vqImageNotes.length-1;if(isNaN(cvjs_currentImageLink_id)||0>cvjs_currentImageLink_id)cvjs_currentImageLink_id=0;cvjs_currentImageLink_id=cvjs_currentImageLink_underbar+1;cvjs_addHandleFunc_ImageLink()}
function cvjs_addHandleFunc_ImageLink(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=
canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_imagelink);mouseMoveStickyNote=!1;handleGroup.mousemove(mousemove_imagelink)}}
function cvjs_removeHandleFunc_ImageLink(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{-1<FileName.indexOf(".pdf")&&cvjs_customPdfFolderFlag&&savepageaspdf(floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(a){console.log("pdf 12: "+a)}}
var mousemove_imagelink=function(a,d,f){0==mouseMoveStickyNote&&(a=0,10>cvjs_currentImageLink_id&&(a=3),tRubberBand_sn=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0.01,0.01h20v20h-20v-20Z").attr({stroke:"#000000","stroke-width":"1.0",fill:"none"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M4,11h11v8h-11v-8h2 M4,19 8,14 10,16 12.5,15 15,19").attr({stroke:"#000000","stroke-width":"0.5",fill:"none"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].text(3+
a,9,"#"+cvjs_currentImageLink_id).attr({"font-size":"8px","font-style":"italic",stroke:"#000000","stroke-width":"0.3",fill:"#000000"})),mouseMoveStickyNote=!0);d+=document.body.scrollLeft;f+=document.body.scrollTop;a=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr])/600;tTransform_c="T"+((d-delta_x)/global_scale+10*a)+","+((f-delta_y)/global_scale+10*a);tTransform_c+="S"+a;tRubberBand_sn.attr({transform:tTransform_c})},mousedown_imagelink=function(a,d,f){var h=floorplan_div_Array[cvjs_active_floorplan_div_nr];tTransform_c="t0,0S"+n/100;tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"});tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"});tRubberBand_sn.remove();a=0;10>cvjs_currentImageLink_id&&
(a=3);tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0.01,0.01h20v20h-20v-20Z").attr({stroke:"#000000","stroke-width":"1.0"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M4,11h11v8h-11v-8h2").attr({stroke:"#000000","stroke-width":"0.5"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].text(3+a,9,"#"+cvjs_currentImageLink_id).attr({"font-size":"8px","font-style":"italic",stroke:"#000000","stroke-width":"0.3",fill:"#000000","fill-opacity":1}),
cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M4,19 8,14 10,16 12.5,15 15,19").attr({stroke:"#000000","stroke-width":"0.5",fill:"#000000"}));d+=document.body.scrollLeft;f+=document.body.scrollTop;var n=1;n=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/
600;tTransform_c="T"+((d-delta_x)/global_scale+10*n)+","+((f-delta_y)/global_scale+10*n);tTransform_c+="S"+n;tRubberBand_c.attr({transform:tTransform_c,opacity:"1"});tRubberBand_c.attr({fill:"#DCCCFF","fill-opacity":"0.8",stroke:"#000","stroke-opacity":"1"});cvjs_currentStickyNote_transform=tTransform_c;cvjs_removeHandleFunc_ImageLink();d=tRubberBand_c.data("node",cvjs_currentImageLink_underbar);vqImageNotes.push(d);currentImageNoteId=vqImageNotes.length-1;vqImageNotes[currentImageNoteId].data("id",
currentImageNoteId+1);vqImageNotes[currentImageNoteId].data("name","object"+(currentImageNoteId+1));vqImageNotes[currentImageNoteId].data("layer","objectLayer");vqImageNotes[currentImageNoteId].data("group","unassigned");vqImageNotes[currentImageNoteId].data("username",cvjs_currentRedline_username);vqImageNotes[currentImageNoteId].data("userid",cvjs_currentRedline_userid);vqImageNotes[currentImageNoteId].data("currentPage",multiPages[cvjs_active_floorplan_div_nr].currentPage);vqImageNotes[currentImageNoteId].data("imageObject",
"");vqImageNotes[currentImageNoteId].data("imageHeight",450);vqImageNotes[currentImageNoteId].data("imageWidth",600);vqImageNotes[currentImageNoteId].data("transform",tTransform_c);jQuery("#cvjs_floorPlanInsertImage").html("");vqImageNotes[cvjs_currentImageLink_underbar].mousedown(function(a){a=this.data("node");jQuery("#cvjs_imageObject").html("<b>"+languageTable.languages[cvjs_currentLanguage].ImageObjectModal.Header+(a+1)+"</b>");""==vqImageNotes[a].data("imageObject")?jQuery("#cvjs_floorPlanInsertImage").html(""):
(cvjs_buildFolderTree_crossDomain?jQuery("#cvjs_floorPlanInsertImage").html("<img src='"+cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+cvjs_insertImagesRelativePath+"/"+vqImageNotes[a].data("imageObject")+"' height='"+vqImageNotes[a].data("imageHeight")+"' />"):jQuery("#cvjs_floorPlanInsertImage").html("<img src='"+cvjs_insertImagesRelativePath+"/"+vqImageNotes[a].data("imageObject")+"' height='"+vqImageNotes[a].data("imageHeight")+"' />"),jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+
h).css("width",vqImageNotes[a].data("imageWidth")+8),jQuery("#cvjs_floorPlanInsertImage").css("width",vqImageNotes[a].data("imageWidth")),jQuery("#cvjs_floorPlanInsertImageTop").css("width",vqImageNotes[a].data("imageWidth")));image_encapsulate_offset_flag[cvjs_active_floorplan_div_nr]&&(image_encapsulate_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+h).css({position:"fixed"}),jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+h).offset({left:150+jQuery("#"+
h).position().left,top:50+jQuery("#"+h).position().top}));jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+h).show()}).mousemove(function(a){currentImageNoteId=this.data("node");vqImageNotes[currentImageNoteId].attr(highlightColor_ImageNotes)}).mouseout(function(a){currentImageNoteId=this.data("node");vqImageNotes[currentImageNoteId].attr(defaultColor_ImageNotes)}).mouseup(function(a){}).touchstart(function(a){}).touchmove(function(a){}).touchend(function(a){}).dblclick(function(a){});cvjs_currentImageLink_underbar++},
cvjs_quickCountCounter=0,vqQuickCount=[],cvjs_callbackQuickCount=!1;function cvjs_setCallbackQuickCount(a){cvjs_callbackQuickCount=a}
function cvjs_showMeCounts(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_displayInformationModal(a,0==cvjs_quickCountCounter||1==cvjs_quickCountCounter?languageTable.languages[cvjs_currentLanguage].InfoMessageModal.QuickCountSingle+cvjs_quickCountCounter:languageTable.languages[cvjs_currentLanguage].InfoMessageModal.QuickCountMultiple+cvjs_quickCountCounter)}
function cvjs_clearQuickCounts(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);if(0<vqQuickCount.length){for(a=0;a<vqQuickCount.length;a++)vqQuickCount[a].data("deleted",!0),vqQuickCount[a].attr({transform:"S0.001",opacity:"0.01"});vqQuickCount.length=0}cvjs_quickCountCounter=0}
function cvjs_quickCount(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_quickCountCounter=0;if(0<vqQuickCount.length){for(a=0;a<vqQuickCount.length;a++)vqQuickCount[a].data("deleted",!0),vqQuickCount[a].attr({transform:"S0.001",opacity:"0.01"});vqQuickCount.length=0}cvjs_quickCountCounter=cvjs_currentImageLink_underbar=cvjs_currentImageLink_id=0;cvjs_addHandleFunc_QuickCount()}var oldKeyDown,cvjs_quickCount_started=!1;
function cvjs_addHandleFunc_QuickCount(){if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;mouseMoveStickyNote=!1;cvjs_quickCount_started=!0;canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];
global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.dblclick(dblclick_quickcount);handleGroup.mousedown(mousedown_quickcount);handleGroup.mousemove(mousemove_quickcount);handleGroup.mouseup(mouseup_quickcount);oldKeyDown=jQuery(document).keydown().bind({});
jQuery(document).keydown(function(a){27==a.keyCode&&cvjs_quickCount_started&&(tTransform_c="t0,0S0.01",tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"}),tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"}),cvjs_removeHandleFunc_QuickCount(),jQuery(document).keydown()==oldKeyDown)})}}
function cvjs_exitQuickCount(a){tTransform_c="t0,0S0.01";tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"});tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"});cvjs_removeHandleFunc_QuickCount()}
function cvjs_removeHandleFunc_QuickCount(){handleGroup.selectAll("handler").remove();handleGroup.remove();cvjs_quickCount_started=!1;cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;try{cvjs_callbackQuickCount&&cvjs_QuickCountCallback(cvjs_quickCountCounter)}catch(a){console.log(a)}}
var mousemove_quickcount=function(a,d,f){x_quickcount_move=d;y_quickcount_move=f;0==mouseMoveStickyNote&&(tRubberBand_sn=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0,-14 4,-10 12,-18 11,-19 4,-12 1,-15 0,-14 4,-10").attr({stroke:"#FF7F27","stroke-width":"0.5",fill:"#FF7F27"})),mouseMoveStickyNote=!0);d+=document.body.scrollLeft;f+=document.body.scrollTop;tTransform_c="t"+(d-delta_x)/global_scale+","+(f-delta_y)/global_scale;tTransform_c+="S"+(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/600);tRubberBand_sn.attr({transform:tTransform_c})},dblclick_quickcount=function(a,d,f){tTransform_c="t0,0S0.01";tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"});tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",
stroke:"#000","stroke-opacity":"0.0"});cvjs_removeHandleFunc_QuickCount()},mousedown_quickcount=function(a,d,f){},x_quickcount_last=0,y_quickcount_last=0,mouseup_quickcount=function(a,d,f){3>Math.abs(d-x_quickcount_last)&&3>Math.abs(f-y_quickcount_last)||(3==a.which?(tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"}),tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"}),cvjs_removeHandleFunc_QuickCount()):(tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0,-14 4,-10 12,-18 11,-19 4,-12 1,-15 0,-14 4,-10").attr({stroke:"#FF7F27",
"stroke-width":"0.5",fill:"#FF7F27"})),d+=document.body.scrollLeft,f+=document.body.scrollTop,tTransform_c="t"+(d+global_scale-delta_x)/global_scale+","+(f+global_scale-delta_y)/global_scale,tTransform_c+="S"+(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/
600),tRubberBand_c.attr({transform:tTransform_c,opacity:"1"}),tRubberBand_c.attr({fill:"#DCCCFF","fill-opacity":"0.8",stroke:"#000","stroke-opacity":"1"}),cvjs_currentStickyNote_transform=tTransform_c,a=tRubberBand_c.data("node",cvjs_currentImageLink_underbar),vqQuickCount.push(a),cvjs_quickCountCounter++,x_quickcount_last=d,y_quickcount_last=f))};
function cvjs_setSpacePolygonOnLayer(a){floorplan_div.lastIndexOf("_svg")!=floorplan_div.length-4&&(floorplan_div+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(floorplan_div);cvjs_findSVGcoordinate_setPolygonOnLayer()}
function cvjs_findSVGcoordinate_setPolygonOnLayer(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:
global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],
actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(mousedown_cvjs_svgCoord_polygonfind)}function onSegment(a,d,f,h,n,p){return f<=Math.max(a,n)&&f>=Math.min(a,n)&&h<=Math.max(d,p)&&h>=Math.min(d,p)?!0:!1}function orientation(a,d,f,h,n,p){a=(h-d)*(n-f)-(f-a)*(p-h);return 0==a?0:0<a?1:2}
function doIntersect(a,d,f,h,n,p,q,t){var u=orientation(a,d,f,h,n,p),v=orientation(a,d,f,h,q,t),w=orientation(n,p,q,t,a,d),x=orientation(n,p,q,t,f,h);return u!=v&&w!=x||0==u&&onSegment(a,d,n,p,f,h)||0==v&&onSegment(a,d,q,t,f,h)||0==w&&onSegment(n,p,a,d,q,t)||0==x&&onSegment(n,p,f,h,q,t)?!0:!1}
function isInside(a,d,f,h,n){if(3>f)return!1;p_extreme_x=1E5;p_extreme_y=n;var p=0,q=0;do{var t=(q+1)%f;if(doIntersect(a[q],d[q],a[t],d[t],h,n,p_extreme_x,p_extreme_y)){if(0==orientation(a[q],d[q],h,n,a[t],d[t]))return onSegment(a[q],d[q],h,n,a[t],d[t]);p++}q=t}while(0!=q);return p&1}
var mousedown_cvjs_svgCoord_polygonfind=function(a,d,f){a=(d-delta_x)/global_scale;f=(f-delta_y)/global_scale;cvjs_debug&&console.log("SVG coordinates: "+a+"  "+f+" RoomLayer "+cvjs_convertRoomLayer);handleGroup.selectAll("handler").remove();handleGroup.remove();d="";for(h=0;h<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;h++)-1<layerTable[cvjs_active_floorplan_div_nr].layers[h].layerName.indexOf(cvjs_convertRoomLayer)&&layerTable[cvjs_active_floorplan_div_nr].layers[h].layerName.length==
cvjs_convertRoomLayer.length&&(d=layerTable[cvjs_active_floorplan_div_nr].layers[h].layer.toString(),0==d.indexOf("layer_")&&(d=jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[h].layer).html()));d=d.substring(d.indexOf("<path"));d=d.substring(0,d.indexOf(">"));d=d.substring(d.indexOf(" d=")+4);d=d.substring(0,d.indexOf('"'));var h=0;for(cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(a,f,.1).attr({"stroke-width":"0.06"}).attr({fill:"none"}).attr({stroke:"rgb(255,0,0)"});-1<d.indexOf("M");){if(0==
d.indexOf("M")){var n=d=d.substring(1);n="M"+n.substring(0,n.indexOf("M"));for(var p=n.substring(1).split("l"),q=[],t=[],u=0;u<p.length;u++){var v=p[u].split(",");0==u?(q[u]=Number(v[0]),t[u]=Number(v[1])):(q[u]=q[u-1]+Number(v[0]),t[u]=t[u-1]+Number(v[1]));cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(q[u],t[u],.1).attr({"stroke-width":"0.06"}).attr({fill:"none"}).attr({stroke:"rgb(0,255,0)"})}cvjs_rPaper[cvjs_active_floorplan_div_nr].path(n).attr({"stroke-width":"0.01"}).attr({fill:"none"}).attr({stroke:"rgb(255,0,0)"});
p=!1;q=isInside(q,t,q.length,a,f);0!=q&&(cvjs_debug&&console.log("FLAG="+q),p=!0);d=d.substring(d.indexOf("M"));p&&console.log("polyFlag IS NOW TRUE");p&&(Node_id=cvjs_currentMaxNodeId(),Node_id++,currentNode_underbar=Node_underbar+Node_id,currentNode_id="NODE_"+Node_id,currentNode_attributes=currentNode_group=currentNode_layer=currentNode_name="unassigned",currentNode_attributeStatus="unpopulated",currentNode_tags=currentNode_tags=currentNode_type="unassigned",currentNode_linked=!1,cvjs_setCurrentNodeValues(currentNode_underbar,
currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked),n=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(n).attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"}),cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,n),cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar),cvjs_graphicalObjectCreated("Polygon"),
loopflag=!1)}h++}};
function cvjs_combineRoomTextlayer(){cvjs_debug&&console.log("SVG coordinates: 500  500 RoomLayer "+cvjs_convertRoomLayer+" "+cvjs_convertTextLayer);var a="",d="";for(f=0;f<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;f++)-1<layerTable[cvjs_active_floorplan_div_nr].layers[f].layerName.indexOf(cvjs_convertTextLayer)&&layerTable[cvjs_active_floorplan_div_nr].layers[f].layerName.length==cvjs_convertTextLayer.length&&(d=layerTable[cvjs_active_floorplan_div_nr].layers[f].layer.toString());cvjs_debug&&
console.log(d);for(f=0;f<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;f++)-1<layerTable[cvjs_active_floorplan_div_nr].layers[f].layerName.indexOf(cvjs_convertRoomLayer)&&layerTable[cvjs_active_floorplan_div_nr].layers[f].layerName.length==cvjs_convertRoomLayer.length&&(a=layerTable[cvjs_active_floorplan_div_nr].layers[f].layer.toString(),0==a.indexOf("layer_")&&(a=jQuery("#"+layerTable[cvjs_active_floorplan_div_nr].layers[f].layer).html()));a=a.substring(a.indexOf("<path"));a=a.substring(0,
a.indexOf(">"));a=a.substring(a.indexOf(" d=")+4);a=a.substring(0,a.indexOf('"'));var f=0;cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(500,500,.1).attr({"stroke-width":"0.06"}).attr({fill:"none"}).attr({stroke:"rgb(255,0,0)"});for(var h=!0;-1<a.indexOf("M");)if(0==a.indexOf("M")){f=a=a.substring(1);var n="M"+f.substring(0,f.indexOf("M"));f=n.substring(1).split("l");for(var p=[],q=[],t=0;t<f.length;t++){var u=f[t].split(",");0==t?(p[t]=Number(u[0]),q[t]=Number(u[1])):(p[t]=p[t-1]+Number(u[0]),
q[t]=q[t-1]+Number(u[1]))}var v=!1;jQuery("text").each(function(a){if(!v){var f="#"+d;a="";a=jQuery(this).parents().find(f).eq(0).attr("id");f=jQuery(this).parents().map(function(){return this.tagName+" "+this.id}).get().join(", ");-1<f.indexOf("Block_")&&(a="NONE");h&&console.log("TEXT:"+jQuery(this).text()+" parent layer "+a+"  all parents "+f);void 0==a&&(a="NONE");0==a.indexOf(d)&&(0==jQuery(this).text().indexOf("1W")||0==jQuery(this).text().indexOf("1Z")||0==jQuery(this).text().indexOf("1U")||
0==jQuery(this).text().indexOf("6E")||0==jQuery(this).text().indexOf("6T"))&&(a=jQuery(this).attr("x"),f=jQuery(this).attr("y"),v=isInside(p,q,p.length,a,f))&&(Node_id=cvjs_currentMaxNodeId(),Node_id++,currentNode_underbar=Node_underbar+Node_id,currentNode_id="NODE_"+Node_id,currentNode_name=jQuery(this).text(),currentNode_layer="Y",currentNode_group="X",currentNode_attributes="1",currentNode_attributeStatus="populated",currentNode_tags=currentNode_type="Door Box",currentNode_linked=!1,cvjs_setCurrentNodeValues(currentNode_underbar,
currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked),a=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(n).attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"}),cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,a),cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar),cvjs_graphicalObjectCreated("Polygon"),
loopflag=!1)}});a=a.substring(a.indexOf("M"));h=!1}}
var icon_command_active=0,currentLinkId=-1,load_waitflag_files=0,load_waitflag_overlay=0,load_waitflag_cluster=0,load_waitflag_linklist=0,edit_cancel_flag=!1,fArr_Name=[],fArr_Id=[],fArr_PolygonNr=[],fArr_PolygonLayerName=[],fArr_Occupancy=[],fArr_Tags=[],fArr_Type=[],fArr_Layer=[],fArr_Maximo_Datafield1=[],fArr_Maximo_Datafield2=[],fArr_Maximo_Datafield3=[],fArr_Name_fixtures=[],fArr_Id_fixtures=[],fArr_PolygonNr_fixtures=[],fArr_PolygonLayerName_fixtures=[],fArr_Occupancy_fixtures=[],fArr_Tags_fixtures=
[],fArr_Type_fixtures=[],fArr_Layer_fixtures=[],overlay_flag=0,save_drawing_flag=0;fnArr_FileName=[];fnArr_ShortName=[];fnArr_listdirectory_FileName=[];fnArr_listdirectory_ShortName=[];var searchListType=[],searchListOccupancy=[],searchListTags=[],new_linkList="";function cvjs_getSizeOfLinkedObjects(){return vqRooms[cvjs_active_floorplan_div_nr].length}
function generate_new_linkList_fixtures(){new_linkList_fixtures="";for(var a=0;a<fArr_Name_fixtures.length;a++)-1==fArr_PolygonNr_fixtures[a]&&(new_linkList_fixtures=new_linkList_fixtures+"<li><a href=\"javascript:change_link_fixtures('"+fArr_Id_fixtures[a]+"')\">"+(""==fArr_Name_fixtures[a]?fArr_Id_fixtures[a]:fArr_Name_fixtures[a])+"</a></li>");jQuery("#fixtures_drawing").html(new_linkList_fixtures)}
function generate_new_linkList(){new_linkList="";cvjs_debug&&console.log("generate_new_linklist ");for(var a=0;a<fArr_Name.length;a++)if(-1==fArr_PolygonNr[a])new_linkList=new_linkList+"<li><a href=\"javascript:change_link_space('"+fArr_Id[a]+"')\">"+fArr_Name[a]+"</a></li>";else{cvjs_debug&&console.log(a+" association! ");for(var d=!0,f=0;f<searchListType.length;f++)searchListType[f]==fArr_Type[a]&&(d=!1);1==d&&searchListType.push(fArr_Type[a]);d=!0;for(f=0;f<searchListOccupancy.length;f++)searchListOccupancy[f]==
fArr_Occupancy[a]&&(d=!1);1==d&&searchListOccupancy.push(fArr_Occupancy[a]);d=!0;for(f=0;f<searchListTags.length;f++)searchListTags[f]==fArr_Tags[a]&&(d=!1);1==d&&searchListTags.push(fArr_Tags[a])}searchListType.sort();searchListOccupancy.sort();searchListTags.sort();load_waitflag_linklist=1;1==load_waitflag_files&&1==load_waitflag_cluster&&1==load_waitflag_overlay&&1==load_waitflag_linklist&&jQuery("#loadpane_small").hide();jQuery("#spaces_drawing").html(new_linkList)}
function reset_color_on_selected_space(){var a=-1;if(0<=selectedLinkUnlinkLayer.indexOf("NODE_")){for(var d=0;d<fArr_Name.length;d++)0<=fArr_PolygonLayerName[d].indexOf(selectedLinkUnlinkLayer)&&(a=d);for(d=0;d<fArr_Name_fixtures.length;d++)0<=fArr_PolygonLayerName_fixtures[d].indexOf(selectedLinkUnlinkLayer)&&(a=d)}-1<a||selectedLinkUnlinkLayer.indexOf("NODE_")}
function cvjs_createSpaceLocationArrays(a,d){var f=0;for(i=0;i<a.length;i++)fArr_Name[f]=a[i],fArr_Id[f]=d[i],fArr_PolygonNr[f]=-1,fArr_PolygonLayerName[f]="none",fArr_Type[f]=-1,fArr_Occupancy[f]=-1,fArr_Tags[f]=-1,f++;for(f=0;f<fArr_Name.length-1;f++)for(var h=f+1;h<fArr_Name.length;h++)fArr_Name[f].toLowerCase()>fArr_Name[h].toLowerCase()&&(a=fArr_Name[h],d=fArr_Id[h],fArr_Name[h]=fArr_Name[f],fArr_Id[h]=fArr_Id[f],fArr_Name[f]=a,fArr_Id[f]=d);for(f=0;f<fArr_Name.length;f++)for(spc in fArr_PolygonNr[f]=
-1,fArr_PolygonLayerName[f]="none",fArr_Type[f]=-1,fArr_Occupancy[f]=-1,fArr_Tags[f]=-1,vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==fArr_Id[f]&&(fArr_PolygonNr[f]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("name"),fArr_PolygonLayerName[f]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"),fArr_Layer[f]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer"),0<=vqRooms[cvjs_active_floorplan_div_nr][spc].data("type").indexOf("undefined")||
(fArr_Type[f]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("type")),0<=vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy").indexOf("undefined")||(fArr_Occupancy[f]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy")),fArr_Tags[f]="");cvjs_debug&&console.log("generate_new_linkList");generate_new_linkList()}function change_link_space(a){currentLinkId=a;for(var d=0;d<fArr_Name.length;d++)fArr_Id[d]==a&&jQuery("#drop_link_spaces").html(fArr_Name[d]+'<b class="caret"></b>')}
function change_objects_generic(a){window.alert("I have selected this from the list "+a)}var cvjs_dataMapsHeaderArray=null;function cvjs_createDataMapsHeaders(a){cvjs_dataMapsHeaderArray=a;cvjs_debug&&console.log("cvjs_dataMapsHeaderArray "+cvjs_dataMapsHeaderArray);for(var d='<div class="dropdown-content">',f=0;4>f;f++)d=d+"<li><a href=\"javascript:cvjs_change_datamaps('"+f+"')\">"+a[f]+"</a></li>";d+="</div>";jQuery("#select_datamaps").html(d)}function allocateLayer(a){layers_all_overlay=a}
function allocateLayer2(a){layers_all_overlay2=a}var cvjs_fileOverlay=!1,cvjs_firstInLineDrawingContent="",secondLoading=!1;
function cvjs_OnLoadEndCompareDrawings(){cvjs_debug&&console.log("XXXXXXXXXXXX  Compare       "+cvjs_loadCompareDrawingSwitch+"  "+cvjs_fileOverlay+" second drawing "+cvjs_compareDrawingsSecondDrawing+"  first drawing"+cvjs_compareDrawingsFirstDrawing);if(cvjs_loadSecondCompareDrawing){cvjs_loadSecondCompareDrawing=!1;cvjs_compareDrawingsSecondDrawing=current_jsFloorNames;var a=cvjs_compareDrawingsSecondDrawing=cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr];-1<a.lastIndexOf("/")&&(a=
a.substring(a.lastIndexOf("/")+1));-1<a.lastIndexOf("&filename=")&&(a=a.substring(a.lastIndexOf("&filename=")+10));if(cvjs_CompareFiles_CustomFileModalContent_flag)for(jj=0;jj<cvjs_CompareFiles_CustomFileModalContent.length;jj++)-1<cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf(cvjs_compareDrawingsSecondDrawing)&&(a=cvjs_CompareFiles_CustomFileModalContent[jj].filenameText);jQuery("#compareDrawingMenuText2_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(a);cvjs_debug&&console.log(current_jsFloorNames+
"PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP   cvjs_compareDrawingsSecondDrawing="+cvjs_compareDrawingsSecondDrawing)}cvjs_debug&&console.log("YYYYYYYYYYYY cvjs_loadSecondCompareDrawing "+cvjs_loadSecondCompareDrawing+" cvjs_OnLoadEndCompareDrawings "+cvjs_fileOverlay);try{cvjs_changeToIconPage(3)}catch(d){console.log("Page change fails "+d)}cvjs_fileOverlay&&(a="",secondLoading?(a="#main_master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"_secondfile",secondLoading=!1):a="#main_master_"+floorplan_div_Array[cvjs_active_floorplan_div_nr],
console.log(a),jQuery(a).find("g").each(function(){for(var a=0;a<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;a++)jQuery(this).hasClass(layerTable[cvjs_active_floorplan_div_nr].layers[a].layerClass)&&(firstOverlayCompareFile&&jQuery(this).addClass("firstOverlayCompareFile").removeClass(layerTable[cvjs_active_floorplan_div_nr].layers[a].layerClass),jQuery(this).find("path").each(function(){colorFlag?(jQuery(this).css("stroke","#f00"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill",
"#f00")):(jQuery(this).css("stroke","#00f"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#00f"));jQuery(this).css("opacity","1.0")}),jQuery(this).find("text").each(function(){colorFlag?(jQuery(this).css("stroke","#f00"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#f00")):(jQuery(this).css("stroke","#00f"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#00f"));jQuery(this).css("opacity","1.0")}),jQuery(this).find("circle").each(function(){colorFlag?(jQuery(this).css("stroke",
"#f00"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#f00")):(jQuery(this).css("stroke","#00f"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#00f"));jQuery(this).css("opacity","1.0")}),jQuery(this).find("ellipse").each(function(){colorFlag?(jQuery(this).css("stroke","#f00"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#f00")):(jQuery(this).css("stroke","#00f"),"none"!=jQuery(this).css("fill")&&jQuery(this).css("fill","#00f"));jQuery(this).css("opacity","1.0")}))}));
cvjs_debug&&console.log("TRY AGAIN");!firstOverlayCompareFile&&fileOverlay&&(cvjs_debug&&console.log("add layers_all_overlay"),fileOverlay=!1);1==cvjs_loadCompareDrawingSwitch&&(fileOverlay=!0,allocateLayer(layers_all),cvjs_debug&&console.log(layers_all_overlay),cvjs_setInitMasterBackgroundMode(!1),firstOverlayCompareFile=colorFlag=!1,cvjs_debug&&console.log("XXX1 cvjs_loadCompareDrawingSwitch="+cvjs_loadCompareDrawingSwitch+" cvjs_compareDrawingsSecondDrawing="+cvjs_compareDrawingsSecondDrawing),
cvjs_loadCompareDrawingSwitch=0,secondLoading=!0,cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_compareDrawingsSecondDrawing));2==cvjs_loadCompareDrawingSwitch&&(fileOverlay=!0,allocateLayer(layers_all),cvjs_debug&&console.log(layers_all_overlay),cvjs_setInitMasterBackgroundMode(!1),colorFlag=!0,firstOverlayCompareFile=!1,cvjs_debug&&console.log("XXXX2 cvjs_loadCompareDrawingSwitch="+cvjs_loadCompareDrawingSwitch+" cvjs_compareDrawingsFirstDrawing="+cvjs_compareDrawingsFirstDrawing),
cvjs_loadCompareDrawingSwitch=0,secondLoading=!0,cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_compareDrawingsFirstDrawing));1==cvjs_drawingLoadCounter&&(cvjs_drawingLoadCounter=0,cvjs_debug&&console.log("LLLLLLLLLLLL we have loaded the first file again as js cvjs_compareDrawingsFirstDrawing "+cvjs_compareDrawingsFirstDrawing),colorFlag=!1,cvjs_openFileLoadToServer(floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_loadSecondCompareDrawing=!0);cvjs_debug&&console.log("OnLoadEnd compare drawings rpaper ")}
var cvjs_loadSecondCompareDrawing=!1,cvjs_drawingLoadCounter=0,cvjs_loadSecondCompareDrawingDirect=!1,cvjs_loadSecondCompareDrawingDirect_fileName="../content/drawings/dwg_compare_drawings/hq17-2.dwg";function cvjs_setCompareDrawings_LoadSecondDrawingDirect(a,d){cvjs_loadSecondCompareDrawingDirect=!0;cvjs_loadSecondCompareDrawingDirect_fileName=d;jQuery("#floatCompareDrawingMenu_"+a).show()}function cvjs_setCompareDrawings_StandardModal(a){cvjs_loadSecondCompareDrawingDirect=!1}
function cvjs_compareDrawings_LoadSecondDrawing(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_debug&&console.log("cvjs_compareDrawings_LoadSecondDrawing(");jQuery("#floatCompareDrawingMenu_"+a).show();var d=a;a.lastIndexOf("_svg")==a.length-4&&(d=a.substring(0,a.length-4));var f=jQuery("#"+d).position();d=f.top+jQuery("#"+a).height()-75;f=f.left+jQuery("#"+a).width()-325;jQuery("#floatCompareDrawingMenu_"+a).offset({top:d,left:f});d=cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr];
-1<d.lastIndexOf("/")&&(d=d.substring(d.lastIndexOf("/")+1));-1<d.lastIndexOf("&filename=")&&(d=d.substring(d.lastIndexOf("&filename=")+10));cvjs_debug&&console.log("cvjs_CompareFiles_CustomFileModalContent_flag ="+cvjs_CompareFiles_CustomFileModalContent_flag);if(cvjs_CompareFiles_CustomFileModalContent_flag)for(jj=0;jj<cvjs_CompareFiles_CustomFileModalContent.length;jj++){cvjs_debug&&(console.log(jj+" originating file "+cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr]),console.log(jj+
" Content[jj].url "+cvjs_CompareFiles_CustomFileModalContent[jj].url),console.log(jj+" Content[jj].text "+cvjs_CompareFiles_CustomFileModalContent[jj].filenameText));f=cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr].indexOf("/wopi/files");if(0<f){f=cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr].substring(0,f+1);var h=cvjs_CompareFiles_CustomFileModalContent[jj].url.substring(cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf("/wopi/files")+1);cvjs_CompareFiles_CustomFileModalContent[jj].url=
f+h}cvjs_debug&&console.log(jj+"NEW NEW Content[jj].url "+cvjs_CompareFiles_CustomFileModalContent[jj].url);-1<cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf(cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr])&&(d=cvjs_CompareFiles_CustomFileModalContent[jj].filenameText)}cvjs_debug&&console.log("We have firstFile "+d+"  here before setting cvjs_compareDrawings="+cvjs_compareDrawings);jQuery("#compareDrawingMenuText1_"+a).html(d);jQuery("#compareDrawingMenuText2_"+a).html("");
cvjs_compareDrawings?cvjs_debug&&console.log("exit! currentLoadedDrawingFullName="+currentLoadedDrawingFullName):(cvjs_compareDrawingsFirstDrawing=currentLoadedDrawingFullName,cvjs_compareDrawingsFirstDrawing=cvjs_conversion_originatingFile[cvjs_active_floorplan_div_nr],cvjs_fileOverlay=cvjs_compareDrawings=!0,cvjs_toggleFlag=!1,colorFlag=!0,cvjs_drawingLoadCounter=0,cvjs_debug&&console.log(currentLoadedDrawingFullName),cvjs_OnLoadEndCompareDrawings(),colorFlag=!1,cvjs_loadSecondCompareDrawing=!0,
cvjs_debug&&console.log("Here we load the drawing "+cvjs_loadSecondCompareDrawingDirect_fileName),cvjs_loadSecondCompareDrawingDirect?cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_loadSecondCompareDrawingDirect_fileName):cvjs_openFileLoadToServer(floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_debug&&console.log("here we colour the current drawing blue, have to store the name of current drawing and load in a new drawing, that drawing is colored red"))}
var cvjs_toggleFlag=!1,cvjs_toggeDrawings=!1,cvjs_loadCompareDrawingSwitch=0;
function cvjs_compareDrawings_ToggleDrawingOverlay(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_toggleFlag=!cvjs_toggleFlag;a=cvjs_compareDrawingsFirstDrawing;-1<a.lastIndexOf("/")&&(a=a.substring(a.lastIndexOf("/")+1));-1<a.lastIndexOf("&filename=")&&(a=a.substring(a.lastIndexOf("&filename=")+10));var d=cvjs_compareDrawingsSecondDrawing;-1<d.lastIndexOf("/")&&(d=d.substring(d.lastIndexOf("/")+1));-1<d.lastIndexOf("&filename=")&&(d=d.substring(d.lastIndexOf("&filename=")+
10));if(cvjs_CompareFiles_CustomFileModalContent_flag)for(jj=0;jj<cvjs_CompareFiles_CustomFileModalContent.length;jj++)-1<cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf(cvjs_compareDrawingsFirstDrawing)&&(a=cvjs_CompareFiles_CustomFileModalContent[jj].filenameText);if(cvjs_CompareFiles_CustomFileModalContent_flag)for(jj=0;jj<cvjs_CompareFiles_CustomFileModalContent.length;jj++)-1<cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf(cvjs_compareDrawingsSecondDrawing)&&(d=cvjs_CompareFiles_CustomFileModalContent[jj].filenameText);
cvjs_toggleFlag?(jQuery("#compareDrawingMenuText1_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("&darr; "+a),jQuery("#compareDrawingMenuText2_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("&uarr; "+d)):(jQuery("#compareDrawingMenuText1_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("&uarr; "+a),jQuery("#compareDrawingMenuText2_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html("&darr; "+d));cvjs_toggleFlag&&(colorFlag=!0,FileName=cvjs_compareDrawingsFirstDrawing,
cvjs_loadCompareDrawingSwitch=1,cvjs_LoadDrawing(floorPlan_div,FileName));cvjs_toggleFlag||(colorFlag=!1,FileName=cvjs_compareDrawingsSecondDrawing,cvjs_loadCompareDrawingSwitch=2,cvjs_LoadDrawing(floorPlan_div,FileName));cvjs_debug&&console.log("here we have to toggle the drawings with overlay in red and blue to see the difference")}
function cvjs_compareDrawings_ToggleDrawings(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);a=cvjs_compareDrawingsFirstDrawing;-1<a.lastIndexOf("/")&&(a=a.substring(a.lastIndexOf("/")+1));-1<a.lastIndexOf("&filename=")&&(a=a.substring(a.lastIndexOf("&filename=")+10));var d=cvjs_compareDrawingsSecondDrawing;-1<d.lastIndexOf("/")&&(d=d.substring(d.lastIndexOf("/")+1));-1<d.lastIndexOf("&filename=")&&(d=d.substring(d.lastIndexOf("&filename=")+10));
if(cvjs_CompareFiles_CustomFileModalContent_flag)for(jj=0;jj<cvjs_CompareFiles_CustomFileModalContent.length;jj++)-1<cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf(cvjs_compareDrawingsFirstDrawing)&&(a=cvjs_CompareFiles_CustomFileModalContent[jj].filenameText);if(cvjs_CompareFiles_CustomFileModalContent_flag)for(jj=0;jj<cvjs_CompareFiles_CustomFileModalContent.length;jj++)-1<cvjs_CompareFiles_CustomFileModalContent[jj].url.indexOf(cvjs_compareDrawingsSecondDrawing)&&(d=cvjs_CompareFiles_CustomFileModalContent[jj].filenameText);
jQuery("#compareDrawingMenuText1_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(a);jQuery("#compareDrawingMenuText2_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(d);cvjs_loadCompareDrawingSwitch=0;if(cvjs_toggleFlag=!cvjs_toggleFlag)colorFlag=!0,FileName=cvjs_compareDrawingsFirstDrawing,cvjs_LoadDrawing(floorPlan_div,FileName);cvjs_toggleFlag||(colorFlag=!1,FileName=cvjs_compareDrawingsSecondDrawing,cvjs_LoadDrawing(floorPlan_div,FileName))}
function cvjs_exitCompareDrawings(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_debug&&console.log("here we exit the compare drawings methods");cvjs_compareDrawings=cvjs_fileOverlay=!1;firstOverlayCompareFile=!0;cvjs_LoadDrawing(floorPlan_div,cvjs_compareDrawingsFirstDrawing);cvjs_CompareFiles_CustomFileModalContent_flag=!1;jQuery("#floatCompareDrawingMenu_"+a).hide()}
var cvjs_collabServerUrl="../php/collaboration/",cvjs_collabServerFolder="C:\\xampp\\htdocs\\CV-JS_2_4_1\\php\\collaboration\\",cvjs_collabSessionName="session01";function cvjs_setCollaborationSessionName(a){cvjs_collabSessionName=a}function cvjs_setCollaborationServerUrl(a){cvjs_collabServerUrl=a}function cvjs_setCollaborationServerFolder(a){cvjs_collabServerFolder=a}
function cvjs_collab_timer(){cvjs_debug&&console.log("collab_timer");if(cvjs_collab_mode){cvjs_collabPresenter||(cvjs_debug&&console.log("load redline"),cvjs_setStickyNoteRedlineUrl(cvjs_collabServerUrl+"redlines/"+cvjs_collabSessionName+".js"),cvjs_loadStickyNotesRedlines(floorplan_div_Array[cvjs_active_floorplan_div_nr]),jQuery.ajax({url:cvjs_phpPath+cvjs_serverLoadFileController+"?file="+cvjs_collabServerUrl+"viewports/"+cvjs_collabSessionName+".js",type:"post",cache:!1,success:function(a){if(-1!=
a.indexOf("viewBox_X:")){var d=a.substring(a.indexOf("viewBox_X:")+11);d=d.substring(0,d.indexOf(","));viewBox[cvjs_active_floorplan_div_nr].X=parseFloat(d);cvjs_debug&&console.log("XX"+d+"YY");d=a.substring(a.indexOf("viewBox_Y:")+11);d=d.substring(0,d.indexOf(","));cvjs_debug&&console.log("XX"+d+"YY");viewBox[cvjs_active_floorplan_div_nr].Y=parseFloat(d);d=a.substring(a.indexOf("viewBoxWidth[cvjs_active_floorplan_div_nr]:")+14);d=d.substring(0,d.indexOf(","));cvjs_debug&&console.log("XX"+d+"YY");
viewBoxWidth[cvjs_active_floorplan_div_nr]=parseFloat(d);d=a.substring(a.indexOf("viewBoxHeight[cvjs_active_floorplan_div_nr]:")+15);d=d.substring(0,d.indexOf(","));cvjs_debug&&console.log("XX"+d+"YY");viewBoxHeight[cvjs_active_floorplan_div_nr]=parseFloat(d);a=jQuery.parseJSON('{ "viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a)}}}));
if(cvjs_collabPresenter){cvjs_setCurrentStickyNoteValues_NameUserId(user_name,user_id);cvjs_setCurrentRedlineValues_NameUserid(user_name,user_id);cvjs_debug&&console.log("presenter save redline");cvjs_setStickyNoteSaveRedlineUrl(cvjs_collabServerFolder+"redlines/"+cvjs_collabSessionName+".js");cvjs_saveStickyNotesRedlines(floorplan_div_Array[cvjs_active_floorplan_div_nr]);var a="var cvjs_collaborationViewport = { \n viewBox_X: "+viewBox[cvjs_active_floorplan_div_nr].X+", \n viewBox_Y: "+viewBox[cvjs_active_floorplan_div_nr].Y+
", \n viewBoxWidth[cvjs_active_floorplan_div_nr]: "+viewBoxWidth[cvjs_active_floorplan_div_nr]+", \n viewBoxHeight[cvjs_active_floorplan_div_nr]: "+viewBoxHeight[cvjs_active_floorplan_div_nr]+", \n}";cvjs_debug&&console.log(viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+" "+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y);cvjs_debug&&console.log(a);var d=cvjs_serverHandlersPath+cvjs_serverSaveFileController,f={};f.file=
cvjs_collabServerFolder+"viewports/"+cvjs_collabSessionName+".js";f.file_content=a;cvjs_debug&&console.log(f.file_content+" "+f.file+"  "+d);jQuery.ajax({url:d,type:"post",data:f,success:function(a){}})}1==cvjs_collab_mode&&setTimeout(function(){cvjs_collab_timer()},500)}}var collaboration_start_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_start_collab(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);collaboration_start_offset_flag[cvjs_active_floorplan_div_nr]&&(collaboration_start_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#collabStartModal_"+a).css({position:"fixed"}),jQuery("#collabStartModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}).appendTo("body"));jQuery("#collabStartModal_"+a).show()}
function cvjs_exit_startcollabmodal(a){jQuery("#collabStartModal_"+a).hide()}function cvjs_start_collab_button(a){jQuery("#collabStartModal_"+a).hide();cvjs_collabSessionName=jQuery("#cvjs_collabSessionInput").val();cvjs_collabPresenter=!1;cvjs_collab_mode=!0;cvjs_collab_timer()}
function cvjs_stop_collab(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_collabPresenter=cvjs_collab_mode=!1;cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]);console.log("leaving collab session")}
function cvjs_clear_collab_redline(a){floorplan_div.lastIndexOf("_svg")!=floorplan_div.length-4&&(floorplan_div+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(floorplan_div);cvjs_collabPresenter&&(cvjs_debug&&console.log("clear redline"),cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]),cvjs_saveStickyNotesRedlines(floorplan_div_Array[cvjs_active_floorplan_div_nr]))}
function cvjs_make_collab_presenter(a){floorplan_div.lastIndexOf("_svg")!=floorplan_div.length-4&&(floorplan_div+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(floorplan_div);cvjs_collabPresenter=!cvjs_collabPresenter}function cvjs_downloadFile(a){window.location.href=a}
function cvjs_SVGtoOriginal_X_coord(a,d){var f=Number(cvjs_drawingCoordinates[d].lowerLeft.x);return f+(a-actualLLX[cvjs_active_floorplan_div_nr])/rpWidth[cvjs_active_floorplan_div_nr]*(Number(cvjs_drawingCoordinates[d].upperRight.x)-f)}function cvjs_SVGtoOriginal_Y_coord(a,d){var f=Number(cvjs_drawingCoordinates[d].lowerLeft.y);return f+(a-actualLLY[cvjs_active_floorplan_div_nr])/rpHeight[cvjs_active_floorplan_div_nr]*(Number(cvjs_drawingCoordinates[d].upperRight.y)-f)}
var cvjs_currentSVGHyperLinkID="",cvjs_currentSVGHyperLinkCSS=[],cvjs_currentSVGHyperLinkClassList=[],cvjs_SVGHyperLinkCSSAll=[],cvjs_SVGHyperLinkCSSAll_Org=[],cvjs_SVGHyperLinkCSSAll_XDrag=0,cvjs_SVGHyperLinkCSSAll_YDrag=0,cvjs_SVGHyperLinkCSSAll_MouseDown=!1,cvjs_SVGHyperLinkCSSAll_MouseMoveFirst=!0,cvjs_SVGHyperLink_firstFingerX=0,cvjs_SVGHyperLink_firstFingerY=0,cvjs_SVGHyperLink_firstFingerX_m=0,cvjs_SVGHyperLink_firstFingerY_m=0,cvjs_SVGHyperLink_secondFingerX=0,cvjs_SVGHyperLink_secondFingerY=
0,cvjs_SVGHyperLink_secondFingerX_m=0,cvjs_SVGHyperLink_secondFingerY_m=0,cvjs_SVGHyperLink_pinch=!1,cvjs_SVGHyperLink_deltaXinit,cvjs_SVGHyperLink_deltaYinit,cvjs_SVGHyperLink_deltaBase,cvjs_SVGHyperLink_deltaDynamicPre,cvjs_SVGHyperLink_deltaDynamic,cvjs_SVGHyperLink_viewBoxWidthPre,cvjs_SVGHyperLink_viewBoxHeightPre,cvjs_SVGHyperLink_pinch_touchend=!1,cvjs_SVGHyperLink_vboxX=0,cvjs_SVGHyperLink_vboxY=0,cvjs_SVGHyperLink_moveX=0,cvjs_SVGHyperLink_moveY=0,cvjs_SVGHyperLink_current=0,cvjs_SVGHyperLink_deltaPinchRedraw=
50,cvjs_floorplan_div="";
function cvjs_InitializeSVGHyperlinkClick(a){var d=0;cvjs_SVGHyperLinkCSSAll=[];cvjs_SVGHyperLinkCSSAll_Changed=[];uItem=[];cvjs_floorplan_div=a;cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);isSmartPhoneOrTablet=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Touch/i.test(navigator.userAgent);jQuery("a.hyperlink").each(function(){try{var a=jQuery(this).attr("id"),h=jQuery(this).attr("xlink:href"),n=jQuery(this).children()[0].id;cvjs_SVGHyperLinkCSSAll[d]=[];cvjs_SVGHyperLinkCSSAll[d][0]=n;cvjs_SVGHyperLinkCSSAll[d][1]=
jQuery("#"+n).css("fill");cvjs_SVGHyperLinkCSSAll[d][2]=jQuery("#"+n).css("fill-opacity");cvjs_SVGHyperLinkCSSAll[d][3]=jQuery("#"+n).css("stroke");cvjs_SVGHyperLinkCSSAll[d][4]=jQuery("#"+n).css("stroke-width");cvjs_SVGHyperLinkCSSAll[d][5]=jQuery("#"+n).css("stroke-opacity");cvjs_SVGHyperLinkCSSAll[d][6]=jQuery("#"+n).css("opacity");uItem[d]=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(jQuery("#"+n).attr("d")).attr({fill:"#FFFFFF",stroke:"#BBBBBB","fill-opacity":"0.01","stroke-opacity":1,"stroke-width":.8*
cvjs_redlineThickness_scaleFactor}).data("node",d);cvjs_SVGHyperLinkCSSAll[d][7]=uItem[d];cvjs_SVGHyperLinkCSSAll[d][8]=a;cvjs_SVGHyperLinkCSSAll[d][9]=h;cvjs_SVGHyperLinkCSSAll[d][10]=jQuery("#"+n).css("fill");cvjs_SVGHyperLinkCSSAll[d][11]=jQuery("#"+n).css("fill-opacity");cvjs_SVGHyperLinkCSSAll[d][12]=!1;cvjs_SVGHyperLinkCSSAll[d][7].mousedown(function(a){console.log("mousedown");cvjs_SVGHyperLinkCSSAll_Drag||isSmartPhoneOrTablet||(cvjs_SVGHyperLinkCSSAll_Drag=!0,cvjs_SVGHyperLinkCSSAll_XDrag=
a.pageX,cvjs_SVGHyperLinkCSSAll_YDrag=a.pageY,cvjs_SVGHyperLink_vboxX=viewBox[cvjs_active_floorplan_div_nr].X,cvjs_SVGHyperLink_vboxY=viewBox[cvjs_active_floorplan_div_nr].Y)}).mouseover(function(a){console.log("mouseover");cvjs_SVGHyperLink_current=this.data("node");cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][7].attr({fill:highlight_Hyperlinks.fill,"fill-opacity":"0.8"});for(i=0;i<cvjs_SVGHyperLinkCSSAll.size;i++)cvjs_SVGHyperLink_current!=i&&(cvjs_SVGHyperLinkCSSAll[i][12]?cvjs_SVGHyperLinkCSSAll[i][7].attr({fill:cvjs_SVGHyperLinkCSSAll[i][10],
"fill-opacity":cvjs_SVGHyperLinkCSSAll[i][11]}):cvjs_SVGHyperLinkCSSAll[i][7].attr({fill:"#FFFFFF","fill-opacity":"0.01"}));cvjs_SVGHyperLink_pinch_touchend&&(cvjs_SVGHyperLink_pinch_touchend=!1,cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][7].attr({fill:"#FFFFFF","fill-opacity":"0.01"}));var d=cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][8];tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==
jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-f.left+document.documentElement.scrollLeft+10).css("top",a.clientY-f.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show()}).mouseout(function(a){console.log("mouseout");
a=this.data("node");cvjs_SVGHyperLinkCSSAll[a][12]?cvjs_SVGHyperLinkCSSAll[a][7].attr({fill:cvjs_SVGHyperLinkCSSAll[a][10],"fill-opacity":cvjs_SVGHyperLinkCSSAll[a][11]}):cvjs_SVGHyperLinkCSSAll[a][7].attr({fill:"#FFFFFF","fill-opacity":"0.01"});tip[cvjs_active_floorplan_div_nr].hide()}).mousemove(function(a){if(cvjs_SVGHyperLinkCSSAll_Drag&&!isSmartPhoneOrTablet){console.log("dragging this component");var d="drag "+a.clientX+" "+a.clientY+"  "+cvjs_SVGHyperLinkCSSAll_XDrag+" "+cvjs_SVGHyperLinkCSSAll_YDrag;
console.log(d);d=viewBoxWidth[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();var f=viewBoxHeight[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();d=d>f?d:f;pdx=(a.clientX-cvjs_SVGHyperLinkCSSAll_XDrag)*d;pdy=(a.clientY-cvjs_SVGHyperLinkCSSAll_YDrag)*d;viewBox[cvjs_active_floorplan_div_nr].X=cvjs_SVGHyperLink_vboxX-pdx;viewBox[cvjs_active_floorplan_div_nr].Y=cvjs_SVGHyperLink_vboxY-pdy;a=jQuery.parseJSON('{"viewBox" : "'+
viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a)}console.log("mousemove")}).mouseup(function(a){console.log("mouseup");cvjs_SVGHyperLinkCSSAll_Drag=!1;isSmartPhoneOrTablet||(a=Math.sqrt(Math.pow(a.clientX-cvjs_SVGHyperLinkCSSAll_XDrag,2)+Math.pow(a.clientY-cvjs_SVGHyperLinkCSSAll_YDrag,2)),4>a&&!isSmartPhoneOrTablet&&
(a=this.data("node"),cvjs_OnHyperlinkClick(cvjs_SVGHyperLinkCSSAll[a][9])));if(isSmartPhoneOrTablet)if(a=Math.sqrt(Math.pow(cvjs_SVGHyperLink_moveX-cvjs_SVGHyperLinkCSSAll_XDrag,2)+Math.pow(cvjs_SVGHyperLink_moveY-cvjs_SVGHyperLinkCSSAll_YDrag,2)),4>a){a=this.data("node");for(i=0;i<cvjs_SVGHyperLinkCSSAll.length;i++)a!=i&&(cvjs_SVGHyperLinkCSSAll[i][12]?cvjs_SVGHyperLinkCSSAll[i][7].attr({fill:cvjs_SVGHyperLinkCSSAll[i][10],"fill-opacity":cvjs_SVGHyperLinkCSSAll[i][11]}):cvjs_SVGHyperLinkCSSAll[i][7].attr({fill:"#FFFFFF",
"fill-opacity":"0.01"}));cvjs_OnHyperlinkClick(cvjs_SVGHyperLinkCSSAll[a][9]);cvjs_SVGHyperLink_current=a}else a=this.data("node"),a!=cvjs_SVGHyperLink_current&&(cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][12]?cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][7].attr({fill:cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][10],"fill-opacity":cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][11]}):cvjs_SVGHyperLinkCSSAll[cvjs_SVGHyperLink_current][7].attr({fill:"#FFFFFF","fill-opacity":"0.01"}),
cvjs_SVGHyperLink_current=a)}).touchstart(function(a){cvjs_SVGHyperLink_moveX=a.touches[0].pageX;cvjs_SVGHyperLink_moveY=a.touches[0].pageY;cvjs_SVGHyperLink_firstFingerX=a.touches[0].pageX;cvjs_SVGHyperLink_firstFingerY=a.touches[0].pageY;try{cvjs_SVGHyperLink_secondFingerX=a.touches[1].pageX,cvjs_SVGHyperLink_secondFingerY=a.touches[1].pageY,cvjs_SVGHyperLink_pinch=!0,cvjs_SVGHyperLink_deltaXinit=cvjs_SVGHyperLink_secondFingerX-cvjs_SVGHyperLink_firstFingerX,cvjs_SVGHyperLink_deltaYinit=cvjs_SVGHyperLink_secondFingerY-
cvjs_SVGHyperLink_firstFingerY,cvjs_SVGHyperLink_deltaDynamicPre=cvjs_SVGHyperLink_deltaBase=Math.sqrt(cvjs_SVGHyperLink_deltaXinit*cvjs_SVGHyperLink_deltaXinit+cvjs_SVGHyperLink_deltaYinit*cvjs_SVGHyperLink_deltaYinit),cvjs_SVGHyperLink_viewBoxWidthPre=viewBoxWidth[cvjs_active_floorplan_div_nr],cvjs_SVGHyperLink_viewBoxHeightPre=viewBoxHeight[cvjs_active_floorplan_div_nr],cvjs_SVGHyperLink_vboxX=viewBox[cvjs_active_floorplan_div_nr].X,cvjs_SVGHyperLink_vboxY=viewBox[cvjs_active_floorplan_div_nr].Y}catch(t){cvjs_SVGHyperLink_pinch=
!1}cvjs_SVGHyperLinkCSSAll_Drag||(cvjs_SVGHyperLinkCSSAll_Drag=!0,cvjs_SVGHyperLinkCSSAll_XDrag=cvjs_SVGHyperLink_firstFingerX,cvjs_SVGHyperLinkCSSAll_YDrag=cvjs_SVGHyperLink_firstFingerY,cvjs_SVGHyperLink_vboxX=viewBox[cvjs_active_floorplan_div_nr].X,cvjs_SVGHyperLink_vboxY=viewBox[cvjs_active_floorplan_div_nr].Y);console.log("touchstart");a=this.data("node");cvjs_SVGHyperLinkCSSAll[a][7].attr({fill:highlight_Hyperlinks.fill,"fill-opacity":"0.8"});a=cvjs_SVGHyperLinkCSSAll[a][8];tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
var d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",cvjs_SVGHyperLink_firstFingerX+document.documentElement.scrollLeft+10).css("top",cvjs_SVGHyperLink_firstFingerY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",cvjs_SVGHyperLink_firstFingerX-d.left+document.documentElement.scrollLeft+10).css("top",cvjs_SVGHyperLink_firstFingerY-
d.top+document.documentElement.scrollTop-25);tip[cvjs_active_floorplan_div_nr].html(a);tip[cvjs_active_floorplan_div_nr].show()}).touchend(function(a){tip[cvjs_active_floorplan_div_nr].hide();cvjs_SVGHyperLink_firstFingerX_m=a.touches[0].pageX;cvjs_SVGHyperLink_firstFingerY_m=a.touches[0].pageY;if(cvjs_SVGHyperLink_pinch)for(cvjs_SVGHyperLink_pinch=!1,cvjs_SVGHyperLink_pinch_touchend=!0,i=0;i<cvjs_SVGHyperLinkCSSAll.length;i++)cvjs_SVGHyperLinkCSSAll[i][12]?cvjs_SVGHyperLinkCSSAll[i][7].attr({fill:cvjs_SVGHyperLinkCSSAll[i][10],
"fill-opacity":cvjs_SVGHyperLinkCSSAll[i][11]}):cvjs_SVGHyperLinkCSSAll[i][7].attr({fill:"#FFFFFF","fill-opacity":"0.01"});console.log("touchend")}).touchmove(function(a){cvjs_SVGHyperLink_firstFingerX_m=a.touches[0].pageX;cvjs_SVGHyperLink_firstFingerY_m=a.touches[0].pageY;cvjs_SVGHyperLink_moveX=a.touches[0].pageX;cvjs_SVGHyperLink_moveY=a.touches[0].pageY;try{cvjs_SVGHyperLink_secondFingerX_m=a.touches[1].pageX,cvjs_SVGHyperLink_secondFingerY_m=a.touches[1].pageY,cvjs_SVGHyperLink_pinch=!0,a.stopPropagation(),
a.preventDefault()}catch(t){}console.log("touchmove");if(cvjs_SVGHyperLinkCSSAll_Drag){if(cvjs_SVGHyperLink_pinch)cvjs_SVGHyperLink_deltaX=cvjs_SVGHyperLink_secondFingerX_m-cvjs_SVGHyperLink_firstFingerX_m,cvjs_SVGHyperLink_deltaY=cvjs_SVGHyperLink_secondFingerY_m-cvjs_SVGHyperLink_firstFingerY_m,cvjs_SVGHyperLink_deltaDynamicPre=cvjs_SVGHyperLink_deltaDynamic=Math.sqrt(cvjs_SVGHyperLink_deltaX*cvjs_SVGHyperLink_deltaX+cvjs_SVGHyperLink_deltaY*cvjs_SVGHyperLink_deltaY),viewBox[cvjs_active_floorplan_div_nr].X=
cvjs_SVGHyperLink_vboxX,viewBox[cvjs_active_floorplan_div_nr].Y=cvjs_SVGHyperLink_vboxY,vBHo=cvjs_SVGHyperLink_viewBoxHeightPre,vBWo=cvjs_SVGHyperLink_viewBoxWidthPre,viewBoxWidth[cvjs_active_floorplan_div_nr]=cvjs_SVGHyperLink_viewBoxWidthPre,viewBoxHeight[cvjs_active_floorplan_div_nr]=cvjs_SVGHyperLink_viewBoxHeightPre,viewBoxWidth[cvjs_active_floorplan_div_nr]/=cvjs_SVGHyperLink_deltaDynamic/cvjs_SVGHyperLink_deltaBase,viewBoxHeight[cvjs_active_floorplan_div_nr]/=cvjs_SVGHyperLink_deltaDynamic/
cvjs_SVGHyperLink_deltaBase,viewBox[cvjs_active_floorplan_div_nr].X-=(viewBoxWidth[cvjs_active_floorplan_div_nr]-vBWo)/2,viewBox[cvjs_active_floorplan_div_nr].Y-=(viewBoxHeight[cvjs_active_floorplan_div_nr]-vBHo)/2,zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr],a='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+
'" }',a=jQuery.parseJSON(a);else{console.log("dragging this component");a="drag "+cvjs_SVGHyperLink_firstFingerX_m+" "+cvjs_SVGHyperLink_firstFingerY_m+"  "+cvjs_SVGHyperLinkCSSAll_XDrag+" "+cvjs_SVGHyperLinkCSSAll_YDrag;console.log(a);a=viewBoxWidth[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();var d=viewBoxHeight[cvjs_active_floorplan_div_nr]/jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=a>d?a:d;pdx=(cvjs_SVGHyperLink_firstFingerX_m-
cvjs_SVGHyperLinkCSSAll_XDrag)*a;pdy=(cvjs_SVGHyperLink_firstFingerY_m-cvjs_SVGHyperLinkCSSAll_YDrag)*a;viewBox[cvjs_active_floorplan_div_nr].X=cvjs_SVGHyperLink_vboxX-pdx;viewBox[cvjs_active_floorplan_div_nr].Y=cvjs_SVGHyperLink_vboxY-pdy;a='{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }';a=jQuery.parseJSON(a)}cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a)}});
cvjs_SVGHyperLinkCSSAll_Org[d]=[];cvjs_SVGHyperLinkCSSAll_Org[d][0]=n;cvjs_SVGHyperLinkCSSAll_Org[d][1]=jQuery("#"+n).css("fill");cvjs_SVGHyperLinkCSSAll_Org[d][2]=jQuery("#"+n).css("fill-opacity");cvjs_SVGHyperLinkCSSAll_Org[d][3]=jQuery("#"+n).css("stroke");cvjs_SVGHyperLinkCSSAll_Org[d][4]=jQuery("#"+n).css("stroke-width");cvjs_SVGHyperLinkCSSAll_Org[d][5]=jQuery("#"+n).css("stroke-opacity");cvjs_SVGHyperLinkCSSAll_Org[d][6]=jQuery("#"+n).css("opacity");d++}catch(p){console.log(p)}});cvjs_LayerOff("URLs")}
function cvjs_colorSingleSVGHyperlink(a,d,f){jQuery("a.hyperlink").each(function(){var h=jQuery(this).attr("id");if(0==h.indexOf(a)&&a.length==h.length){var n=jQuery(this).children()[0].id;for(var p=-1,q=0;q<cvjs_SVGHyperLinkCSSAll.length;q++)cvjs_SVGHyperLinkCSSAll[q][0]==n&&(p=q,cvjs_SVGHyperLinkCSSAll[p][7].attr({fill:d,"fill-opacity":f}),cvjs_SVGHyperLinkCSSAll[p][10]=d,cvjs_SVGHyperLinkCSSAll[p][11]=f,cvjs_SVGHyperLinkCSSAll[p][12]=!0);cvjs_SVGHyperLinkCSSAll[p][1]=d;cvjs_SVGHyperLinkCSSAll[p][2]=
f;cvjs_SVGHyperLinkCSSAll[p][3]=d;cvjs_SVGHyperLinkCSSAll[p][5]=f;cvjs_SVGHyperLinkCSSAll[p][6]=f;cvjs_debug&&console.log("path_id "+n+" mypos "+p);cvjs_currentSVGHyperLinkID=n;n="#"+n;jQuery(n).css("fill",d);jQuery(n).css("fill-opacity",f);jQuery(n).css("stroke",d);jQuery(n).css("stroke-opacity",f);jQuery(n).css("opacity",f);cvjs_debug&&console.log(h+"  "+n+" "+d+"  "+f)}})}
function cvjs_resetSVGHyperlinkColors(){var a=0;jQuery("a.hyperlink").each(function(){try{var d=jQuery(this).children()[0].id;cvjs_SVGHyperLinkCSSAll[a][1]=cvjs_SVGHyperLinkCSSAll_Org[a][1];cvjs_SVGHyperLinkCSSAll[a][2]=cvjs_SVGHyperLinkCSSAll_Org[a][2];cvjs_SVGHyperLinkCSSAll[a][3]=cvjs_SVGHyperLinkCSSAll_Org[a][3];cvjs_SVGHyperLinkCSSAll[a][4]=cvjs_SVGHyperLinkCSSAll_Org[a][4];cvjs_SVGHyperLinkCSSAll[a][5]=cvjs_SVGHyperLinkCSSAll_Org[a][5];cvjs_SVGHyperLinkCSSAll[a][6]=cvjs_SVGHyperLinkCSSAll_Org[a][6];
cvjs_SVGHyperLinkCSSAll[a][7].attr({fill:"FFFFFF","fill-opacity":.01});cvjs_SVGHyperLinkCSSAll[a][12]=!1;jQuery("#"+d).css("fill",cvjs_SVGHyperLinkCSSAll[a][1]);jQuery("#"+d).css("fill-opacity",cvjs_SVGHyperLinkCSSAll[a][2]);jQuery("#"+d).css("stroke",cvjs_SVGHyperLinkCSSAll[a][3]);jQuery("#"+d).css("stroke-width",cvjs_SVGHyperLinkCSSAll[a][4]);jQuery("#"+d).css("stroke-opacity",cvjs_SVGHyperLinkCSSAll[a][5]);jQuery("#"+d).css("opacity",cvjs_SVGHyperLinkCSSAll[a][6]);a++}catch(f){console.log(f)}})}
function cvjs_makeLegendUpperRightDiv(a,d,f,h,n,p,q,t,u,v,w,x,A,y){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(A+"_svg");cvjs_makeLegendUpperRight(a,d,f,h,n,p,q,t,u,v,w,x,y)}
function cvjs_makeLegendUpperRight(a,d,f,h,n,p,q,t,u,v,w,x){a=actualLLX[cvjs_active_floorplan_div_nr]+rpWidth[cvjs_active_floorplan_div_nr]*(1+a);d=actualLLY[cvjs_active_floorplan_div_nr]+rpHeight[cvjs_active_floorplan_div_nr]*d;h*=rpHeight[cvjs_active_floorplan_div_nr];txt=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(a-rpHeight[cvjs_active_floorplan_div_nr]*t[0]*1.6,d,n).attr(p);f.add(txt);txt.attr({"font-size":h});txt.attr({fill:q});d+=1.01*h;n=JSON.stringify(highlight_handles_style_object);n=
n.toString();q=n.split(",");n=.5;for(p=0;p<q.length;p++)h=q[p],-1<h.indexOf('"fill-opacity"')&&(n=h.substring(h.indexOf(":")+1),-1<n.indexOf("}")&&(n=n.substring(0,n.indexOf("}"))));n=n.substring(1);n=n.substring(0,n.length-1);n=Number(n);for(p=0;p<u.length;p++)h=rpHeight[cvjs_active_floorplan_div_nr]*t[p],0<p&&(d+=1.05*h),txt=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(a,d,u[p]).attr(v[p]),f.add(txt),txt.attr({"font-size":h}),txt.attr({fill:w[p]}),rect=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(a-
1.5*h,d-.75*h,.8*h,.8*h).attr({fill:x[p],"fill-opacity":n}),f.add(rect);cvjs_addedObjectsToExtents=!0;cvjs_resetZoomPan()}
function cvjs_changeText_On_BlockHandle(a,d){var f={};jQuery(".cvjs_block").each(function(){var a=jQuery(this).attr("id");f[a]||(f[a]=!0)});for(var h in f)try{var n="#"+h,p="";jQuery(n).each(function(){jQuery.each(this.attributes,function(){if(this.specified&&(p="cvjs:handle"==this.name.toString().toLowerCase()?this.value:"",0==p.indexOf(a)))for(var f=jQuery(n).html(),h=0;-1<f.indexOf("id=");){var u=f.substring(f.indexOf("id=")+4);u="#"+u.substring(0,u.indexOf('"'));jQuery(u).text(d[h]);jQuery(u).css("visibility",
"visible");f=f.substring(f.indexOf("id=")+4);h++;if(h==d.length)break}})})}catch(q){console.log(q)}}
function cvjs_changeText_On_BlockHandleDiv(a,d,f){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(f+"_svg");var h=!1,n={};jQuery(".cvjs_block").each(function(){var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";d=jQuery("#"+a).parents(d).attr("id");floorplan_div_Array[cvjs_active_floorplan_div_nr];d==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(n[a]||(n[a]=!0))});for(var p in n)try{var q="#"+p,t="";jQuery(q).each(function(){jQuery.each(this.attributes,
function(){if(this.specified&&(t="cvjs:handle"==this.name.toString().toLowerCase()?this.value:"",0==t.indexOf(a))){for(var f=jQuery(q).html(),n=0;-1<f.indexOf("id=");){var p=f.substring(f.indexOf("id=")+4);p="#"+p.substring(0,p.indexOf('"'));jQuery(p).text(d[n]);jQuery(p).css("visibility","visible");f=f.substring(f.indexOf("id=")+4);n++;h=!0;if(n==d.length)return!0}return h=!0}})})}catch(u){console.log(u)}return h?!0:!1}
function cvjs_makeStampUpperRightDiv(a,d,f,h,n,p,q,t,u,v,w,x,A){A+="_svg";cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(A);window.alert(A+" "+cvjs_active_floorplan_div_nr);cvjs_makeStampUpperRight(a,d,f,h,n,p,q,t,u,v,w,x)}var cvjs_customLayerContentAdded=!1,cvjs_customLayerContent;
function cvjs_makeStampUpperRight(a,d,f,h,n,p,q,t,u,v,w,x){var A=actualLLX[cvjs_active_floorplan_div_nr]+rpWidth[cvjs_active_floorplan_div_nr]*(1+a),y=actualLLY[cvjs_active_floorplan_div_nr]+rpHeight[cvjs_active_floorplan_div_nr]*d,B=actualLLY[cvjs_active_floorplan_div_nr]+rpHeight[cvjs_active_floorplan_div_nr]*d;if(cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]){var z=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox();A=z.x+z.width*(1+a);y=z.y+z.height*d;B=z.y+z.height*d}d=rpHeight[cvjs_active_floorplan_div_nr]*
h;z=rpHeight[cvjs_active_floorplan_div_nr]*h;a=.1*z;cvjs_SVG_multiPagesFlag[cvjs_active_floorplan_div_nr]&&(z=cvjs_SVGGroup[cvjs_active_floorplan_div_nr].getBBox(),d=z.height*h,z=z.height*h);for(i=0;i<n.length;i++)txt=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(A,y,n[i]).attr(p),f.add(txt),txt.attr({"font-size":.95*d}),txt.attr({fill:q}),y+=1.05*z;h=d/h;for(i=0;i<u.length;i++)for(z=h*t[i],0<i&&(y+=1.05*z),j=0;j<u[i].length;j++)txt=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(A+5*z*j,y,u[i][j]).attr(v[i]),
f.add(txt),txt.attr({"font-size":.95*z}),txt.attr({fill:w[i]});y=f.getBBox();w=y.x-.02*y.width;A=y.y-.02*y.height;v=1.04*y.width;p=1.04*y.height;rect=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(w,A,v,p).attr({stroke:x,"fill-opacity":"0.1",fill:"none","stroke-width":a});f.add(rect);y=B;for(i=0;i<n.length;i++)z=d,line=cvjs_rPaper[cvjs_active_floorplan_div_nr].line(w,y+.15*z,w+v,y+.15*z).attr({stroke:x,"fill-opacity":"0.1",fill:"none","stroke-width":a}),f.add(line),y+=1.05*z;n=y-1.05*z;for(i=0;i<
u.length-1;i++)z=h*t[i],0<i&&(y+=1.05*z),line=cvjs_rPaper[cvjs_active_floorplan_div_nr].line(w,y+.15*z,w+v,y+.15*z).attr({stroke:x,"fill-opacity":"0.1",fill:"none","stroke-width":a}),f.add(line);1==u.length&&(z=h*t[0]);line=cvjs_rPaper[cvjs_active_floorplan_div_nr].line(w+5*z,n+.15*z,w+5*z,A+p).attr({stroke:x,"fill-opacity":"0.1",fill:"none","stroke-width":a});f.add(line);cvjs_customLayerContentAdded=!0;cvjs_customLayerContent=cvjs_rPaper[cvjs_active_floorplan_div_nr].g();cvjs_customLayerContent.add(f);
cvjs_addedObjectsToExtents=!0;cvjs_resetZoomPan()}function cvjs_saveStamp(a,d,f){cvjs_saveCustomSVGLayer(a,d,f)}
function cvjs_saveCustomSVGLayer(a,d,f){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);d=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();d='<?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"'+(' width="'+d.width+'" height="'+d.height+'" viewbox="'+
d.x+" "+d.y+" "+d.width+" "+d.height+'"');var h=cvjs_serverHandlersPath+cvjs_serverSaveFileController,n={};n.file=a;n.file_content=d+' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >'+f+"</svg>";jQuery.ajax({url:h,type:"post",data:n,success:function(a){},error:function(a){console.log("Error "+a)}})}var cvjs_serverSVGtoPDFConverterController="convert-svg-to-pdf.php";
function cvjs_saveFloorplanAsPDF(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);var f=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();f='<?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"'+(' width="'+f.width+'" height="'+f.height+'" viewbox="'+
f.x+" "+f.y+" "+f.width+" "+f.height+'"');f+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);d=f+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>";f=cvjs_serverHandlersPath+cvjs_serverSaveFileController;var h={},n=a.lastIndexOf("."),p=a.substring(0,n)+".svg";h.file=p;h.file_content=d;cvjs_debug&&console.log("make pdf "+p+"  "+f);jQuery.ajax({url:f,
type:"post",data:h,success:function(d){cvjs_debug&&console.log("Save floorplan: "+d);d=cvjs_serverHandlersPath+cvjs_serverSVGtoPDFConverterController;var f={};f.pdf_file=a;f.svg_file=p;jQuery.ajax({url:d,type:"post",data:f,success:function(a){cvjs_debug&&console.log("PDF file is now created: "+a)}})},error:function(a){console.log("Error "+a)}})}
function cvjs_saveFloorplanAsPDFtoSharePoint(a,d,f,h){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);var n=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();n='<?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"'+(' width="'+n.width+'" height="'+
n.height+'" viewbox="'+n.x+" "+n.y+" "+n.width+" "+n.height+'"');n+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);d=n+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>";n=cvjs_serverHandlersPath+cvjs_serverSaveFileController;var p={},q=a.lastIndexOf("."),t=a.substring(0,q)+".svg";p.file=t;p.file_content=d;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Thumbnails+"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(100);cvjs_debug&&console.log("make pdf "+t+"  "+n);jQuery.ajax({url:n,type:"post",data:p,success:function(d){console.log("Save floorplan: "+
d);d=cvjs_serverHandlersPath+cvjs_serverSVGtoPDFConverterController;var n={};n.pdf_file=a;n.svg_file=t;jQuery.ajax({url:d,type:"post",data:n,success:function(d){cvjs_debug&&console.log("PDF created on server: "+d);d=cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadfile.php";var n={};n.localfilename=a;n.targetUrl=f;n.user_name=h;jQuery.ajax({url:d,type:"post",data:n,success:function(a){cvjs_debug&&console.log("PDF file is now uploaded to SharePoint server: "+a);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();
location.reload()}})}})},error:function(a){console.log("Error "+a)}})}function getByteLen(a){a=String(a);for(var d=0,f=0;f<a.length;f++){var h=a.charCodeAt(f);d+=128>h?1:2048>h?2:65536>h?3:2097152>h?4:67108864>h?5:-2147483648>h?6:Number.NaN}return d}
function cvjs_saveFloorplanAsSVG(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);var f=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();f='<?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"'+(' width="'+f.width+'" height="'+f.height+'" viewbox="'+
f.x+" "+f.y+" "+f.width+" "+f.height+'"');f+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);d=f+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>";f=cvjs_serverHandlersPath+cvjs_serverSaveFileController;var h={};h.file=a;h.file_content=d;jQuery.ajax({url:f,type:"post",data:h,success:function(a){},error:function(a){console.log("Error "+a)}})}
function cvjs_mergePDFwithRedlines(a,d,f,h){h=cvjs_serverHandlersPath+cvjs_serverMergePHPFileController;var n={};n.filePath=a;n.fileName=f;jQuery.ajax({url:h,type:"post",data:n,success:function(a){a=d+"/"+f+"_merged.pdf";var h=d+"/"+f+"_merged.pdf";-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");var n=window.open("","CADViewer - Print","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+screen.height*cvjs_print_to_pdf_windowRelativeSize);n.document.write('<!DOCTYPE html><html><title>CADViewer - Print</title><head><script src="'+
cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');n.document.write('<script type="text/javascript">');n.document.write("jQuery(window).on('beforeunload', function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+h+"', cache: false, success: function(html){}});  }); jQuery(window).on('unload', function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+h+"', cache: false, success: function(html){}})  }); window.onbeforeunload = function (){ jQuery.ajax({url:'"+
cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+h+"', cache: false, success: function(html){}}) }; \x3c/script>");n.document.write('</head><body><div id="pdf">');n.document.write('<object width="'+screen.width*cvjs_print_to_pdf_windowRelativeSize+'" height="'+screen.width*cvjs_print_to_pdf_windowRelativeSize*2339/1654+'" type="application/pdf" data="'+a+'" id="pdf_content"><p>Please install a PDF viewer, the CADViewer batch file PDF cannot be displayed.</p></object></div></body></html>');
n.document.close();n.focus()},error:function(a){console.log("Error "+a)}})}function cvjs_loadStamp(a,d,f){cvjs_customLayerContentAdded=!0;cvjs_customLayerContent=cvjs_rPaper[cvjs_active_floorplan_div_nr].g();cvjs_customLayerContent.add(f);cvjs_loadCustomSVGLayer(a,d,f)}
function cvjs_loadCustomSVGLayer(a,d,f){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);var h=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox(),n="";n=cvjs_bitmapFileNameIsServerPath_flag?cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+a:a;cvjs_rPaper[cvjs_active_floorplan_div_nr].svg(0,0,h.width,h.height);Snap.load(n,function(a){try{f.add(a),cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox(),cvjs_addedObjectsToExtents=!0,cvjs_resetZoomPan(d)}catch(q){window.alert(q)}})}
function cvjs_LoadDrawingAborted(a,d){console.log("Return call from LoadDrawing, another drawing is currently being loaded, so we wait 1.0 seconds....");setTimeout(function(){cvjs_LoadDrawing(a,d)},1E3)}function cvjs_hideNavigationMenu(a){a="#floatNavigationMenu_"+a+"_svg";jQuery(a).is(":visible")&&jQuery(a).hide()}function cvjs_checkRoomHandleDiv(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d+"_svg");return-1!=findFixture(a)?!0:!1}
function cvjs_checkBlockHandleDiv(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d+"_svg");var f=!1,h={};jQuery(".cvjs_block").each(function(){var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";d=jQuery("#"+a).parents(d).attr("id");floorplan_div_Array[cvjs_active_floorplan_div_nr];d==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(h[a]||(h[a]=!0))});for(var n in h)try{var p="";jQuery("#"+n).each(function(){jQuery.each(this.attributes,function(){if(this.specified&&
(p="cvjs:handle"==this.name.toString().toLowerCase()?this.value:"",0==p.indexOf(a)))return f=!0})})}catch(q){console.log(q)}return f?!0:!1}
function cvjs_getStickyNoteInfo(){for(var a="",d=0;d<vqStickyNotes.length;d++)0<d&&(a+="\n"),a=a+"<StickyNote><UserId>"+vqStickyNotes[d].data("userid")+"</UserId><Id>"+vqStickyNotes[d].data("id")+"</Id><Name>"+vqStickyNotes[d].data("name")+"</Name><Date>"+vqStickyNotes[d].data("date")+"</Date><Text>"+vqStickyNotes[d].data("text")+"</Text><Page>"+vqStickyNotes[d].data("currentPage")+"</Page></StickyNote>";return a}
function cvjs_saveStickyNoteInfo(a,d){d="";for(var f=0;f<vqStickyNotes.length;f++)0<f&&(d+="\n"),d=d+"<StickyNote><UserId>"+vqStickyNotes[f].data("userid")+"</UserId><Id>"+vqStickyNotes[f].data("id")+"</Id><Name>"+vqStickyNotes[f].data("name")+"</Name><Date>"+vqStickyNotes[f].data("date")+"</Date><Text>"+vqStickyNotes[f].data("text")+"</Text><Page>"+vqStickyNotes[f].data("currentPage")+"</Page></StickyNote>";f=cvjs_serverHandlersPath+cvjs_serverSaveFileController;var h={};h.file=a;h.file_content=
d;jQuery.ajax({url:f,type:"post",data:h,success:function(a){},error:function(a){console.log("Error "+a)}})}function cvjs_publishPDF(a){cvjs_setPublishPDF(a)}function cvjs_mergeDXFDWG(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_mergeDXFDWG_downloadMode?cvjs_saveScreenAsMergedDXF(a,4):cvjs_setMergeDXF(a)}
function cvjs_mergeDXFViaButton(a){1==radioButton_mergeAsDXF&&(cvjs_saveScreenAsMergedDXF(a,1),cvjs_mergeDXF_modal_hide(a));2==radioButton_mergeAsDXF&&(cvjs_mailServerSetup?(cvjs_to_mail=jQuery("#cvjs_publishPDFemailrecipient_"+a).val(),cvjs_mail_title=jQuery("#cvjs_publishPDFemailtitle_"+a).val(),cvjs_mail_message=jQuery("#pdfmail_text").val(),cvjs_saveScreenAsMergedDXF(a,2),cvjs_mergeDXF_modal_hide(a)):window.alert("Please set up e-mail server."));3==radioButton_mergeAsDXF&&(cvjs_saveScreenAsMergedDXF(a,
3),cvjs_mergeDXF_modal_hide(a))}
function cvjs_saveScreenAsMergedDXF(a,d){jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.MergeDWG+"</div></td></tr></table>");
cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(10);var f="merge_"+Math.random().toString().substring(2,5)+".xml";cvjs_setStickyNoteSaveRedlineUrl(cvjs_ServerLocation+"/converters/files/merged/"+f);var h="";h=cvjs_getStickyNotesRedlineXML(!1);console.log(h);var n=cvjs_serverHandlersPath+cvjs_serverSaveFileControllerRedlines;-1<cvjs_StickyNoteSaveRedlineUrl.indexOf("\\")||(cvjs_StickyNoteSaveRedlineUrl=encodeURIComponent(cvjs_StickyNoteSaveRedlineUrl));
var p={};p.file=cvjs_StickyNoteSaveRedlineUrl;p.file_content=h;jQuery.ajax({url:n,type:"post",data:p,success:function(h){var n="",p="",q="";h=new Date;var w="y"+h.getFullYear()+"_m"+(h.getMonth()+1)+"_d"+h.getDate()+"_h"+h.getHours()+"_m"+h.getMinutes()+"_s"+h.getSeconds();w="jan";var x=h.getHours();10>x&&(x="0"+x);switch(h.getMonth()){case 0:w="Jan";break;case 1:w="Feb";break;case 2:w="Mar";break;case 3:w="Apr";break;case 4:w="May";break;case 5:w="Jun";break;case 6:w="Jul";break;case 7:w="Aug";break;
case 8:w="Sep";break;case 9:w="Oct";break;case 10:w="Nov";break;case 11:w="Dec";break;default:w="Jan"}w=w+"_"+h.getDate()+"_H"+x+"_"+h.getMinutes();cvjs_fileLoadingFromSharePointServer?(-1==cvjs_currentFileFromJSTreeFolder.indexOf("/")?(n="",p=cvjs_currentFileFromJSTreeFolder):(n=cvjs_currentFileFromJSTreeFolder.substring(0,cvjs_currentFileFromJSTreeFolder.lastIndexOf("/")),p=cvjs_currentFileFromJSTreeFolder.substring(cvjs_currentFileFromJSTreeFolder.lastIndexOf("/")+1)),cvjs_fileLoadingFromSharePointServer||
(p=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1)),console.log(p+" "+n),q=p,h=p.substring(p.lastIndexOf(".")),p=p.substring(0,p.lastIndexOf(".")),p=p+"_red_"+w+h,console.log("download file: "+q+" upload file: "+p),console.log("XML redline saved, download original file from sharepoint server   "),w=cvjs_serverHandlersPath+cvjs_serverDownloadSharepointController,h={},h.content_location=n+"/"+q,h.local_path=
cvjs_ServerLocation+"/converters/files/merged/"+q,h.content_username=cvjs_sharepoint_UserName,jQuery.ajax({url:w,type:"post",data:h,success:function(h){console.log(h);console.log("downloaded from Sharepoint!");h=cvjs_serverHandlersPath+cvjs_serverMergeDWGController;var t={};t.base_file=cvjs_ServerLocation+"/converters/files/merged/"+q;t.merge_file=cvjs_ServerLocation+"/converters/files/merged/"+f;t.out_file=cvjs_ServerLocation+"/converters/files/merged/"+p;jQuery.ajax({url:h,type:"post",data:t,success:function(f){console.log(f);
if(1==d){f=cvjs_serverHandlersPath+cvjs_serverLoadFileController;var h={};h.file=cvjs_ServerLocation+"/converters/files/merged/"+p;jQuery.ajax({url:f,type:"post",data:h,success:function(a){download_link(p,a);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()},error:function(a){console.log("Error "+a)}})}2==d&&(f={},f.pdf_file=cvjs_ServerLocation+"/converters/files/merged/"+p,f.pdf_file_name=p,f.from_name=cvjs_from_name,f.from_mail=cvjs_from_mail,f.cc_mail=cvjs_cc_mail,
f.replyto=cvjs_replyto,cvjs_to_mail=cvjs_to_mail.replace(/,/g,";"),cvjs_to_mail=jQuery("#cvjs_mergeDXFemailrecipient_"+a).val(),cvjs_mail_title=jQuery("#cvjs_mergeDXFemailtitle_"+a).val(),cvjs_mail_message=jQuery("#mergedxfmail_text").val(),f.to_mail=cvjs_to_mail,f.mail_title=cvjs_mail_title,f.mail_message=cvjs_mail_message,console.log(f.pdf_file+"  "+f.pdf_file_name+" "+f.to_mail+" "+f.mail_message),jQuery.ajax({url:cvjs_serverHandlersPath+cvjs_serverSendPDFEmailController,type:"post",data:f,success:function(a){jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();window.alert("e-mail sent!  "+a)}}));3==d&&(h=cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadfile2.php",f={},f.localfilename=cvjs_ServerLocation+"/converters/files/merged/"+p,f.targetUrl=n,f.user_name=cvjs_sharepoint_UserName,f.file_name=p,console.log("  "+n+"  "+cvjs_sharepoint_UserName+"  "+p),jQuery.ajax({url:h,type:"post",data:f,success:function(a){cvjs_debug&&console.log("PDF file is now uploaded to SharePoint server: "+a);jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();location.reload()}}))},error:function(a){console.log("Error "+a)}})},error:function(a){console.log("Error "+a)}})):(q=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1),p=q.substring(0,q.lastIndexOf("."))+"_red_"+w+q.substring(q.lastIndexOf(".")),4==d?(w=cvjs_serverHandlersPath+cvjs_serverMergeDWGController,h={},h.base_file=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],
""==cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]&&(h.base_file=currentLoadedDrawingFullName),h.merge_file=cvjs_ServerLocation+"/converters/files/merged/"+f,h.out_file=cvjs_ServerLocation+"/converters/files/merged/"+p,cvjs_debug&&console.log(h.base_file+"  "+h.merge_file+"  "+h.out_file),h.zip_output="false",h.QR_code="false",jQuery.ajax({url:w,type:"post",data:h,success:function(d){cvjs_debug&&console.log("callback from merge:"+d);cvjs_debug&&console.log("mode 4");var f=cvjs_ServerUrl+
"/converters/files/merged/"+p,h=p;-1<h.indexOf("/")&&(h=h.substring(h.lastIndexOf("/")+1));-1<d.indexOf("<customoutfilename>")&&(d=d.substring(d.indexOf("<customoutfilename>")+19),d=d.substring(0,d.indexOf("</customoutfilename>")),0==d.indexOf("http")?(f=d,h=d.substring(d.lastIndexOf("/")+1)):(h=d,f=cvjs_ServerUrl+"/converters/files/merged/"+h),cvjs_debug&&console.log("XXXX"+d+"XXX"));jQuery("#topDownloadButtonPane_"+a).show();cvjs_topDownloadButtonPane=!0;jQuery("#downloadrow").show();jQuery("#downloadbutton").html('<a href="'+
f+'" download="'+h+'"><button class="btn" style="width:70%"><i class="fa fa-download"></i> Download: <i><b>'+h+"</b></i> - with Redlines</button></a>");jQuery("#downloadbutton").click(function(){jQuery("#topDownloadButtonPane_"+a).hide();cvjs_topDownloadButtonPane=!1;cvjs_resizeWindow_position("floorPlan");cvjs_resizeWindow_position("floorPlan");cvjs_mergeOnOff=!1});cvjs_resizeWindow_position("floorPlan");cvjs_resizeWindow_position("floorPlan");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()},
error:function(a){console.log("Error "+a)}})):(h=cvjs_serverHandlersPath+cvjs_serverCopyFileController,w={},w.localfilename=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr],w.localdestination=cvjs_ServerLocation+"/converters/files/merged/"+q,console.log("fileName "+w.localfilename+"  "+w.localdestination),jQuery.ajax({url:h,type:"post",data:w,success:function(h){cvjs_debug&&console.log("Drawing file is now copied: "+h);h=cvjs_serverHandlersPath+cvjs_serverMergeDWGController;var n={};n.base_file=
cvjs_ServerLocation+"/converters/files/merged/"+q;n.merge_file=cvjs_ServerLocation+"/converters/files/merged/"+f;n.out_file=cvjs_ServerLocation+"/converters/files/merged/"+p;jQuery.ajax({url:h,type:"post",data:n,success:function(f){console.log("callback from merge servlet:"+f);if(1==d){f=cvjs_serverHandlersPath+cvjs_serverLoadFileController;var h={};h.file=cvjs_ServerLocation+"/converters/files/merged/"+p;jQuery.ajax({url:f,type:"post",data:h,success:function(a){download_link(p,a);jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()},error:function(a){console.log("Error "+a)}})}4==d&&(cvjs_debug&&console.log("mode 4"),f=cvjs_ServerUrl+"/converters/files/merged/"+p,h=p,-1<h.indexOf("/")&&(h=h.substring(h.lastIndexOf("/")+1)),jQuery("#topDownloadButtonPane_"+a).show(),cvjs_topDownloadButtonPane=!0,jQuery("#downloadrow").show(),jQuery("#downloadbutton").html('<a href="'+f+'" download="'+h+'"><button class="btn" style="width:70%"><i class="fa fa-download"></i> Download: <i><b>'+
h+"</b></i> - with Redlines</button></a>"),jQuery("#downloadbutton").click(function(){jQuery("#topDownloadButtonPane_"+a).hide();cvjs_topDownloadButtonPane=!1;cvjs_resizeWindow_position("floorPlan");cvjs_resizeWindow_position("floorPlan");cvjs_mergeOnOff=!1}),cvjs_resizeWindow_position("floorPlan"),cvjs_resizeWindow_position("floorPlan"),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide());2==d&&(f={},f.pdf_file=cvjs_ServerLocation+"/converters/files/merged/"+p,f.pdf_file_name=
p,f.from_name=cvjs_from_name,f.from_mail=cvjs_from_mail,f.cc_mail=cvjs_cc_mail,f.replyto=cvjs_replyto,cvjs_to_mail=cvjs_to_mail.replace(/,/g,";"),cvjs_to_mail=jQuery("#cvjs_mergeDXFemailrecipient_"+a).val(),cvjs_mail_title=jQuery("#cvjs_mergeDXFemailtitle_"+a).val(),cvjs_mail_message=jQuery("#mergedxfmail_text").val(),f.to_mail=cvjs_to_mail,f.mail_title=cvjs_mail_title,f.mail_message=cvjs_mail_message,console.log(f.pdf_file+"  "+f.pdf_file_name+" "+f.to_mail+" "+f.mail_message),jQuery.ajax({url:cvjs_serverHandlersPath+
cvjs_serverSendPDFEmailController,type:"post",data:f,success:function(a){jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();window.alert("e-mail sent!  "+a)}}));3==d&&(h=cvjs_serverHandlersPath+cvjs_serverCopyFileController,f={},f.localfilename=cvjs_ServerLocation+"/converters/files/merged/"+p,f.localdestination=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(0,cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1)+
p,jQuery.ajax({url:h,type:"post",data:f,success:function(a){cvjs_debug&&console.log("Merged DWG file is now moved: "+a);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()}}))},error:function(a){console.log("Error "+a)}})}})))},error:function(a){console.log("Error "+a)}})}function cvjs_saveScreenAsMergedDXF_email(a){window.alert("save Redline as XML");window.alert("make Merge document");window.alert("email document")}
function cvjs_saveScreenAsMergedDXF_uploadServer(a){window.alert("save Redline as XML");window.alert("make Merge document");window.alert("upload to sharepoint server")}
function cvjs_publishPDFViaButton(a){if(1==radioButton_publishAsPDF)if(cvjs_makePDFEntireDoc)if(0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_customPdfFolderFlag){var d=cvjs_last_FileName_PDF,f=ServerLocation+"/converters/files/pdf/custom_"+cvjs_customPdfFolderName,h=ServerUrl+"/converters/files/pdf/custom_"+cvjs_customPdfFolderName,n=d;d.substring(d.lastIndexOf(".")+1);n=n.substring(n.lastIndexOf("/")+1,n.lastIndexOf("."));cvjs_mergePDFwithRedlines(f,h,n+"_red",
"floorPlan1")}else cvjs_saveScreenAsPDF("landscape","A4","300"),cvjs_publishPDF_modal_hide(a);else cvjs_saveScreenAsPDF("landscape","A4","300"),cvjs_publishPDF_modal_hide(a);2==radioButton_publishAsPDF&&(cvjs_mailServerSetup?(cvjs_to_mail=jQuery("#cvjs_publishPDFemailrecipient_"+a).val(),cvjs_mail_title=jQuery("#cvjs_publishPDFemailtitle_"+a).val(),cvjs_mail_message=jQuery("#pdfmail_text").val(),cvjs_saveScreenAsPDF_email("landscape","A4","300",a),cvjs_publishPDF_modal_hide(a)):window.alert("Please set up e-mail server."));
3==radioButton_publishAsPDF&&(cvjs_saveScreenAsPDF_uploadServer("landscape","A4","300",a),cvjs_publishPDF_modal_hide(a))}
function cvjs_saveScreenAsPDF_uploadServer(a,d,f,h){cvjs_setPrintPaperSize(d);cvjs_setPrintOrientation(a);cvjs_setPrintResolutionDpi(f);cvjs_setPrintPaperSize(d);cvjs_setPrintOrientation(a);cvjs_setPrintResolutionDpi(f);h=Math.random().toString().substring(2,5);var n="screendump_"+h+".png";cvjs_singleDrawingFile="screendump_"+h;cvjs_singlePageOrientation=a;cvjs_singlePageSize=d;cvjs_singlePageResolution=f;cvjs_serverSavePrintModeController=5;5==cvjs_serverSavePrintModeController&&(jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Printing+"</div></td></tr></table>"),cvjs_setLooperPosition(),jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1500));cvjs_saveScreenAsImage(cvjs_ServerLocation+"/converters/files/",n)}
function cvjs_saveScreenAsPDF_email(a,d,f,h){cvjs_setPrintPaperSize(d);cvjs_setPrintOrientation(a);cvjs_setPrintResolutionDpi(f);h=Math.random().toString().substring(2,5);var n="screendump_"+h+".png";cvjs_singleDrawingFile="screendump_"+h;cvjs_singlePageOrientation=a;cvjs_singlePageSize=d;cvjs_singlePageResolution=f;cvjs_serverSavePrintModeController=4;4==cvjs_serverSavePrintModeController&&(jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+
floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.Printing+"</div></td></tr></table>"),cvjs_setLooperPosition(),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1500));cvjs_saveScreenAsImage(cvjs_ServerLocation+"/converters/files/",n)}
function cvjs_printSavedBitmapToPDF_uploadServer(){cvjs_phpImagesUrlController=cvjs_serverHandlersPath+cvjs_screenToPDF_Controller;var a=cvjs_ServerLocation+"/converters/files/";cvjs_serverSave_php_controllerArray={numberOfFiles:1};cvjs_serverSave_php_controllerArray.serverPath=a;cvjs_serverSave_php_controllerArray.fileName_0=cvjs_singleDrawingFile;cvjs_serverSave_php_controllerArray.rotation_0=cvjs_singlePageOrientation;cvjs_serverSave_php_controllerArray.page_format_0=cvjs_singlePageSize;cvjs_serverSave_php_controllerArray.page_resolution_0=
cvjs_singlePageResolution;cvjs_serverSave_php_controllerArray.org_fileName_0=cvjs_FileNameNoExtension;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_5" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+
languageTable.languages[cvjs_currentLanguage].WaitModal.BatchPDF+"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1E3);jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_serverSavePrintModeController=0;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();var d=new Date,h="y"+d.getFullYear()+"_m"+(d.getMonth()+
1)+"_d"+d.getDate()+"_h"+d.getHours()+"_m"+d.getMinutes()+"_s"+d.getSeconds(),n="jan";h=d.getHours();10>h&&(h="0"+h);switch(d.getMonth()){case 0:n="Jan";break;case 1:n="Feb";break;case 2:n="Mar";break;case 3:n="Apr";break;case 4:n="May";break;case 5:n="Jun";break;case 6:n="Jul";break;case 7:n="Aug";break;case 8:n="Sep";break;case 9:n="Oct";break;case 10:n="Nov";break;case 11:n="Dec";break;default:n="Jan"}h=n+"_"+d.getDate()+"_H"+h+"_"+d.getMinutes();d=n="";-1==cvjs_currentFileFromJSTreeFolder.indexOf("/")?
(n="",d=cvjs_currentFileFromJSTreeFolder):(n=cvjs_currentFileFromJSTreeFolder.substring(0,cvjs_currentFileFromJSTreeFolder.lastIndexOf("/")),d=cvjs_currentFileFromJSTreeFolder.substring(cvjs_currentFileFromJSTreeFolder.lastIndexOf("/")+1));cvjs_fileLoadingFromSharePointServer||(d=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1));d=d.substring(0,d.lastIndexOf("."));d=d+"_red_"+h+".pdf";fileName=cvjs_ServerLocation+
"/converters/files/"+a;fileName=fileName.substring(0,fileName.indexOf(".html"))+".pdf";cvjs_fileLoadingFromSharePointServer?(a=cvjs_serverHandlersPath+"CV-JS_sharepoint_uploadfile2.php",h={},h.localfilename=fileName,h.targetUrl=n,h.user_name=cvjs_sharepoint_UserName,h.file_name=d,console.log("fileName "+fileName+"  "+n+"  "+cvjs_sharepoint_UserName+"  "+d),jQuery.ajax({url:a,type:"post",data:h,success:function(a){cvjs_debug&&console.log("PDF file is now uploaded to SharePoint server: "+a);jQuery("#cvjs_wait_looper_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();location.reload()}})):(a=cvjs_serverHandlersPath+cvjs_serverCopyFileController,h={},n=cvjs_filepathServer+cvjs_getCurrentMultiPage_FileName()+d,n=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(0,cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1)+cvjs_getCurrentMultiPage_FileName()+d,h.localfilename=fileName,h.localdestination=n,console.log("fileName "+fileName+"  "+n),jQuery.ajax({url:a,type:"post",
data:h,success:function(a){cvjs_debug&&console.log("PDF file is now moved: "+a);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()}}))},error:function(a){console.log("Error "+a)}})}
function cvjs_printSavedBitmapToPDF_email(){cvjs_phpImagesUrlController=cvjs_serverHandlersPath+cvjs_screenToPDF_Controller;var a=cvjs_ServerLocation+"/converters/files/";cvjs_serverSave_php_controllerArray={numberOfFiles:1};cvjs_serverSave_php_controllerArray.serverPath=a;cvjs_serverSave_php_controllerArray.fileName_0=cvjs_singleDrawingFile;cvjs_serverSave_php_controllerArray.rotation_0=cvjs_singlePageOrientation;cvjs_serverSave_php_controllerArray.page_format_0=cvjs_singlePageSize;cvjs_serverSave_php_controllerArray.page_resolution_0=
cvjs_singlePageResolution;cvjs_serverSave_php_controllerArray.org_fileName_0=cvjs_FileNameNoExtension;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_5" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+
languageTable.languages[cvjs_currentLanguage].WaitModal.BatchPDF+"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1E3);jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_serverSavePrintModeController=0;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();var d=new Date,h="y"+d.getFullYear()+"_m"+(d.getMonth()+
1)+"_d"+d.getDate()+"_h"+d.getHours()+"_m"+d.getMinutes()+"_s"+d.getSeconds();h="jan";var n=d.getHours();10>n&&(n="0"+n);switch(d.getMonth()){case 0:h="Jan";break;case 1:h="Feb";break;case 2:h="Mar";break;case 3:h="Apr";break;case 4:h="May";break;case 5:h="Jun";break;case 6:h="Jul";break;case 7:h="Aug";break;case 8:h="Sep";break;case 9:h="Oct";break;case 10:h="Nov";break;case 11:h="Dec";break;default:h="Jan"}h=h+"_"+d.getDate()+"_H"+n+"_"+d.getMinutes();d="";d=-1==cvjs_currentFileFromJSTreeFolder.indexOf("/")?
cvjs_currentFileFromJSTreeFolder:cvjs_currentFileFromJSTreeFolder.substring(cvjs_currentFileFromJSTreeFolder.lastIndexOf("/")+1);cvjs_fileLoadingFromSharePointServer||(d=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1));d=d.substring(0,d.lastIndexOf("."));n={};n.pdf_file=cvjs_ServerLocation+"/converters/files/"+a;n.pdf_file_name=d+"_red_"+h+".pdf";n.from_name=cvjs_from_name;n.from_mail=cvjs_from_mail;
n.cc_mail=cvjs_cc_mail;n.replyto=cvjs_replyto;cvjs_to_mail=cvjs_to_mail.replace(/,/g,";");n.to_mail=cvjs_to_mail;n.mail_title=cvjs_mail_title;n.mail_message=cvjs_mail_message;jQuery.ajax({url:cvjs_serverHandlersPath+cvjs_serverSendPDFEmailController,type:"post",data:n,success:function(a){window.alert("e-mail sent!  "+a)}})},error:function(a){console.log("Error "+a)}})}
function savepageaspdf(a){var d=ServerLocation+"/converters/files/pdf/custom_"+cvjs_customPdfFolderName,f=cvjs_last_FileName_PDF;f=f.substring(f.lastIndexOf("/")+1,f.lastIndexOf("."));var h=cvjs_getCurrentPage();d=d+"/"+f+"_red_"+h+".pdf";cvjs_zoomExtents(a);cvjs_saveFloorplanAsPDF(d,a)}
function saveDrawingWithAnnotationsAsPDF(a,d,f){" GRC_Project2/GRC_Punch List 3/GRC_Michigan.dwg";var h=new Date;h.getFullYear();h.getMonth();h.getDate();h.getHours();h.getMinutes();h.getSeconds();var n=h.getHours();10>n&&(n="0"+n);switch(h.getMonth()){case 0:var p="Jan";break;case 1:p="Feb";break;case 2:p="Mar";break;case 3:p="Apr";break;case 4:p="May";break;case 5:p="Jun";break;case 6:p="Jul";break;case 7:p="Aug";break;case 8:p="Sep";break;case 9:p="Oct";break;case 10:p="Nov";break;case 11:p="Dec";
break;default:p="Jan"}p=p+"_"+h.getDate()+"_H"+n+"_"+h.getMinutes();-1==a.indexOf("/")?h="":(h=a.substring(0,a.lastIndexOf("/")),a=a.substring(a.lastIndexOf("/")+1));cvjs_fileLoadingFromSharePointServer||(a=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].substring(cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr].lastIndexOf("/")+1));a=a.substring(0,a.lastIndexOf("."));a=f?a+"_red_"+p+".pdf":a+"_red.pdf";f=ServerLocation+a;console.log("saveDrawingWithAnnotationsAsP "+f+"  "+
a+"  "+h);cvjs_saveFloorplanAsPDFtoSharePoint(f,"floorPlan",h,d)}
function cvjs_printScreenAsPDFwithRedlines(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();d='<?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"'+(' width="'+d.width+'" height="'+d.height+
'" viewbox="'+d.x+" "+d.y+" "+d.width+" "+d.height+'"');d+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);a=d+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>";var f=cvjs_serverHandlersPath+cvjs_serverSaveFileController,h={};d=new Date;var n="y"+d.getFullYear()+"_m"+(d.getMonth()+1)+"_d"+d.getDate()+"_h"+d.getHours()+"_m"+d.getMinutes()+
"_s"+d.getSeconds();n="jan";var p=d.getHours();10>p&&(p="0"+p);switch(d.getMonth()){case 0:n="Jan";break;case 1:n="Feb";break;case 2:n="Mar";break;case 3:n="Apr";break;case 4:n="May";break;case 5:n="Jun";break;case 6:n="Jul";break;case 7:n="Aug";break;case 8:n="Sep";break;case 9:n="Oct";break;case 10:n="Nov";break;case 11:n="Dec";break;default:n="Jan"}n=n+"_"+d.getDate()+"_H"+p+"_"+d.getMinutes();var q=cvjs_FileNameNoExtension+"_"+n+".pdf",t=cvjs_FileNameNoExtension+"_"+n+".html",u=cvjs_ServerLocation+
q;d=u.lastIndexOf(".");var v=u.substring(0,d)+".svg";h.file=v;h.file_content=a;cvjs_debug&&console.log("make pdf "+v+"  "+f);jQuery.ajax({url:f,type:"post",data:h,success:function(a){cvjs_debug&&console.log("Save floorplan: "+a);a=cvjs_serverHandlersPath+cvjs_serverSVGtoPDFConverterController;var d={};d.pdf_file=u;d.svg_file=v;jQuery.ajax({url:a,type:"post",data:d,success:function(a){cvjs_debug&&console.log("PDF file is now created: "+a);a=cvjs_ServerUrl+"/"+q;var d=cvjs_ServerUrl+"/"+q,n=cvjs_ServerLocation+
"/"+t,p=cvjs_ServerUrl+"/"+t;-1<navigator.userAgent.indexOf("MSIE")||navigator.userAgent.indexOf("Trident");var u='<!DOCTYPE html><html><title>CADViewer - Print</title><head><script src="'+cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>';u=u+"<script type=\"text/javascript\">jQuery(window).on('beforeunload', function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+d+"', cache: false, success: function(html){}});  }); jQuery(window).on('unload', function (){ jQuery.ajax({url:'"+
cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+d+"', cache: false, success: function(html){}})  }); window.onbeforeunload = function (){ jQuery.ajax({url:'"+cvjs_serverHandlersPath+"/"+cvjs_serverDeleteFileController+"?file="+d+"', cache: false, success: function(html){}}) }; \x3c/script>";u=u+'</head><body><div id="pdf"><object width="'+screen.width*cvjs_print_to_pdf_windowRelativeSize+'" height="'+screen.width*cvjs_print_to_pdf_windowRelativeSize*2339/1654+'" type="application/pdf" data="'+
a+'" id="pdf_content"><p>Please install a PDF viewer, the CADViewer batch file PDF cannot be displayed.</p></object></div></body></html>';h.file=n;h.file_content=u;jQuery.ajax({url:f,type:"post",data:h,success:function(a){window.open(p,"CADViewer - Print","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+screen.height*cvjs_print_to_pdf_windowRelativeSize).focus()}})}})},error:function(a){console.log("Error "+a)}})}
function cvjs_initializeFileSelector(){jQuery("#attention_bitmap").hide();cvjs_loadServerFileList(1)}
function cvjs_setModalSingleFileItems(a){var d="#1floor"+a;jQuery(d).mouseover(function(){jQuery(d+"_1").css("color","#29BBEB");jQuery("#cvjs_serverFileLoadModal").draggable({disabled:!0})});jQuery(d).mouseout(function(){jQuery(d+"_1").css("color","#333333");jQuery("#cvjs_serverFileLoadModal").draggable({disabled:!1})});jQuery(d+"_1").mousedown(function(){var f=jQuery(d+"_2").text();current_selected_filename=f;current_selected_shortname=jQuery(d+"_1").text();jQuery("#display_floorplan_name").html(current_selected_shortname);
cvjs_callServerForDataOverlayProcessing();cvjs_loadFileWithDataOverlays(f,a);jQuery(d+"_1").css("color","#333333")});jQuery(d+"_2").mousedown(function(){var f=jQuery(d+"_2").text();current_selected_filename=f;current_selected_shortname=jQuery(d+"_1").text();jQuery("#display_floorplan_name").html(current_selected_shortname);cvjs_callServerForDataOverlayProcessing();cvjs_loadFileWithDataOverlays(f,a)});var f="#2floor"+a;jQuery(f+"_3").click(function(){1!=active_modal&&(jQuery("#delete_form").fadeIn(1E3),
delete_filename=jQuery(f+"_4").text(),delete_floor=jQuery(f+"_1").text(),hidefield_name1=f,hidefield_name2=d,positionPopup())});jQuery(f+"_3").mouseover(function(){jQuery(f+"_3_image").attr("src",""+cvjs_imagesLocation+"tools/Trash_Over_3.png")});jQuery(f+"_3").mouseout(function(){jQuery(f+"_3_image").attr("src",""+cvjs_imagesLocation+"tools/Trash_Up_1.png")});jQuery(f+"_2").mouseover(function(){});jQuery(f+"_2").mousedown(function(){try{if(1!=active_modal){0==edit_nametag_flag?edit_nametag_flag=
1:(1==edit_nametag_flag&&(fnArr_ShortName[edit_nametag_flag-1]=jQuery("#floor_name_tag").val()),edit_nametag_flag=0);if(1==edit_nametag_flag){jQuery(f+"_2").css("color","#02C226");jQuery(f+"_2_2").css("color","#E85656");jQuery(f+"_2_3").css("color","#E85656");var a='<input id="floor_name_tag" type="text3" class="name_tags2" value="'+jQuery(f+"_1").text()+'">';jQuery(f+"_1").html(a);jQuery("#sortable").sortable({disabled:!0})}if(0==edit_nametag_flag){jQuery(f+"_2").css("color","#026DD9");jQuery(f+
"_2_2").css("color","#026DD9");jQuery(f+"_2_3").css("color","#026DD9");var n=jQuery("#floor_name_tag").val();jQuery(f+"_1").html(n);jQuery(d+"_1").html(n);save_filename_list();jQuery("#sortable").sortable({disabled:!1})}}}catch(p){console.log("Err 1: "+p)}});jQuery(f+"_2_2").mousedown(function(){1!=active_modal&&(jQuery("#unlink_form").fadeIn(1E3),delete_filename=jQuery("#2floor1_4").text(),positionPopupUnlink())});jQuery(f+"_2_3").mousedown(function(){1!=active_modal&&(jQuery("#clear_form").fadeIn(1E3),
delete_filename=jQuery("#2floor1_4").text(),positionPopupClear())})}
function cvjs_initializeAllFileSelectorDivs(a){jQuery("#button2-no_upload_redline").click(function(){jQuery("#addRedlineTable").hide()});jQuery("#button1-upload_redline").click(function(){var d=!0;for(var f=0,h=cvjs_redlinesRelativePath;d;)0==h.indexOf("../")?(h=h.substring(3),f++):d=!1;d=!0;f=0;for(h=cvjs_phpPath;d;)0==h.indexOf("../")?(h=h.substring(3),f++):d=!1;d=1<f?cvjs_redlinesRelativePath.substring(3*(f-1)):cvjs_redlinesRelativePath;cvjs_debug&&console.log("cvjs_initializeAllFileSelectorDivs cvjs_saveStickyNotesRedlines f_path="+
d);cvjs_redlinesAbsolutePathOnly&&(d=cvjs_filepathServerRedlines);cvjs_debug&&console.log("2 cvjs_initializeAllFileSelectorDivs cvjs_saveStickyNotesRedlines fpath="+d);cvjs_setStickyNoteSaveRedlineUrl(d+jQuery("#uploadredline_name_tag").val());cvjs_saveStickyNotesRedlines(a)});for(i=1;i<cvjs_maxfiles;i++)cvjs_setModalSingleFileItems(i);jQuery("#select_file").click(function(){jQuery("#cvjs_upfile").click()});jQuery("#select_file").mouseover(function(){jQuery("#cvjs_serverFileLoadModal").draggable({disabled:!0})});
jQuery("#select_file").mouseout(function(){jQuery("#cvjs_serverFileLoadModal").draggable({disabled:!1})});jQuery("#CloseAttentionBitmap").click(function(){jQuery("#attention_bitmap").hide();attention_bitmap_flag=0});jQuery("#done_editing").click(function(){if(1!=active_modal){if(0<edit_nametag_flag){var a="#2floor"+edit_nametag_flag+"_1",f="#1floor"+edit_nametag_flag+"_1";jQuery("#2floor"+edit_nametag_flag+"_2").css("color","#00539B");var h=jQuery("#floor_name_tag").val();jQuery(a).html(h);jQuery(f).html(h);
save_filename_list();edit_nametag_flag=0}jQuery("#SelectFloorPlanPanel").show();jQuery("#SelectFloorPlan").show();jQuery("#SelectFloorPlanPanelEdit").hide();jQuery("#SelectFloorPlanEdit").hide()}});jQuery("#editing").click(function(){save_filename_list();jQuery("#SelectFloorPlanPanel").hide();jQuery("#SelectFloorPlan").hide();jQuery("#SelectFloorPlanPanelEdit").show();jQuery("#SelectFloorPlanEdit").show()});jQuery("#delete_modal_cancel_image").mouseover(function(){jQuery("#delete_modal_cancel_image").attr("src",
""+cvjs_imagesLocation+"tools/Cancel_Over_2.png")});jQuery("#delete_modal_cancel_image").mouseout(function(){jQuery("#delete_modal_cancel_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Inactive_4.png")});jQuery("#delete_modal_proceed_image").mouseover(function(){jQuery("#delete_modal_proceed_image").attr("src",""+cvjs_imagesLocation+"tools/Proceed_111x28_Over.png")});jQuery("#delete_modal_proceed_image").mouseout(function(){jQuery("#delete_modal_proceed_image").attr("src",""+cvjs_imagesLocation+
"tools/Proceed_111x28_Up.png")});jQuery("#unlink_modal_cancel_image").mouseover(function(){jQuery("#unlink_modal_cancel_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Over_2.png")});jQuery("#unlink_modal_cancel_image").mouseout(function(){jQuery("#unlink_modal_cancel_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Inactive_4.png")});jQuery("#unlink_modal_proceed_image").mouseover(function(){jQuery("#unlink_modal_proceed_image").attr("src",""+cvjs_imagesLocation+"tools/Proceed_111x28_Over.png")});
jQuery("#unlink_modal_proceed_image").mouseout(function(){jQuery("#unlink_modal_proceed_image").attr("src",""+cvjs_imagesLocation+"tools/Proceed_111x28_Up.png")});jQuery("#clear_modal_cancel_image").mouseover(function(){jQuery("#clear_modal_cancel_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Over_2.png")});jQuery("#clear_modal_cancel_image").mouseout(function(){jQuery("#clear_modal_cancel_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Inactive_4.png")});jQuery("#clear_modal_proceed_image").mouseover(function(){jQuery("#clear_modal_proceed_image").attr("src",
""+cvjs_imagesLocation+"tools/Proceed_111x28_Over.png")});jQuery("#clear_modal_proceed_image").mouseout(function(){jQuery("#clear_modal_proceed_image").attr("src",""+cvjs_imagesLocation+"tools/Proceed_111x28_Up.png")});jQuery("#button2-nodelete").click(function(){active_modal=0;jQuery("#delete_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0")});jQuery("#button1-delete").click(function(){active_modal=
0;jQuery("#delete_form").fadeOut(500);delete_file_and_overlay(delete_filename);jQuery(hidefield_name1).hide();jQuery(hidefield_name2).hide();jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0")});jQuery("#button1-unlink").click(function(){active_modal=0;jQuery("#unlink_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0");unlink_flag=
1;unlink_file=delete_filename});jQuery("#button2-nounlink").click(function(){active_modal=0;jQuery("#unlink_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0");unlink_flag=0;unlink_file=""});jQuery("#unlink_modal_close_cross").click(function(){active_modal=0;jQuery("#unlink_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity",
"1.0");jQuery("#unlink_modal_close_cross").css("filter","alpha(opacity=100)");jQuery("#unlink_modal_close_cross").css("opacity","1.0");unlink_flag=0;unlink_file=""});jQuery("#unlink_modal_close_cross").mouseover(function(){jQuery("#unlink_modal_close_cross").css("filter","alpha(opacity=70)");jQuery("#unlink_modal_close_cross").css("opacity","0.7")});jQuery("#unlink_modal_close_cross").mouseout(function(){jQuery("#unlink_modal_close_cross").css("filter","alpha(opacity=100)");jQuery("#unlink_modal_close_cross").css("opacity",
"1.0")});jQuery("#button1-clear").click(function(){active_modal=0;jQuery("#clear_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0")});jQuery("#button2-noclear").click(function(){active_modal=0;jQuery("#clear_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0")});jQuery("#clear_modal_close_cross").click(function(){active_modal=
0;jQuery("#clear_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0");jQuery("#clear_modal_close_cross").css("filter","alpha(opacity=100)");jQuery("#clear_modal_close_cross").css("opacity","1.0")});jQuery("#clear_modal_close_cross").mouseover(function(){jQuery("#clear_modal_close_cross").css("filter","alpha(opacity=70)");jQuery("#clear_modal_close_cross").css("opacity","0.7")});jQuery("#clear_modal_close_cross").mouseout(function(){jQuery("#clear_modal_close_cross").css("filter",
"alpha(opacity=100)");jQuery("#clear_modal_close_cross").css("opacity","1.0")});jQuery("#modal_close_cross").click(function(){active_modal=0;jQuery("#delete_form").fadeOut(500);jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=100)");jQuery("#SelectFloorPlanPanelEdit").css("opacity","1.0");jQuery("#modal_close_cross").css("filter","alpha(opacity=100)");jQuery("#modal_close_cross").css("opacity","1.0")});jQuery("#modal_close_cross").mouseover(function(){jQuery("#modal_close_cross").css("filter",
"alpha(opacity=70)");jQuery("#modal_close_cross").css("opacity","0.7")});jQuery("#modal_close_cross").mouseout(function(){jQuery("#modal_close_cross").css("filter","alpha(opacity=100)");jQuery("#modal_close_cross").css("opacity","1.0")});jQuery("#uploadredline_modal_cancel_image").mouseover(function(){jQuery("#uploadredline_modal_cancel_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Over_2.png")});jQuery("#uploadredline_modal_cancel_image").mouseout(function(){jQuery("#uploadredline_modal_cancel_image").attr("src",
""+cvjs_imagesLocation+"tools/Cancel_Inactive_4.png")});jQuery("#uploadredline_modal_proceed_image").mouseover(function(){jQuery("#uploadredline_modal_proceed_image").attr("src",""+cvjs_imagesLocation+"tools/Proceed_111x28_Over.png")});jQuery("#uploadredline_modal_proceed_image").mouseout(function(){jQuery("#uploadredline_modal_proceed_image").attr("src",""+cvjs_imagesLocation+"tools/Proceed_111x28_Up.png")})}
var active_modal=0,edit_nametag_flag=0,filesonserver=0,cvjs_floorplansRelativePath="../drawings/floorplans/",cvjs_filepathServer="home/myserver/",cvjs_floorplanUrl="http://myserver.com",cvjs_filename_list_status=1;
function save_filename_list(){cvjs_debug&&console.log("save_filename_list  cvjs_filename_list_status "+cvjs_filename_list_status);var a="";a="(RW-2)|"+filesonserver+"|";for(var d=0;d<filesonserver;d++)a=a+fnArr_FileName[d]+";";a+="|";for(d=0;d<filesonserver;d++)a=a+fnArr_ShortName[d]+";";a+="|";d=cvjs_phpPath+"save-file.php";d=cvjs_serverHandlersPath+cvjs_serverSaveFileControllerRedlines;var f={};if(1==cvjs_filename_list_status){var h="";h=!0;for(var n=0,p=cvjs_floorplansRelativePath;h;)0==p.indexOf("../")?
(p=p.substring(3),n++):h=!1;h=!0;n=0;for(p=cvjs_phpPath;h;)0==p.indexOf("../")?(p=p.substring(3),n++):h=!1;h=1<n?cvjs_floorplansRelativePath.substring(3*(n-1)):cvjs_floorplansRelativePath;cvjs_fileLocationAbsolutePathsOnly&&(h=cvjs_filepathServer);f.file=encodeURIComponent(h+filenames_data_url_name)}if(2==cvjs_filename_list_status){h="";h=!0;n=0;for(p=cvjs_redlinesRelativePath;h;)0==p.indexOf("../")?(p=p.substring(3),n++):h=!1;h=!0;n=0;for(p=cvjs_phpPath;h;)0==p.indexOf("../")?(p=p.substring(3),n++):
h=!1;h=1<n?cvjs_redlinesRelativePath.substring(3*(n-1)):cvjs_redlinesRelativePath;cvjs_redlinesAbsolutePathOnly&&(h=cvjs_filepathServerRedlines);f.file=encodeURIComponent(h+filenames_data_url_name)}cvjs_debug&&console.log("save_filename_list   "+f.file);cvjs_debug&&console.log("save_filename_list   "+a);cvjs_debug&&console.log("save_filename_list   "+d);f.file_content=a;jQuery.ajax({url:d,type:"post",data:f,success:function(a){cvjs_directFileLoad&&cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],
cvjs_directFileLoadPath)}})}function getFiles(){myFileList=document.getElementById("myfiles");for(var a=0;a<myFileList.files.length;a++)document.getElementById("display").innerHTML+="<br/>"+myFileList.files[a].name}
function cvjs_add_file_object(a){for(var d=document.getElementById(a),f=0;f<d.files.length;f++)cvjs_debug&&console.log(d.files[f].name);f=d.value.split("\\");var h=f[f.length-1],n=0,p=d.files;p||(p=[],p.push({name:d.value.substring(d.value.lastIndexOf("\\")+1),size:0,type:d.value.substring(d.value.lastIndexOf(".")+1)}),d.files=p);p=0;var q="",t="";try{p=d.files[0].size,q=d.files[0].name,t=d.files[0].path,cvjs_debug&&console.log(p+"  "+q+"  "+t)}catch(v){console.log(v)}if(-1<h.indexOf("+")||-1<h.indexOf("%"))n=
1;if(1==n)jQuery("#attention_1").html("Attention: Illegal character!"),jQuery("#attention_2").html("Illegal character in file name! Please rename and try again."),jQuery("#attention_bitmap").show();else{var u=f[f.length-1].split(".");if(-1==".dwf|.dxf|.dwg|.png|.gif|.jpg|.tif|.tiff|.svg|.svgz|.js|.pdf|.dgn|.pcf|.json".indexOf(u[u.length-1].toLowerCase()))jQuery("#attention_1").html("Attention: Format not supported!"),jQuery("#attention_2").html("CADViewer supports the following: <br> AutoCAD Formats: DWG, DXF, DWF <br> MicroStation Formats: DGN, PCF <br>Bitmap Formats: JPG, GIF, PNG, TIFF <br>Scalable Vector Graphics: SVG and SVGZ. <br>Adobe Acrobat: PDF<br>CADViewer: .JS JavaScript files.<br>LinkList/DwgMerge: .JSON files. "),
jQuery("#attention_bitmap").show();else{cvjs_fileLoadTrialMode&&(filesonserver=0);for(f=n=0;f<filesonserver;f++)0==fnArr_FileName[f].indexOf(h)&&(n=1,n=0);if(1==n)jQuery("#attention_1").html("Attention:"),jQuery("#attention_2").html(h+" has already been uploaded! "),jQuery("#attention_bitmap").show();else{".png|.gif|.jpg".indexOf(u[u.length-1].toLowerCase());jQuery("#SelectFloorPlanPanelEdit").hide();jQuery("#SelectFloorPlanPanel").show();filesonserver++;for(f=filesonserver-1;0<f;f--)fnArr_FileName[f]=
fnArr_FileName[f-1],fnArr_ShortName[f]=fnArr_ShortName[f-1],n="#1floor"+(f+1),jQuery(n).show(),n="#1floor"+(f+1)+"_2",jQuery(n).html(fnArr_FileName[f]),n="#2floor"+(f+1),jQuery(n).show(),n="#2floor"+(f+1)+"_4",jQuery(n).html(fnArr_FileName[f]),n=h.split("."),n="#2floor"+(f+1)+"_1",jQuery(n).html(fnArr_ShortName[f]),n="#1floor"+(f+1)+"_1",jQuery(n).html(fnArr_ShortName[f]);fnArr_FileName[0]=h;fnArr_ShortName[0]=h;jQuery("#1floor1").show();jQuery("#1floor1_2").html(h);jQuery("#2floor1").show();jQuery("#2floor1_4").html(h);
n=h.split(".");jQuery("#2floor1_1").html(n[0]);n="#1floor1_1";jQuery(n).html("");f="";f=externalServerPhpUpload?cvjs_phpUploadPath:cvjs_phpPath;jQuery(n).axuploader({url:f+cvjs_serverUploadController,finish:function(a,d){a={};if(0<=u[u.length-1].indexOf("pdf")||0<=u[u.length-1].indexOf("PDF"))a.file=h,jQuery.ajax({url:cvjs_floorplansRelativePath+"load-header.php",type:"post",data:a,success:function(a){a=a.substring(0,8);0<=a.indexOf("PDF-1.2")||0<=a.indexOf("PDF-1.3")||0<=a.indexOf("PDF-1.4")||0<=
a.indexOf("PDF-1.5")||0<=a.indexOf("PDF-1.6")||(cvjs_debug&&console.log("The PDF version is currently unsupported, please use a PDF tool to save the file as Acrobat 7 (PDF 1.6) or below."),a="#1floor"+filesonserver,jQuery(a).hide(),a="#2floor"+filesonserver,jQuery(a).hide(),filesonserver--,a=cvjs_phpPath+"delete-file.php?file="+encodeURIComponent(cvjs_floorplansRelativePath+h),jQuery.ajax({url:a,cache:!1,success:function(a){}}))}});try{jQuery("#tree").jstree(!0).refresh(!0)}catch(x){console.log("we do not have a folder tree to update...:  "+
x)}},enable:!0,fileObject:d,remotePath:function(){cvjs_debug&&console.log("file upload "+cvjs_filepathServer+" file_and_ext"+h);cvjs_directFileLoad&&(cvjs_directFileLoadPath=cvjs_filepathServer+h);document.getElementById(a).value="";return cvjs_filepathServer}})}}}}var cvjs_fileLocationAbsolutePathsOnly=!1;
function cvjs_setServerFileLocation(a,d,f,h,n){cvjs_floorplansRelativePath=d;cvjs_filepathServer=a;cvjs_floorplanUrl=f;rest_contentUserName=h;rest_contentPassword=n;cvjs_fileLocationAbsolutePathsOnly=!1}function cvjs_setServerFileLocation_AbsolutePaths(a,d,f,h){cvjs_floorplansRelativePath="";cvjs_filepathServer=a;cvjs_floorplanUrl=d;rest_contentUserName=f;rest_contentPassword=h;cvjs_fileLocationAbsolutePathsOnly=!0}
function cvjs_exitServerFileLoadModal(){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#cvjs_serverFileLoadModal").hide();jQuery("#cvjs_serverFileLoadModal_table").hide()}function cvjs_callServerForDataOverlayProcessing(){}
function cvjs_loadFileWithDataOverlays(a,d){fileExtensionLower=a.substring(a.lastIndexOf(".")+1).toLowerCase();fileNamePath=0==fileExtensionLower.indexOf("dwg")||0==fileExtensionLower.indexOf("dwf")||0==fileExtensionLower.indexOf("dxf")||0==fileExtensionLower.indexOf("dgn")||0==fileExtensionLower.indexOf("pcf")?cvjs_floorplanUrl+a:cvjs_fileLocationAbsolutePathsOnly?cvjs_floorplanUrl+a:cvjs_floorplansRelativePath+a;cvjs_CompareFiles_CustomFileModalContent_flag&&(fileNamePath=cvjs_CompareFiles_CustomFileModalContent[d-
1].url);if(cvjs_fileLoadTrialMode)for(filesonserver=0,d=cvjs_maxfiles;1<d;d--){var f="2floor"+d;jQuery("#1floor"+d).hide();jQuery("#"+f).hide()}1==cvjs_filename_list_status&&(cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]),rest_nname[cvjs_active_floorplan_div_nr].length=0,cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],fileNamePath));if(2==cvjs_filename_list_status){cvjs_clearDrawingStickyNotes();cvjs_StickyNoteRedlineUrl=cvjs_redlinesRelativePath+a;
cvjs_redlinesAbsolutePathOnly&&(f_path=cvjs_filepathServerRedlines);if(0==cvjs_loadMultipleRedlinesStickyNotes){for(d=0;d<vqRedlines.length;d++)cvjs_debug&&console.log(d+" remove red"+vqRedlines[d]),vqRedlines[d].remove();for(d=0;d<vqStickyNotes.length;d++)cvjs_debug&&console.log(d+"  "+vqStickyNotes[d]+" remove note"),vqStickyNotes[d].remove();cvjs_stickyNotesRedlines=[];cvjs_stickyNotesRedlines.length=0;cvjs_debug&&console.log("cvjs_stickynote "+cvjs_stickynote);cvjs_deleteAllStickyNotes();cvjs_deleteAllRedlines();
vqRedlines.length=0;vqStickyNotes.length=0}cvjs_loadStickyNotesRedlines(floorplan_div_Array[cvjs_active_floorplan_div_nr])}3==cvjs_filename_list_status&&(cvjs_SpaceObjectUrl=cvjs_spaceObjectsRelativePath+a,cvjs_debug&&console.log("loading "+cvjs_SpaceObjectUrl),cvjs_loadSpaceObjects(floorplan_div_Array[cvjs_active_floorplan_div_nr]));cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#cvjs_serverFileLoadModal").hide();jQuery("#cvjs_serverFileLoadModal_table").hide()}
var fileload_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],cvjs_fileLoadToServer=!1;function cvjs_loadBitmapsViaServerPath(a){cvjs_bitmapFileNameIsServerPath_flag=a}
function cvjs_openFileLoadToServer(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4)),a.lastIndexOf("_svg"),cvjs_convertSpaceObject=!1,cvjs_filename_list_status=1,filesonserver=0,cvjs_fileLoadToServer?(fileload_offset_flag[cvjs_active_floorplan_div_nr]&&(fileload_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#cvjs_serverFileLoadModal").css({position:"fixed"}),
jQuery("#cvjs_serverFileLoadModal").offset({left:150+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().left,top:50+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top})),jQuery("#SelectFloorPlan").hide(),jQuery("#SelectFloorPlanPanel").hide(),jQuery("#SelectFloorPlanEdit").hide(),jQuery("#SelectFloorPlanPanelEdit").hide(),jQuery("#cvjs_cvRoomTextLayersOnLoad").html(""),jQuery("#serverFileModalName").html(languageTable.languages[cvjs_currentLanguage].FileLoadModal.Header),
jQuery("#addFloorPlanTable").show(),jQuery("#add_br_not_addFloorPlanTable").show(),jQuery("#addRedlineTable").hide(),jQuery("#infoFileModalNameDrawing").html(languageTable.languages[cvjs_currentLanguage].FileLoadModal.DrawingFilename),jQuery("#editFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].FileLoadModal.EditFloorplanInfo),jQuery("#infoFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].FileLoadModal.DrawingFilename),cvjs_initializeFileSelector()):cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
languageTable.languages[cvjs_currentLanguage].InfoMessageModal.FileLoadThroughApp))}var cvjs_fileLoadTrialMode=!1;function cvjs_setFileLoadTrialMode(a){cvjs_fileLoadTrialMode=a}var filenames_data_url_name="filenames.rw";
function cvjs_loadServerFileList(a){if(cvjs_CompareFiles_CustomFileModalContent_flag){for(p=filesonserver=0;p<cvjs_CompareFiles_CustomFileModalContent.length;p++)fnArr_listdirectory_ShortName[p]=cvjs_CompareFiles_CustomFileModalContent[p].filenameText,fnArr_listdirectory_FileName[p]=cvjs_CompareFiles_CustomFileModalContent[p].filename;for(p=0;p<fnArr_listdirectory_FileName.length;p++){fnArr_ShortName[p]=fnArr_listdirectory_ShortName[p];fnArr_FileName[p]=fnArr_listdirectory_FileName[p];var d=p+1,f=
"1floor"+d+"_2",h="2floor"+d+"_4",n="1floor"+d+"_1";d="2floor"+d+"_1";jQuery("#"+f).html(fnArr_listdirectory_FileName[p]);jQuery("#"+h).html(fnArr_listdirectory_FileName[p]);jQuery("#"+n).html(fnArr_listdirectory_ShortName[p]);jQuery("#"+d).html(fnArr_listdirectory_ShortName[p]);filesonserver++}for(var p=0;p<filesonserver;p++)d=p+1,f="1floor"+d,h="2floor"+d,jQuery("#"+f).show(),jQuery("#"+h).show();for(p=cvjs_maxfiles;p>filesonserver;p--)f="1floor"+p,h="2floor"+p,jQuery("#"+f).hide(),jQuery("#"+h).hide();
console.log("cvjs_CompareFiles_CustomFileModalContent_flag before show!");jQuery("#SelectFloorPlan").show();jQuery("#SelectFloorPlanPanel").show();jQuery("#cvjs_serverFileLoadModal").show();jQuery("#cvjs_serverFileLoadModal_table").show()}else{if(1==a){h="";f=!0;n=0;for(h=cvjs_floorplansRelativePath;f;)0==h.indexOf("../")?(h=h.substring(3),n++):f=!1;f=!0;n=0;for(h=cvjs_phpPath;f;)0==h.indexOf("../")?(h=h.substring(3),n++):f=!1;h=1<n?cvjs_floorplansRelativePath.substring(3*(n-1)):cvjs_floorplansRelativePath;
cvjs_fileLocationAbsolutePathsOnly&&(h=cvjs_floorplanUrl);f=cvjs_phpPath+cvjs_serverLoadFileController+"?file="+h+filenames_data_url_name;cvjs_loadFileControllerFlag&&(f=cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+h+filenames_data_url_name);cvjs_debug&&console.log(" cvjs_loadServerFileList mode 1 "+f)}if(2==a){h="";f=!0;n=0;for(h=cvjs_redlinesRelativePath;f;)0==h.indexOf("../")?(h=h.substring(3),n++):f=!1;f=!0;n=0;for(h=cvjs_phpPath;f;)0==h.indexOf("../")?(h=h.substring(3),n++):
f=!1;h=1<n?cvjs_redlinesRelativePath.substring(3*(n-1)):cvjs_redlinesRelativePath;cvjs_debug&&console.log("phpPath="+cvjs_phpPath+" 1 cvjs_loadServerFileList fpath="+h);h=cvjs_redlinesAbsolutePathOnly?cvjs_filepathServerRedlines:cvjs_redlinesRelativePath;cvjs_debug&&console.log("ZZ"+cvjs_redlinesAbsolutePathOnly+"  "+cvjs_redlinesRelativePath+"  "+cvjs_filepathServerRedlines);cvjs_debug&&console.log(" 2 cvjs_loadServerFileList fpath="+h);f=cvjs_phpPath+cvjs_serverLoadFileController+"?file="+h+filenames_data_url_name;
cvjs_loadRedlinesFileControllerFlag&&(f=cvjs_serverHandlersPath+cvjs_serverLoadFileControllerRedlines+"?file="+h+filenames_data_url_name);cvjs_debug&&console.log("ajax call: mode 2 file="+f)}if(3==a){h="";f=!0;n=0;for(h=cvjs_spaceObjectsRelativePath;f;)0==h.indexOf("../")?(h=h.substring(3),n++):f=!1;f=!0;n=0;for(h=cvjs_phpPath;f;)0==h.indexOf("../")?(h=h.substring(3),n++):f=!1;h=1<n?cvjs_spaceObjectsRelativePath.substring(3*(n-1)):cvjs_spaceObjectsRelativePath;cvjs_debug&&console.log("phpPath="+cvjs_phpPath+
" 1 cvjs_loadServerFileList fpath="+h);h=cvjs_spaceObjectsAbsolutePathOnly?cvjs_filepathServerSpaceObjects:cvjs_spaceObjectsRelativePath;cvjs_debug&&console.log("ZZ"+cvjs_spaceObjectsAbsolutePathOnly+"  "+cvjs_spaceObjectsRelativePath+"  "+cvjs_filepathServerSpaceObjects);cvjs_debug&&console.log(" 2 cvjs_loadServerFileList fpath="+h);f=cvjs_phpPath+cvjs_serverLoadFileController+"?file="+h+filenames_data_url_name;cvjs_loadRedlinesFileControllerFlag&&(f=cvjs_serverHandlersPath+cvjs_serverLoadFileControllerRedlines+
"?file="+h+filenames_data_url_name);cvjs_debug&&console.log("ajax call: mode 3 file="+f)}jQuery.ajax({url:f,type:"post",cache:!1,success:function(d){var f=d.substring(0,6);fnArr_FileName.length=0;fnArr_ShortName.length=0;cvjs_debug&&console.log("loaded from server RW-2:"+d);if(0<=f.indexOf("RW")){d=d.split("|");f=d[1];var h=d[2].replace(/&amp;/g,"&");h=h.split(";");for(var n=0;n<f;n++)fnArr_FileName[n]=h[n].replace(/&/g,"&amp;");h=d[3].replace(/&amp;/g,"&");h=h.split(";");for(n=0;n<f;n++)fnArr_ShortName[n]=
h[n].replace(/&/g,"&amp;")}d="";f={};1==a&&(d=cvjs_serverHandlersPath+cvjs_serverListDirectoryController,f.directory=cvjs_filepathServer,f.directoryurl=cvjs_floorplansRelativePath);2==a&&(d=cvjs_serverHandlersPath+cvjs_serverListDirectoryControllerRedlines,f.directory=cvjs_filepathServerRedlines,f.directoryurl=cvjs_redlinesRelativePath);3==a&&(d=cvjs_serverHandlersPath+cvjs_serverListDirectoryControllerRedlines,f.directory=cvjs_filepathServerSpaceObjects,f.directoryurl=cvjs_spaceObjectsRelativePath);
cvjs_debug&&console.log("file list call:"+d);jQuery.ajax({url:d,type:"post",data:f,success:function(d){cvjs_debug&&console.log("server file list:"+d);var f=d.split("<br>");filesonserver=0;d="";for(var h=0;h<fnArr_FileName.length;h++)d=d+" "+fnArr_FileName[h];cvjs_debug&&console.log("This is empty if there is no .rw file on server test_str="+d);fnArr_listdirectory_FileName=[];fnArr_listdirectory_ShortName=[];if(2<=f.length)for(cvjs_debug&&console.log("n.length="+f.length),d=0;d<f.length-1;d++)fnArr_listdirectory_FileName[d]=
f[d+1],h=f[d+1].split("."),fnArr_listdirectory_ShortName[d]=h[0];for(d=0;d<fnArr_listdirectory_FileName.length;d++)for(f=0;f<fnArr_FileName.length;f++)h=fnArr_listdirectory_FileName[d].replace(/&/g,"&amp;"),0<=h.indexOf(fnArr_FileName[f])&&h.length==fnArr_FileName[f].length&&(fnArr_listdirectory_ShortName[d]=fnArr_ShortName[f]);for(d=0;d<fnArr_listdirectory_FileName.length;d++){fnArr_ShortName[d]=fnArr_listdirectory_ShortName[d];fnArr_FileName[d]=fnArr_listdirectory_FileName[d];f=d+1;h="1floor"+f+
"_2";var n="2floor"+f+"_4",p="1floor"+f+"_1";f="2floor"+f+"_1";console.log("l3="+p+" fnArr_FileName[i]="+fnArr_listdirectory_FileName[d]+"   "+fnArr_listdirectory_ShortName[d]);jQuery("#"+h).html(fnArr_listdirectory_FileName[d]);jQuery("#"+n).html(fnArr_listdirectory_FileName[d]);jQuery("#"+p).html(fnArr_listdirectory_ShortName[d]);jQuery("#"+f).html(fnArr_listdirectory_ShortName[d]);filesonserver++}cvjs_fileLoadTrialMode&&1==a&&(filesonserver=0);for(d=0;d<filesonserver;d++)f=d+1,h="1floor"+f,n="2floor"+
f,jQuery("#"+h).show(),jQuery("#"+n).show();for(d=cvjs_maxfiles;d>filesonserver;d--)h="1floor"+d,n="2floor"+d,jQuery("#"+h).hide(),jQuery("#"+n).hide();jQuery("#SelectFloorPlan").show();jQuery("#SelectFloorPlanPanel").show()},error:function(a){console.log("Error "+a)}});jQuery("#cvjs_serverFileLoadModal").show();jQuery("#cvjs_serverFileLoadModal_table").show()}})}}
function positionPopupUnlink(){1!=active_modal&&(active_modal=1,jQuery("#unlink_form").is(":visible")&&(jQuery("#unlink_form").css({left:225,top:150,position:"absolute"}),jQuery("#unlink_Modal_header").html(languageTable.languages[cvjs_currentLanguage].UnlinkModal.Header),jQuery("#unlink_modal_file").html(languageTable.languages[cvjs_currentLanguage].UnlinkModal.Text1+" <strong>"+delete_filename+"</strong>. "+languageTable.languages[cvjs_currentLanguage].UnlinkModal.Text2),jQuery("#SelectFloorPlanPanelEdit").css("filter",
"alpha(opacity=40)"),jQuery("#SelectFloorPlanPanelEdit").css("opacity","0.40")))}
function positionPopupClear(){1!=active_modal&&(active_modal=1,jQuery("#clear_form").is(":visible")&&(jQuery("#clear_form").css({left:225,top:150,position:"absolute"}),jQuery("#clear_Modal_header").html(languageTable.languages[cvjs_currentLanguage].ClearModal.Header),jQuery("#clear_modal_file").html(languageTable.languages[cvjs_currentLanguage].ClearModal.Text1+" <strong>"+delete_filename+"</strong>."),jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=40)"),jQuery("#SelectFloorPlanPanelEdit").css("opacity",
"0.40")))}
function positionPopup(){1!=active_modal&&(active_modal=1,jQuery("#delete_form").is(":visible")&&(jQuery("#delete_form").css({left:225,top:150,position:"absolute"}),jQuery("#delete_Modal_header").html(languageTable.languages[cvjs_currentLanguage].DeleteModal.Header),jQuery("#delete_modal_file_name1").html(languageTable.languages[cvjs_currentLanguage].DeleteModal.Text1+" <strong>"+delete_filename+"</strong> "+languageTable.languages[cvjs_currentLanguage].DeleteModal.Text2),jQuery("#SelectFloorPlanPanelEdit").css("filter","alpha(opacity=40)"),
jQuery("#SelectFloorPlanPanelEdit").css("opacity","0.40")))}
function delete_file_and_overlay(a){if(1==cvjs_filename_list_status){var d="";d=!0;for(var f=0,h=cvjs_floorplansRelativePath;d;)0==h.indexOf("../")?(h=h.substring(3),f++):d=!1;d=!0;f=0;for(h=cvjs_phpPath;d;)0==h.indexOf("../")?(h=h.substring(3),f++):d=!1;d=1<f?cvjs_floorplansRelativePath.substring(3*(f-1)):cvjs_floorplansRelativePath;cvjs_fileLocationAbsolutePathsOnly&&(d=cvjs_filepathServer);d=cvjs_phpPath+"delete-file.php?file="+encodeURIComponent(d+a)}if(2==cvjs_filename_list_status){d="";d=!0;
f=0;for(h=cvjs_redlinesRelativePath;d;)0==h.indexOf("../")?(h=h.substring(3),f++):d=!1;d=!0;f=0;for(h=cvjs_phpPath;d;)0==h.indexOf("../")?(h=h.substring(3),f++):d=!1;d=1<f?cvjs_redlinesRelativePath.substring(3*(f-1)):cvjs_redlinesRelativePath;cvjs_redlinesAbsolutePathOnly&&(d=cvjs_filepathServerRedlines);d=cvjs_phpPath+"delete-file.php?file="+encodeURIComponent(d+a)}jQuery.ajax({url:d,cache:!1,success:function(a){}});for(d=0;d<filesonserver;){if(0==a.indexOf(fnArr_FileName[d])&&a.length==fnArr_FileName[d].length){for(;d<
filesonserver-1;d++)fnArr_FileName[d]=fnArr_FileName[d+1],fnArr_ShortName[d]=fnArr_ShortName[d+1];d=filesonserver;filesonserver--}d++}save_filename_list()}var cvjs_redlinesAbsolutePathOnly=!1;function cvjs_setRedlinesRelativePath(a,d){cvjs_filepathServerRedlines=d;cvjs_redlinesRelativePath=a;cvjs_redlinesAbsolutePathOnly=!1}function cvjs_setRedlinesAbsolutePath(a,d){cvjs_filepathServerRedlines=d;cvjs_redlinesRelativePath=a;cvjs_redlinesAbsolutePathOnly=!0}
function cvjs_openRedlineSaveModal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log("cvjs_openRedlineSaveModal"),cvjs_fileSaverRedlineMode=!0,cvjs_filename_list_status=2,filesonserver=0,fileload_offset_flag[cvjs_active_floorplan_div_nr]&&(fileload_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#cvjs_serverFileLoadModal").css({position:"fixed"}),jQuery("#cvjs_serverFileLoadModal").offset({left:150+
jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#attention_bitmap").hide(),jQuery("#SelectFloorPlan").hide(),jQuery("#SelectFloorPlanPanel").hide(),jQuery("#SelectFloorPlanEdit").hide(),jQuery("#SelectFloorPlanPanelEdit").hide(),jQuery("#cvjs_cvRoomTextLayersOnLoad").html(""),jQuery("#serverFileModalName").html(languageTable.languages[cvjs_currentLanguage].SaveRedlineModal.Header),jQuery("#addFloorPlanTable").hide(),jQuery("#add_br_not_addFloorPlanTable").hide(),jQuery("#addRedlineTable").show(),
jQuery("#infoFileModalNameDrawing").html(languageTable.languages[cvjs_currentLanguage].SaveRedlineModal.RedlineFilename),jQuery("#editFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].SaveRedlineModal.EditRedlineInfo),jQuery("#infoFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].SaveRedlineModal.RedlineFilename),jQuery("#inputRedlineFileName").html('<input id="uploadredline_name_tag" type="text3_red" class="name_tags2_red" value="redline-01.js">'),cvjs_debug&&
console.log("cvjs_openRedlineSaveModal cvjs_loadServerFileList(2)"),cvjs_loadServerFileList(2))}
function cvjs_openRedlineLoadModal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log("cvjs_openRedlineLoadModal "),cvjs_fileLoaderRedlineMode=!0,cvjs_filename_list_status=2,filesonserver=0,fileload_offset_flag[cvjs_active_floorplan_div_nr]&&(fileload_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#cvjs_serverFileLoadModal").css({position:"fixed"}),jQuery("#cvjs_serverFileLoadModal").offset({left:150+
jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#attention_bitmap").hide(),jQuery("#SelectFloorPlan").hide(),jQuery("#SelectFloorPlanPanel").hide(),jQuery("#SelectFloorPlanEdit").hide(),jQuery("#SelectFloorPlanPanelEdit").hide(),jQuery("#cvjs_cvRoomTextLayersOnLoad").html(""),jQuery("#serverFileModalName").html(languageTable.languages[cvjs_currentLanguage].OpenRedlineModal.Header),jQuery("#addFloorPlanTable").hide(),jQuery("#add_br_not_addFloorPlanTable").hide(),jQuery("#addRedlineTable").hide(),
jQuery("#infoFileModalNameDrawing").html(languageTable.languages[cvjs_currentLanguage].OpenRedlineModal.RedlineFilename),jQuery("#editFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].OpenRedlineModal.EditRedlineInfo),jQuery("#infoFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].OpenRedlineModal.RedlineFilename),cvjs_debug&&console.log("cvjs_openRedlineLoadModal cvjs_loadServerFileList(2)"),cvjs_loadServerFileList(2))}
var blackwhiteMode=0,cvjs_original_background="";
function cvjs_toggleBlackWhite(a){cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");var d=currentLoadedDrawingFullName.slice(-2);blackwhiteMode++;if(1>blackwhiteMode||3<blackwhiteMode)blackwhiteMode=1;0<d.indexOf("js")?(1==blackwhiteMode&&(cvjs_original_background=cvjs_currentBackgroundColor[cvjs_active_floorplan_div_nr].toString(),cvjs_colorAllLayersInDrawing_InvertBackground("000000",a)),2==blackwhiteMode&&cvjs_colorAllLayersInDrawing_InvertBackground("FFFFFF",
a),3==blackwhiteMode&&(cvjs_setBackgroundColorHex(cvjs_original_background,a),cvjs_LoadDrawing(a,currentLoadedDrawingFullName))):(1==blackwhiteMode&&(cvjs_original_background=cvjs_currentBackgroundColor[cvjs_active_floorplan_div_nr].toString(),cvjs_colorAllLayersInDrawing_InvertBackground_SVG("000000",blackwhiteMode,a)),2==blackwhiteMode&&cvjs_colorAllLayersInDrawing_InvertBackground_SVG("FFFFFF",blackwhiteMode,a),3==blackwhiteMode&&cvjs_colorAllLayersInDrawing_OriginalColor_SVG(a))}
function cvjs_colorAllLayersInDrawing_OriginalColor_SVG(a){var d={};jQuery("*[id]").each(function(){try{var f=jQuery(this).attr("id"),h="[id^="+a+"]";jQuery("#"+f).parents(h).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(d[f]||(d[f]=!0))}catch(q){}});for(var f in d)try{var h="#"+f;0==jQuery(h).attr("id").indexOf("cv_")&&(jQuery(h).css("stroke",cvjs_SVGLineColorArray[f]),jQuery(h).css("fill",cvjs_SVGFillColorArray[f]))}catch(n){}cvjs_setBackgroundColorHex(cvjs_original_background,
a)}var cvjs_SVGLineColorArray={},cvjs_SVGFillColorArray={},oArr={};
function cvjs_colorAllLayersInDrawing_InvertBackground_SVG(a,d,f){if(1==d){cvjs_setBackgroundColorHex("FFFFFF",f);cvjs_SVGFillColorArray={};cvjs_SVGLineColorArray={};var h="#"+a;oArr={};jQuery("*[id]").each(function(){try{var a=jQuery(this).attr("id"),d="[id^="+f+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(oArr[a]||(oArr[a]=!0))}catch(u){}});for(var n in oArr)try{var p="#"+n;0==jQuery(p).attr("id").indexOf("cv_")&&(cvjs_SVGLineColorArray[n]=jQuery(p).css("stroke"),
cvjs_SVGFillColorArray[n]=jQuery(p).css("fill"),"none"!=cvjs_SVGLineColorArray[n]&&jQuery(p).css("stroke",h),"none"!=cvjs_SVGFillColorArray[n]&&jQuery(p).css("fill",h))}catch(q){}}if(2==d)for(n in cvjs_setBackgroundColorHex("000000",f),h="#"+a,oArr)try{p="#"+n,0==jQuery(p).attr("id").indexOf("cv_")&&("none"!=cvjs_SVGLineColorArray[n]&&jQuery(p).css("stroke",h),"none"!=cvjs_SVGFillColorArray[n]&&jQuery(p).css("fill",h))}catch(q){}}
function cvjs_storeFillColors(){cvjs_SVGFillColorArray={};oArr={};jQuery("*[id]").each(function(){var a=jQuery(this).attr("id");oArr[a]||(oArr[a]=!0)});for(var a in oArr)try{var d="#"+a;0==jQuery(d).attr("id").indexOf("cv_")&&(cvjs_SVGFillColorArray[a]=jQuery(d).css("fill"))}catch(f){}}function cvjs_colorAllLayersInDrawing(a,d){cvjs_colorAllLayersInDrawing_InvertBackground(d,a)}
function cvjs_colorAllLayersInDrawing_InvertBackground(a,d){var f="";f=-1<a.indexOf("#")?a:"#"+a;jQuery("g[stroke]",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr])).each(function(a,d){d=jQuery(d);try{d.attr("stroke",f)}catch(p){}});jQuery("g[fill]",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr])).each(function(a,d){d=jQuery(d);try{"none"!=d.attr("fill")&&d.attr("fill",f)}catch(p){}});try{cvjs_setBackgroundColorHex(invertHex(a),d)}catch(h){}}
function invertHex(a){if(6!=a.length)return cvjs_debug&&console.log("error hexnum "+a),console.error("Hex color must be six hex numbers in length."),!1;a=a.toUpperCase();a=a.split("");var d="",f="FEDCBA9876".split(""),h=[];h.A="5";h.B="4";h.C="3";h.D="2";h.E="1";h.F="0";for(i=0;6>i;i++)if(isNaN(a[i]))if(h[a[i]])d+=h[a[i]];else return console.error("Hex colors must only include hex numbers 0-9, and A-F"),!1;else d+=f[a[i]];return d}
var cvjs_filepathServerInsertImages="",cvjs_insertImagesRelativePath="../drawings/inserted_image_objects/",cvjs_insertimagesAbsolutePathOnly=!1;function cvjs_setInsertImageObjectsRelativePath(a,d){cvjs_filepathServerInsertImages=d;cvjs_insertImagesRelativePath=a;cvjs_imageObjectServerName=d+"imageObjects.js";cvjs_imageObjectUrl=a+"imageObjects.js";cvjs_insertimagesAbsolutePathOnly=!1}
function cvjs_setInsertImageObjectsAbsolutePath(a,d){cvjs_filepathServerInsertImages=d;cvjs_insertImagesRelativePath=a;cvjs_imageObjectServerName=d+"imageObjects.js";cvjs_imageObjectUrl=a+"imageObjects.js";cvjs_insertimagesAbsolutePathOnly=!0}
function cvjs_setInsertImageObjectsAbsolutePath_FileName(a,d,f){cvjs_filepathServerInsertImages=d;cvjs_insertImagesRelativePath=a;f=f.replace(/ /g,"_");cvjs_imageObjectServerName=d+"/imageObjects_"+f+".js";cvjs_imageObjectUrl=a+"/imageObjects_"+f+".js";cvjs_insertimagesAbsolutePathOnly=!0}function cvjs_add_image(){document.getElementById("upfile_image").click()}
function add_file_object_image(a){var d=a.value,f=floorplan_div_Array[cvjs_active_floorplan_div_nr];try{var h=a.files[0].size;var n=a.files[0].name;var p=a.files[0].path;cvjs_debug&&console.log(h+"  "+n+"  "+p)}catch(t){console.log(t);return}d=d.split("\\");var q=d[d.length-1];h=0;if(-1<q.indexOf("+")||-1<q.indexOf("%"))h=1;if(1==h)jQuery("#attention_1").html("Attention: Illegal character!"),jQuery("#attention_2").html("Illegal character in file name! Please rename and try again."),jQuery("#attention_bitmap").show();
else if(d=d[d.length-1].split("."),-1==".dwf|.dxf|.dwg|.png|.gif|.jpg|.tif|.tiff|.svg|.svgz|.js|.pdf|.dgn|.pcf".indexOf(d[d.length-1].toLowerCase()))jQuery("#attention_1").html("Attention: Format not supported!"),jQuery("#attention_2").html("CADViewer supports the following: <br> AutoCAD Formats: DWG, DXF, DWF <br> MicroStation Formats: DGN, PCF <br>Bitmap Formats: JPG, GIF, PNG, TIFF <br>Scalable Vector Graphics: SVG and SVGZ. <br>Acrobat: PDF<br>CADViewer: .JS JavaScript files. "),jQuery("#attention_bitmap").show();
else{cvjs_fileLoadTrialMode&&(filesonserver=0);for(h=d=0;h<filesonserver;h++)0==fnArr_FileName[h].indexOf(q)&&(d=1);1==d?(jQuery("#attention_1").html("Attention:"),jQuery("#attention_2").html(q+" has already been uploaded! "),jQuery("#attention_bitmap").show()):(d="",d=externalServerPhpUpload?cvjs_phpUploadPath:cvjs_phpPath,jQuery("#1floor1").html(""),jQuery("#1floor1").axuploader({url:d+cvjs_serverUploadController,finish:function(a,d){vqImageNotes[currentImageNoteId].data("imageObject",q);cvjs_buildFolderTree_crossDomain?
jQuery("#cvjs_floorPlanInsertImage").html("<img src='"+cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+cvjs_insertImagesRelativePath+"/"+vqImageNotes[currentImageNoteId].data("imageObject")+"' height='"+vqImageNotes[currentImageNoteId].data("imageHeight")+"' />"):jQuery("#cvjs_floorPlanInsertImage").html("<img src='"+cvjs_insertImagesRelativePath+"/"+vqImageNotes[currentImageNoteId].data("imageObject")+"' height='"+vqImageNotes[currentImageNoteId].data("imageHeight")+"' />");jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+
f).css("width",vqImageNotes[currentImageNoteId].data("imageWidth")+8);jQuery("#cvjs_floorPlanInsertImage").css("width",vqImageNotes[currentImageNoteId].data("imageWidth"));jQuery("#cvjs_floorPlanInsertImageTop").css("width",vqImageNotes[currentImageNoteId].data("imageWidth"))},enable:!0,fileObject:a,remotePath:function(){return cvjs_filepathServerInsertImages}}))}}
var cvjs_insertImageObjects,imageObjects_loaded=!1,current_image_js_initialized=0,cvjs_imageObjectUrl="../drawings/demo/inserted_image_objects/imageObjects.js",cvjs_imageObjectServerName="../drawings/demo/inserted_image_objects/imageObjects.js",cvjs_imageObjectName;
function cvjs_loadAllImageLinks(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);imageObjects_loaded=!1;0==current_image_js_initialized?(current_image_js_initialized=1,cvjs_imageObjectName=cvjs_imageObjectUrl,loadJSbase(cvjs_imageObjectUrl)):(replacejscssfile(current_jsRedlinename,cvjs_imageObjectUrl,"js"),cvjs_imageObjectName=cvjs_imageObjectUrl);cvjs_loadImageObjectTimer()}
function cvjs_loadImageObjectTimer(){if(imageObjects_loaded){cvjs_currentImageLink_id=load_failures=0;if(0<vqImageNotes.length){for(var a=0;a<vqImageNotes.length;a++)vqImageNotes[a].data("deleted",!0),vqImageNotes[a].attr({transform:"S0.001",opacity:"0.01"});vqImageNotes.length=0}cvjs_currentImageLink_underbar=cvjs_currentImageLink_id=0;for(var d in cvjs_insertImageObjects)make_imageIcon(cvjs_currentImageLink_id,cvjs_insertImageObjects[d].transform,cvjs_insertImageObjects[d].imageObject,cvjs_insertImageObjects[d].currentPage,
cvjs_insertImageObjects[d].username,cvjs_insertImageObjects[d].userid),cvjs_currentImageLink_id++,cvjs_currentImageLink_underbar++}else 80>load_failures?setTimeout(function(){cvjs_loadImageObjectTimer()},256):cvjs_debug&&console.log("Object load failed! - please check if imageObject Url is set correct: ")}
function make_imageIcon(a,d,f,h,n,p){var q=floorplan_div_Array[cvjs_active_floorplan_div_nr],t=0;10>a+1&&(t=3);tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M0,0h20v20h-20v-20Z").attr({stroke:"#000000","stroke-width":"1.0"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M4,11h11v8h-11v-8h2").attr({stroke:"#000000","stroke-width":"0.5"}),cvjs_rPaper[cvjs_active_floorplan_div_nr].text(3+t,9,"#"+(a+1)).attr({"font-size":"8px","font-style":"italic",
stroke:"#000000","stroke-width":"0.3",fill:"#000000","fill-opacity":1}),cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M4,19 8,14 10,16 12.5,15 15,19").attr({stroke:"#000000","stroke-width":"0.5",fill:"#000000"}));tRubberBand_c.attr({transform:d,opacity:"1"});tRubberBand_c.attr({fill:"#DCCCFF","fill-opacity":"0.8",stroke:"#000","stroke-opacity":"1"});cvjs_currentStickyNote_transform=d;t=tRubberBand_c.data("node",cvjs_currentImageLink_underbar);vqImageNotes.push(t);currentImageNoteId=vqImageNotes.length-
1;vqImageNotes[a].data("id",a+1);vqImageNotes[a].data("name","object"+(a+1));vqImageNotes[a].data("layer","objectLayer");vqImageNotes[a].data("group","unassigned");vqImageNotes[a].data("username",n);vqImageNotes[a].data("userid",p);vqImageNotes[a].data("currentPage",h);vqImageNotes[a].data("imageObject",f);vqImageNotes[a].data("imageHeight",450);vqImageNotes[a].data("imageWidth",600);vqImageNotes[a].data("transform",d);jQuery("#cvjs_floorPlanInsertImage").html("");vqImageNotes[currentImageNoteId].mousedown(function(a){currentImageNoteId=
this.data("node");jQuery("#cvjs_imageObject").html("<b>"+languageTable.languages[cvjs_currentLanguage].ImageObjectModal.Header+(currentImageNoteId+1)+"</b>");""==vqImageNotes[currentImageNoteId].data("imageObject")?jQuery("#cvjs_floorPlanInsertImage").html(""):(cvjs_buildFolderTree_crossDomain?jQuery("#cvjs_floorPlanInsertImage").html("<img src='"+cvjs_serverHandlersPath+cvjs_serverLoadFileController+"?file="+cvjs_insertImagesRelativePath+"/"+vqImageNotes[currentImageNoteId].data("imageObject")+"' height='"+
vqImageNotes[currentImageNoteId].data("imageHeight")+"' />"):jQuery("#cvjs_floorPlanInsertImage").html("<img src='"+cvjs_insertImagesRelativePath+"/"+vqImageNotes[currentImageNoteId].data("imageObject")+"' height='"+vqImageNotes[currentImageNoteId].data("imageHeight")+"' />"),jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+q).css("width",vqImageNotes[currentImageNoteId].data("imageWidth")+8),jQuery("#cvjs_floorPlanInsertImage").css("width",vqImageNotes[currentImageNoteId].data("imageWidth")),jQuery("#cvjs_floorPlanInsertImageTop").css("width",
vqImageNotes[currentImageNoteId].data("imageWidth")));jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+q).show()}).mousemove(function(a){currentImageNoteId=this.data("node");vqImageNotes[currentImageNoteId].attr(highlightColor_ImageNotes)}).mouseout(function(a){currentImageNoteId=this.data("node");vqImageNotes[currentImageNoteId].attr(defaultColor_ImageNotes)}).mouseup(function(a){}).touchstart(function(a){}).touchmove(function(a){}).touchend(function(a){}).dblclick(function(a){})}
function cvjs_addInlineScript(a){jQuery(function(){jQuery("<script>").attr("type","text/javascript").text(a).appendTo("head")})}
function cvjs_saveAllImageLinks(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);if(!(1>vqImageNotes.length)){var d=0;a="var cvjs_insertImageObjects = {\n";for(spc in vqImageNotes)1!=vqImageNotes[spc].data("deleted")&&(0==d?d=1:a+="\t\t\t\t\t\t,\n",a=a+"\t\t\t\t\tOBJECT_"+(vqImageNotes[spc].data("node")+1)+": {\n",a=a+'\t\t\t\t\t\tname: "'+vqImageNotes[spc].data("name")+'",\n',a=a+'\t\t\t\t\t\tid: "'+vqImageNotes[spc].data("id")+'",\n',a=a+'\t\t\t\t\t\tlayer: "'+
vqImageNotes[spc].data("layer")+'",\n',a=a+'\t\t\t\t\t\tgroup: "'+vqImageNotes[spc].data("group")+'",\n',a=a+'\t\t\t\t\t\tusername: "'+vqImageNotes[spc].data("username")+'",\n',a=a+'\t\t\t\t\t\tuserid: "'+vqImageNotes[spc].data("userid")+'",\n',a=a+"\t\t\t\t\t\tcurrentPage: "+vqImageNotes[spc].data("currentPage")+",\n",a=a+'\t\t\t\t\t\timageObject: "'+vqImageNotes[spc].data("imageObject")+'",\n',a=a+'\t\t\t\t\t\timageHeight: "'+vqImageNotes[spc].data("imageHeight")+'",\n',a=a+'\t\t\t\t\t\timageWidth: "'+
vqImageNotes[spc].data("imageWidth")+'",\n',a=a+'\t\t\t\t\t\ttransform: "'+vqImageNotes[spc].data("transform")+'"\n',a+="\t\t\t\t\t}\n");d=cvjs_serverHandlersPath+cvjs_serverSaveFileControllerRedlines;var f={};f.file=cvjs_imageObjectServerName;f.file_content=a+"}\n\n\njQuery(document).ready(function() { \n\timageObjects_loaded = true; \n}); \nimageObjects_loaded = true; \n";jQuery.ajax({url:d,type:"post",data:f,success:function(a){var d="Save Image Notes: "+a;a&&0!==a.length||(d="Image Icons Saved");
cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],d);if(0<vqImageNotes.length){for(a=0;a<vqImageNotes.length;a++)vqImageNotes[a].data("deleted",!0),vqImageNotes[a].attr({transform:"S0.001",opacity:"0.01"});vqImageNotes.length=0}cvjs_currentImageLink_underbar=cvjs_currentImageLink_id=0}})}}
function cvjs_clearAllImageLinks(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);if(0<vqImageNotes.length){for(a=0;a<vqImageNotes.length;a++)vqImageNotes[a].data("deleted",!0),vqImageNotes[a].attr({transform:"S0.001",opacity:"0.01"});vqImageNotes.length=0}cvjs_currentImageLink_underbar=cvjs_currentImageLink_id=0}
function cvjs_loadDrawingsWithSpaceObjects(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_filename_list_status=1,filesonserver=0,cvjs_convertSpaceObject=!1,cvjs_fileLoadToServer?(fileload_offset_flag[cvjs_active_floorplan_div_nr]&&(fileload_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#cvjs_serverFileLoadModal").offset({left:150+
jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().left,top:50+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top})),jQuery("#SelectFloorPlan").hide(),jQuery("#SelectFloorPlanPanel").hide(),jQuery("#SelectFloorPlanEdit").hide(),jQuery("#SelectFloorPlanPanelEdit").hide(),jQuery("#serverFileModalName").html(languageTable.languages[cvjs_currentLanguage].FileLoadSpaceModal.Header),jQuery("#cvjs_cvRoomTextLayersOnLoad").html('<canvas id="dummy" width="36" height="12"></canvas>'+
languageTable.languages[cvjs_currentLanguage].FileLoadSpaceModal.BuildRoomTextHyperlinks+'<canvas id="dummy" width="10" height="10"></canvas><input type="checkbox" id="cvjs_convert_RL_TL_checkbox" value="conversion_status"><br><canvas id="dummy" width="16" height="8">'),jQuery("#cvjs_convert_RL_TL_checkbox").change(function(){cvjs_convertSpaceObject=jQuery(this).is(":checked")?!0:!1}),jQuery("#addFloorPlanTable").show(),jQuery("#add_br_not_addFloorPlanTable").hide(),jQuery("#addRedlineTable").hide(),
jQuery("#infoFileModalNameDrawing").html(languageTable.languages[cvjs_currentLanguage].FileLoadSpaceModal.DrawingFilename),jQuery("#editFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].FileLoadSpaceModal.EditFloorplanInfo),jQuery("#infoFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].FileLoadSpaceModal.DrawingFilename),cvjs_initializeFileSelector()):cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.FileLoadThroughApp))}
function cvjs_conversion_cleanFilesDirectory(){var a=JSON.stringify({action:"clear_files_folder"});tms_rest_api_url=tms_rest_api_url1+rest_php_version;cvjs_debug&&console.log(" index of"+tms_rest_api_url1.indexOf("tms-restful-api"));-1<tms_rest_api_url1.indexOf("tms-restful-api")&&(cvjs_passwordProtected=!0,cvjs_isLicensed&&(cvjs_usr="tms",cvjs_pwd="restful"),cvjs_debug&&console.log(cvjs_isLicensed+" "+cvjs_usr+" "+cvjs_pwd));if(cvjs_passwordProtected){var d=tms_rest_api_url.indexOf("//");var f=tms_rest_api_url.substring(0,
d+2);d=tms_rest_api_url.substring(d+2);f=f+cvjs_usr+":"+cvjs_pwd+"@"+d}else f=tms_rest_api_url;d="";d=cvjs_encodeURIcall_server?f+"?json="+encodeURIComponent(a):f+"?json="+a;cvjs_debug&&console.log(f+" in makeConversion  request="+encodeURIComponent(a)+"  non encoded request: "+a);cvjs_jsonp_handshake&&(cvjs_debug&&console.log("before ajax call to php "),jQuery.ajax({url:d,jsonp:"tms_restful_api",dataType:"jsonp",success:function(a){cvjs_debug&&console.log("jsonP Conversion success: "+a)},error:function(a,
d,f){-10<f.toString().indexOf("Files Deleted!")||console.log("1 jsonp getEngines error="+a.responseText+" status="+d+" error="+f)}}));cvjs_servlet_handshake&&(cvjs_debug&&console.log("2: before ajax call to Servlet"),d={},d.request=a,cvjs_debug&&console.log("before ajax call to Servlet filelist_data['request'] "+d.request),jQuery.ajax({url:f,type:"post",data:d,success:function(a){cvjs_debug&&console.log("json delete success: "+a)},error:function(a){-1<date_e.toString().indexOf("Files Deleted!")||
console.log("2 json getEngines error="+a)}}));cvjs_post_handshake&&(cvjs_debug&&console.log("before ajax post call"),d={},d.json_data=a,jQuery.ajax({url:f,type:"POST",data:d,success:function(a){cvjs_debug&&console.log("post delete: "+a)},error:function(a){-1<date_e.toString().indexOf("Files Deleted!")||console.log("3 jsonp getEngines error="+a)}}))}var cvjs_spaceObjectUserMode=!1;function cvjs_setSpaceObjectUserMode(a){cvjs_spaceObjectUserMode=a}var cvjs_newList,cvjs_addSpaceObjectType=0;
function cvjs_addRectangleSpaceObject(a){cvjs_addSpaceObjectType=2;jQuery("#cvjs_spaceobjectsettingsTextHeader").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.ModalRect);"unassigned"==jQuery("#cvjs_spaceobjectLayerFromModal").val()&&jQuery("#cvjs_spaceobjectLayerFromModal").val("cvjs_SpaceLayer");var d=cvjs_currentMaxNodeId();d++;jQuery("#cvjs_spaceobjectIdFromModal").val(d);cvjs_spaceObjectsInitSettingsModal(a)}
function cvjs_addRectangleSpaceObjectCore(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;cvjs_currentNode_layer=jQuery("#cvjs_spaceobjectLayerFromModal").val();a=jQuery("#cvjs_spaceobjectIdFromModal").val();currentNode_name=""!=a?currentNode_id=a:currentNode_id=Node_id;currentNode_layer=cvjs_currentNode_layer;currentNode_attributeStatus=currentNode_attributes=
currentNode_group="";currentNode_type="Space";currentNode_occupancy="";currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_occupancy,currentNode_linked);cvjs_addHandleFunc_Rectangle()}
function cvjs_addPolygonSpaceObject(a){cvjs_addSpaceObjectType=1;jQuery("#cvjs_spaceobjectsettingsTextHeader").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.ModalPoly);"unassigned"==jQuery("#cvjs_spaceobjectLayerFromModal").val()&&jQuery("#cvjs_spaceobjectLayerFromModal").val("cvjs_SpaceLayer");var d=cvjs_currentMaxNodeId();d++;jQuery("#cvjs_spaceobjectIdFromModal").val(d);cvjs_spaceObjectsInitSettingsModal(a)}
function cvjs_addPolygonSpaceObjectCore(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;cvjs_currentNode_layer=jQuery("#cvjs_spaceobjectLayerFromModal").val();a=jQuery("#cvjs_spaceobjectIdFromModal").val();currentNode_name=""!=a?currentNode_id=a:currentNode_id=Node_id;currentNode_layer=cvjs_currentNode_layer;currentNode_attributeStatus=currentNode_attributes=
currentNode_group="";currentNode_type="Space";currentNode_occupancy="";currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_occupancy,currentNode_linked);cvjs_addHandleFunc_Polygon()}
function cvjs_addCircleSpaceObject(a){cvjs_addSpaceObjectType=3;jQuery("#cvjs_spaceobjectsettingsTextHeader").html(languageTable.languages[cvjs_currentLanguage].InitSpaceObjects.ModalCircle);"unassigned"==jQuery("#cvjs_spaceobjectLayerFromModal").val()&&jQuery("#cvjs_spaceobjectLayerFromModal").val("cvjs_SpaceLayer");var d=cvjs_currentMaxNodeId();d++;jQuery("#cvjs_spaceobjectIdFromModal").val(d);cvjs_spaceObjectsInitSettingsModal(a)}
function cvjs_addCircleSpaceObjectCore(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;cvjs_currentNode_layer=jQuery("#cvjs_spaceobjectLayerFromModal").val();a=jQuery("#cvjs_spaceobjectIdFromModal").val();currentNode_name=""!=a?currentNode_id=a:currentNode_id=Node_id;currentNode_layer=cvjs_currentNode_layer;currentNode_attributeStatus=currentNode_attributes=
currentNode_group="";currentNode_type="Space";currentNode_occupancy="";currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_occupancy,currentNode_linked);cvjs_addHandleFunc_Circle()}
function cvjs_copyCircleSpaceObject(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_name=currentNode_id=Node_id;currentNode_layer=cvjs_currentNode_layer;currentNode_attributeStatus=currentNode_attributes=currentNode_group="";currentNode_type="Space";currentNode_occupancy="";currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,
currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_occupancy,currentNode_linked);cvjs_addHandleFunc_CopyCircle()}
function cvjs_deleteSpaceObject(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_supressPopUpModal?icon_command_active=3:cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.NotSpaceMode)}function cvjs_ObjectSelected(a){xcvjs_ObjectSelected(a)}
function xcvjs_ObjectSelected(a){if(cvjs_spaceObjectUserMode)jQuery("#drop_locations").html(vqRooms[cvjs_active_floorplan_div_nr][findRoom(a)].data("name")+'<span class="caret"></span>');else{cvjs_debug&&console.log("object clicked "+a+" command active: "+icon_command_active);cvjs_debug&&console.log(a+"  "+findRoom(a)+" "+vqRooms[cvjs_active_floorplan_div_nr][findRoom(a)]);if(10==icon_command_active){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==
a){var d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer");cvjs_LayerOff(d)}all_icons_up();icon_command_active=6}else if(3==icon_command_active)for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"),cvjs_setUpVqRooms_deleteNode(d),CADViewer_floorplan_methods(d));if(33==icon_command_active)for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==
a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");cvjs_setUpVqRooms_deleteNode(d);CADViewer_floorplan_methods(d);console.log("Delete Space Image - the node is: "+d);var f="#cv_"+d+"_image";try{jQuery(f).remove()}catch(t){console.log(t)}cvjs_creationMode=cvjs_supressPopUpModal=!1;cvjs_standardHighLightColors=!0;for(var h in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][h].data("node")!=d){var n='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+
vqRooms[cvjs_active_floorplan_div_nr][h].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][h].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+h+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+vqRooms[cvjs_active_floorplan_div_nr][h].data("type")+"</h4></td></tr></table>";dual_hbody_flag&&(-1<=parseInt(cvjs_currentNode_id)?jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},
position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody_2,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][h].node).qtip({content:{text:hbody,title:n},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",
at:"top left"},hideOnHTMLClick:"false"})}hideOnlyPop();cvjs_clearDrawing()}if(34==icon_command_active)for(spc in vqRooms[cvjs_active_floorplan_div_nr]){if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a){d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");CADViewer_floorplan_methods(d);cvjs_debug&&console.log("Resize Space Image - the node is: "+d);f="#cv_"+d+"_image";var p="#cv_"+d;h=jQuery(f).attr("height");n=jQuery(f).attr("width");var q=jQuery(f).attr("x");f=jQuery(f).attr("y");
p=jQuery(p).attr("d");console.log(q+"  "+f+"  "+n+" "+h+"  path: "+p);cvjs_creationMode=cvjs_supressPopUpModal=!1;cvjs_standardHighLightColors=!0;hideOnlyPop();cvjs_clearDrawing();defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#FFF","fill-opacity":"0.1",stroke:"#FFF","stroke-width":3};selectColor={fill:"#FFF","fill-opacity":"0.5",stroke:"#FFF","stroke-width":3};console.log("call cvjs_addHandleFunc_ResizeImageSpace");cvjs_addHandleFunc_ResizeImageSpace(d,
a,h,n,q,f,p);console.log("after call cvjs_addHandleFunc_ResizeImageSpace")}}else for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a&&(d=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"),CADViewer_floorplan_methods(d))}currentSelectedId=a}
function cvjs_changeSpaceObjectDisplayMode(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);if(cvjs_changeSpaceObject_ManualCreationMode){cvjs_debug&&console.log("cvjs_changeSpaceObjectDisplayMode here - generic handling");cluster_host_flag=1;var d=0;for(i=0;100>i;i++)fArr_Name[d]="",fArr_Id[d]="",fArr_PolygonNr[d]=-1,fArr_PolygonLayerName[d]="none",fArr_Type[d]=-1,fArr_Occupancy[d]=-1,fArr_Tags[d]=-1,d++;cvjs_supressPopUpModal=!0;cvjs_creationInputType=
2;1==cvjs_supressPopUpModal&&(cvjs_setCreationMode(cvjs_supressPopUpModal,!0),hideOnlyPop(),cvjs_clearDrawing(),cvjs_draw_space_object_names_on_spaces(),cvjs_spaceObjectsChangeSettingsModal(a))}else 0==cluster_host_flag?cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ConnectToHostFirst):(hideOnlyPop(),cvjs_clearDrawing(),(cvjs_supressPopUpModal=!cvjs_supressPopUpModal)?cvjs_showCreationModeModal(a):jQuery("#IconMenuPanel").hide())}
function setLocationMode(){}
function cvjs_change_space(a){cvjs_spaceObjectUserMode&&(cvjs_debug&&console.log("change space "+a),hidePop(),setLocationMode(),0==a?jQuery("#drop_locations").html('All Spaces<span class="caret"></span>'):(space=cvjs_highlightRoomImmediate(a,!0),0<=space&&(spaceId=a,lastObj[cvjs_active_floorplan_div_nr]=space,window.alert("cv changespace"),jQuery(vqRooms[cvjs_active_floorplan_div_nr][space].node).qtip("show"),vqRooms[cvjs_active_floorplan_div_nr][space].data("id"),jQuery("#drop_locations").html(vqRooms[cvjs_active_floorplan_div_nr][space].data("name")+'<span class="caret"></span>'))))}
function sortByColumn(a,d){a.sort(function(a,h){return a[d]===h[d]?0:a[d]<h[d]?-1:1});return a}function cvjs_displaySpaceObjectsStructure(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_displaySpaceObjectsStructureInternal(a,"","","","")}
function cvjs_displaySpaceObjectsStructureInternal(a,d,f,h,n){-1<a.indexOf("_svg")&&(a=a.substring(0,a.indexOf("_svg")));console.log("cvjs_displaySpaceObjectsStructure:  "+a);cvjs_setCreationMode(!1,!0);hideOnlyPop();cvjs_clearDrawing();cvjs_debug&&console.log("1 display Space Object Structure");"undefined"!==typeof id_supress_call_cluster_host&&1==id_supress_call_cluster_host||call_cluster_host();cvjs_setSpaceObjectUserMode(!0);cvjs_debug&&console.log("2 display Space Object Structure");jQuery("<link/>",
{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/topbar.css"}).appendTo("head");jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/navbar.css"}).appendTo("head");jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/headerbar.css"}).appendTo("head");jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/legend.css"}).appendTo("head");
jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/tempbar.css"}).appendTo("head");jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/wizards.css"}).appendTo("head");jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/font-awesome.css"}).appendTo("head");jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/modal_01.css"}).appendTo("head");
jQuery("<link/>",{rel:"stylesheet",type:"text/css",href:cvjs_applicationFolder+"/user_resources/css/combined-floorplan.css"}).appendTo("head");cvjs_displayTopMenuIconBar(!1,a);jQuery("#topIconMenu_placeholder_1_"+a+"_svg").hide();jQuery("#floatNavigationMenu_"+a+"_svg").hide();cvjs_hideNavigationMenu(a);jQuery("#cvjs_spaceObjectUserDisplay").load(cvjs_ServerUrl+"/app/cv/cv-pro/space/html/nav_user_SpaceObjects_A_3_3_01.html",function(){jQuery("#searchModal").hide();jQuery("#searchModal").draggable();
jQuery("#searchModal").css({position:"absolute"});jQuery("#searchModal").css({left:300,top:100});jQuery("#searchModalCloseButton").on("click",function(){jQuery("#searchModal").hide()});jQuery("#site_name").html(cvjs_FileNameNoExtension);var a="<img src='"+cvjs_imagesLocation+"menu_cv_search_right.png'>";jQuery("#iconSearch").html(a);a="<img src='"+cvjs_imagesLocation+"logo_cv_d.png'>";jQuery("#user_logoCV").html(a);a="<img src='"+cvjs_imagesLocation+"menu_cv_right.png'>";jQuery("#dropdownMenu1").append(a);
void 0==d||""==d?jQuery("#site_name").html(cvjs_FileNameNoExtension):jQuery("#site_name").html(d);if(void 0==f||""==f)if(1<=multiPages[cvjs_active_floorplan_div_nr].currentPage&&jQuery("#drop_floor").html(multiPages[cvjs_active_floorplan_div_nr].pages[multiPages[cvjs_active_floorplan_div_nr].currentPage-1].pageName+'<span class="caret"></span>'),a="",1==id_main_data_dropfloor_single_drawing)for(var q=0;1>q;q++)a=a+"<li><a href=\"javascript:change_drawing('"+q+"')\">"+multiPages[cvjs_active_floorplan_div_nr].pages[q].pageName+
"</a></li>";else for(q=0;q<multiPages[cvjs_active_floorplan_div_nr].multiPages;q++)a=a+"<li><a href=\"javascript:change_drawing('"+q+"')\">"+multiPages[cvjs_active_floorplan_div_nr].pages[q].pageName+"</a></li>";else for(jQuery("#drop_floor").html(f+'<span class="caret"></span>'),a="",q=0;q<h.length;q++)a=a+"<li><a href=\"javascript:change_drawing('"+q+"')\">"+h[q]+"</a></li>";jQuery("#floors_list").html(a);""==id_main_data_layer?(jQuery("#locations_sensors_list").html("<li><a href=\"javascript:change_objects_generic('0')\">"+
languageTable.languages[cvjs_currentLanguage].HeaderObjectLayers.ObjectLayer[0]+"</a></li><li><a href=\"javascript:change_objects_generic('1')\">"+languageTable.languages[cvjs_currentLanguage].HeaderObjectLayers.ObjectLayer[1]+"</a></li>"),jQuery("#drop_locations_sensors").html(languageTable.languages[cvjs_currentLanguage].HeaderObjectLayers.ObjectLayer[0]+' <span class="caret"></span>')):(jQuery("#locations_sensors_list").html("<li><a href=\"javascript:change_objects_generic('0')\">"+id_main_data_layer+
"</a></li>"),jQuery("#drop_locations_sensors").html(id_main_data_layer+' <span class="caret"></span>'));jQuery("#drop_locations").html('All Spaces<span class="caret"></span>');jQuery("#drop_floor").mouseenter(function(a){cvjs_displayInformationModal("floorPlan_svg","Changes layout of the drawing, in case multiple layouts for the current drawing is available.",110,jQuery("#drop_floor").offset().left+100,jQuery("#drop_floor").offset().top+20)});jQuery("#drop_floor").mouseleave(function(a){cvjs_hideInformationModal("floorPlan")});
jQuery("#drop_locations_sensors").mouseenter(function(a){cvjs_displayInformationModal("floorPlan_svg","Selects the data-layer(s) with interactive content if multiple layers are available, as default this is cvjs_Data_Layer.",110,jQuery("#drop_locations_sensors").offset().left+100,jQuery("#drop_locations_sensors").offset().top+20)});jQuery("#drop_locations_sensors").mouseleave(function(a){cvjs_hideInformationModal("floorPlan")});jQuery("#drop_locations").mouseenter(function(a){cvjs_displayInformationModal("floorPlan_svg",
"Drop-down access to all interactive content in the current drawing displayed. Select the object by it's ID.",110,jQuery("#drop_locations").offset().left+100,jQuery("#drop_locations").offset().top+20)});jQuery("#drop_locations").mouseleave(function(a){cvjs_hideInformationModal("floorPlan")});jQuery("#dropdown_custom_1").hide();jQuery("#dropdown_custom_2").hide();jQuery("#dropdown_custom_3").hide();jQuery("#dropdown_custom_4").hide();jQuery("#dropdown_custom_5").hide();jQuery("#dropdown_custom_6").hide();
try{""!=id_custom_1_dropdown_name&&(jQuery("#dropmenu_custom_1").html(id_custom_1_dropdown_name+' <span class="caret"></span>'),cvjs_buildCustom_1_dropdownMenu(),jQuery("#dropdown_custom_1").show())}catch(t){console.log("1"+t)}try{""!=id_custom_2_dropdown_name&&(jQuery("#dropmenu_custom_2").html(id_custom_2_dropdown_name+' <span class="caret"></span>'),cvjs_buildCustom_2_dropdownMenu(),jQuery("#dropdown_custom_2").show())}catch(t){console.log("2"+t)}""!=id_custom_3_dropdown_name&&(jQuery("#dropmenu_custom_3").html(id_custom_3_dropdown_name+
' <span class="caret"></span>'),cvjs_buildCustom_3_dropdownMenu(),jQuery("#dropdown_custom_3").show());""!=id_custom_4_dropdown_name&&(jQuery("#dropmenu_custom_4").html(id_custom_4_dropdown_name+' <span class="caret"></span>'),cvjs_buildCustom_4_dropdownMenu(),jQuery("#dropdown_custom_4").show());""!=id_custom_5_dropdown_name&&(jQuery("#dropmenu_custom_5").html(id_custom_5_dropdown_name+' <span class="caret"></span>'),cvjs_buildCustom_5_dropdownMenu(),jQuery("#dropdown_custom_5").show());""!=id_custom_6_dropdown_name&&
(jQuery("#dropmenu_custom_6").html(id_custom_6_dropdown_name+' <span class="caret"></span>'),cvjs_buildCustom_6_dropdownMenu(),jQuery("#dropdown_custom_6").show());"undefined"!==typeof id_supress_standard_dropdown_menus&&0!=id_supress_standard_dropdown_menus&&(jQuery("#drop_locations").html(""),jQuery("#drop_floor").html(""),jQuery("#drop_locations_sensors").html(""));jQuery("#selections_list").html('<li><a href="javascript:display_maps()">Data Maps</a></li><li role="presentation" class="divider"></li><li><a href="javascript:display_info()">Site Info</a></li>');
cvjs_newList="<li><a href=\"javascript:cvjs_change_space('0')\">All Spaces</a></li>";a=[];q=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])a[q]=[],a[q][0]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"),a[q][1]=vqRooms[cvjs_active_floorplan_div_nr][spc].data("name"),q++;a=sortByColumn(a,0);for(spc in a)cvjs_newList=""==n||void 0==n?cvjs_newList+"<li><a href=\"javascript:cvjs_change_space('"+a[spc][0]+"')\">"+a[spc][1]+"</a></li>":cvjs_newList+'<li><a href="javascript:'+n+"('"+a[spc][0]+
"')\">"+a[spc][1]+"</a></li>";jQuery("#locations").html(cvjs_newList);jQuery(".siteInfo").click(function(){cvjs_debug&&console.log("Site Info")});jQuery(".mapData").click(function(){jQuery("#mapDataModal").modal("show")});jQuery("#iconSearch").click(function(){jQuery("#SearchQuantity").html("");jQuery("#SearchResultsList").html("");jQuery("#searchfield_tag").val("");cvjs_hidePop();jQuery("#drop_locations").html('All Spaces<span class="caret"></span>');jQuery("#searchfield_tag").val("");buildSearchList(n);
jQuery("#searchModal").show()});jQuery("#iconSearch").mouseover(function(){jQuery("#iconSearch").css("cursor","pointer")});jQuery("#searchfield_tag").on("change keyup paste",function(){buildSearchList(n)});jQuery("#searchfield_tag").submit(function(){});jQuery("#searchModal").submit(function(){buildSearchList(n)});jQuery("#search_button").click(function(){buildSearchList(n)});jQuery("#searchfield_tag").click(function(){buildSearchList(n)})});cvjs_displayMapsStatus=!0;jQuery("#datamaps_form").show();
jQuery("#cvjs_displayData_switch").prop("checked")?jQuery("#datamaps_form").css("left",40).css("top",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height()-197):jQuery("#datamaps_form").css("left",40).css("top",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height()-120);custom_host_parser_PopUpMenu()}
var seachInObjArrFlag=0,seachInObjArrCounter=0;
function buildSearchList(a){var d=jQuery("#searchfield_tag").val();seachInObjArrCounter=seachInObjArrFlag=0;d=searchInObjArray(vqRooms,d.toLowerCase());if(1==seachInObjArrFlag||0==seachInObjArrCounter)jQuery("#SearchQuantity").html("0 item(s)"),jQuery("#SearchResultsList").html("");else for(jQuery("#SearchQuantity").html(d.length+" item(s)"),jQuery("#SearchResultsList").html(""),i=0;i<d.length;i++){var f=""==a||void 0==a?'<div class="searchItem row"><div class="searchSubItem col-md-12" onmouseup="search_pick_space(\''+vqRooms[cvjs_active_floorplan_div_nr][d[i]].data("id")+
"')\"onmouseover=\"search_highlight_space('"+vqRooms[cvjs_active_floorplan_div_nr][d[i]].data("id")+'\');" onmouseout="search_highlight_mouseout();">':'<div class="searchItem row"><div class="searchSubItem col-md-12" onmouseup="'+a+"('"+vqRooms[cvjs_active_floorplan_div_nr][d[i]].data("id")+"')\"onmouseover=\"search_highlight_space('"+vqRooms[cvjs_active_floorplan_div_nr][d[i]].data("id")+'\');" onmouseout="search_highlight_mouseout();">';var h=vqRooms[cvjs_active_floorplan_div_nr][d[i]].data("type");
0<h.indexOf("<br>")&&(h=h.replace(/<br>/g,"   -   "));f=f+'<div class="searchItem-name">'+vqRooms[cvjs_active_floorplan_div_nr][d[i]].data("name")+'</div><div class="searchItem-type"><small>'+h+"</small></div>";jQuery("#SearchResultsList").append(f)}return!1}function getUnique(a){var d=[a[0]],f,h;for(f=1;f<a.length;f++){var n=1;for(h=0;h<d.length;h++)if(a[f]==d[h]){n=0;break}n&&d.push(a[f])}return d}
function searchInObjArray(a,d){a=[];try{for(var f in vqRooms[cvjs_active_floorplan_div_nr])-1!=vqRooms[cvjs_active_floorplan_div_nr][f].data("name").toLowerCase().indexOf(d)?(seachInObjArrCounter=1,a.push(f)):-1!=vqRooms[cvjs_active_floorplan_div_nr][f].data("type").toLowerCase().indexOf(d)&&(seachInObjArrCounter=1,a.push(f));d=d.replace(/ /gi,"&nbsp;");d=d.replace(/\u00A0/gi,"&nbsp;");for(f in vqRooms[cvjs_active_floorplan_div_nr])for(var h=1,n="tag1",p=vqRooms[cvjs_active_floorplan_div_nr][f].data(n);void 0!=
p;)-1!=p.toLowerCase().indexOf(d)&&(seachInObjArrCounter=1,a.push(f)),n="tag"+ ++h,p=vqRooms[cvjs_active_floorplan_div_nr][f].data(n)}catch(q){seachInObjArrFlag=1,console.log("Err C "+q)}return getUnique(a)}var mouseout_flag=!0;function search_highlight_mouseout(){mouseout_flag?cvjs_clearAllDrawing():mouseout_flag=!0}function search_highlight_space(a){cvjs_highlightRoomImmediate(a,!0)}function search_pick_space(a){cvjs_pick_space(a);mouseout_flag=!1;jQuery("#searchModal").hide()}
var settings_changes=0;
function cvjs_spaceObjectSettings(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);settings_changes=0;jQuery("#cvjs_spaceObjectAdminSettings_"+a).show();jQuery("#cvjs_spaceObjectAdminSettings_"+a).load(cvjs_ServerUrl+"/app/cv/cv-pro/space/html/nav_admin_SpaceObjects_B_1_05.html",function(){jQuery("#SettingsPanel").draggable();jQuery("#cancel_settings_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Inactive_4.png");jQuery("#save_settings_image").attr("src",""+
cvjs_imagesLocation+"tools/SaveChanges_111x28_Inactive.png");jQuery("#CloseSettingsX").append('<img src="'+cvjs_imagesLocation+'CrossX.png">');0==settings_changes&&(jQuery("#id_api_proxy_url").val(api_proxy_url),jQuery("#id_usr").val(usr),jQuery("#id_pwd").val(pwd),jQuery("#id_building_name").val(building_name),jQuery("#id_company").val(company),jQuery("#id_address").val(address),jQuery("#id_city").val(city),jQuery("#id_zipcode").val(zipcode),jQuery("#id_state").val(state),jQuery("#id_country").val(country),
jQuery("#id_FacMgr").val(FacMgr_name),jQuery("#id_FacMgr_title").val(FacMgr_title),jQuery("#id_FacMgr_email").val(FacMgr_email),jQuery("#id_FacMgr_phone").val(FacMgr_phone),jQuery("#id_refresh_rate").val(refresh_rate),jQuery("#id_data_connector").val(id_data_connector),jQuery("#id_data_parser").val(id_data_parser),jQuery("#id_publish_location").val(id_publish_location),jQuery("#id_main_data_layer").val(id_main_data_layer),jQuery("#id_datafield1_name").val(id_datafield1_name),jQuery("#id_datafield1_value").val(id_datafield1_value),
jQuery("#id_datafield2_name").val(id_datafield2_name),jQuery("#id_datafield2_value").val(id_datafield2_value),jQuery("#id_datalayer1_name").val(id_datalayer1_name),jQuery("#id_datalayer1_value").val(id_datalayer1_value),jQuery("#id_datalayer2_name").val(id_datalayer2_name),jQuery("#id_datalayer2_value").val(id_datalayer2_value),jQuery("#cv_link10_id_datalayer_name").val(id_datalayer2_name));jQuery("#cancel_settings").mouseover(function(){jQuery("#cancel_settings_image").attr("src",""+cvjs_imagesLocation+
"tools/Cancel_Over_2.png")});jQuery("#cancel_settings").mouseout(function(){jQuery("#cancel_settings_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Inactive_4.png")});jQuery("#cancel_settings").mousedown(function(){jQuery("#cancel_settings_image").attr("src",""+cvjs_imagesLocation+"tools/Cancel_Down_3.png");jQuery("#id_api_proxy_url").val(api_proxy_url);jQuery("#id_usr").val(usr);jQuery("#id_pwd").val(pwd);jQuery("#id_building_name").val(building_name);jQuery("#id_company").val(company);
jQuery("#id_address").val(address);jQuery("#id_city").val(city);jQuery("#id_zipcode").val(zipcode);jQuery("#id_state").val(state);jQuery("#id_country").val(country);jQuery("#id_FacMgr").val(FacMgr_name);jQuery("#id_FacMgr_title").val(FacMgr_title);jQuery("#id_FacMgr_email").val(FacMgr_email);jQuery("#id_FacMgr_phone").val(FacMgr_phone);jQuery("#id_refresh_rate").val(refresh_rate);jQuery("#id_data_connector").val(id_data_connector);jQuery("#id_data_parser").val(id_data_parser);jQuery("#id_publish_location").val(id_publish_location);
jQuery("#id_main_data_layer").val(id_main_data_layer);jQuery("#id_datafield1_name").val(id_datafield1_name);jQuery("#id_datafield1_value").val(id_datafield1_value);jQuery("#id_datafield2_name").val(id_datafield2_name);jQuery("#id_datafield2_value").val(id_datafield2_value);jQuery("#id_datalayer1_name").val(id_datalayer1_name);jQuery("#id_datalayer1_value").val(id_datalayer1_value);jQuery("#id_datalayer2_name").val(id_datalayer2_name);jQuery("#id_datalayer2_value").val(id_datalayer2_value);jQuery("#Settings").hide();
jQuery("#SettingsPanel").hide();jQuery("#settings_image").attr("src",""+cvjs_imagesLocation+"Settings_Up_1.png");jQuery("#settings div").css("color","#DDDDDD")});jQuery("#id_api_proxy_url").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_usr").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_pwd").click(function(){settings_changes=
1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_data_connector").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_data_parser").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_publish_location").click(function(){settings_changes=1;
jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_main_data_layer").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datafield1_name").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datafield1_value").click(function(){settings_changes=
1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datafield2_name").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datafield2_value").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datalayer1_name").click(function(){settings_changes=
1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datalayer1_value").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datalayer2_name").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_datalayer2_value").click(function(){settings_changes=
1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_building_name").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_company").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_address").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",
""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_city").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_state").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_zipcode").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});
jQuery("#id_country").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_FacMgr").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_FacMgr_title").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_FacMgr_email").click(function(){settings_changes=
1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#id_FacMgr_phone").click(function(){settings_changes=1;jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#save_settings").mouseover(function(){1==settings_changes&&jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Over.png")});jQuery("#save_settings").mouseout(function(){0==settings_changes&&
jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Inactive.png");1==settings_changes&&jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Up.png")});jQuery("#save_settings").mousedown(function(){if(1==settings_changes){refresh_rate=jQuery("#id_refresh_rate").val();var a=parseInt(refresh_rate,10);0>a?(console.log("Refresh Rate value must be between 1 and 3600."),refresh_rate=-a):3601>a&&0<a?refresh_rate=a:(console.log("Refresh Rate value must be between 1 and 3600."),
refresh_rate=30);jQuery("#id_refresh_rate").val(refresh_rate);jQuery("#save_settings_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_111x28_Down.png");settings_changes=0;api_proxy_url=jQuery("#id_api_proxy_url").val();usr=jQuery("#id_usr").val();pwd=jQuery("#id_pwd").val();building_name=jQuery("#id_building_name").val();company=jQuery("#id_company").val();address=jQuery("#id_address").val();city=jQuery("#id_city").val();zipcode=jQuery("#id_zipcode").val();state=jQuery("#id_state").val();
country=jQuery("#id_country").val();FacMgr_name=jQuery("#id_FacMgr").val();FacMgr_title=jQuery("#id_FacMgr_title").val();FacMgr_email=jQuery("#id_FacMgr_email").val();FacMgr_phone=jQuery("#id_FacMgr_phone").val();refresh_rate=jQuery("#id_refresh_rate").val();id_data_connector=jQuery("#id_data_connector").val();id_data_parser=jQuery("#id_data_parser").val();id_publish_location=jQuery("#id_publish_location").val();id_main_data_layer=jQuery("#id_main_data_layer").val();id_datafield1_name=jQuery("#id_datafield1_name").val();
id_datafield1_value=jQuery("#id_datafield1_value").val();id_datafield2_name=jQuery("#id_datafield2_name").val();id_datafield2_value=jQuery("#id_datafield2_value").val();id_datalayer1_name=jQuery("#id_datalayer1_name").val();id_datalayer1_value=jQuery("#id_datalayer1_value").val();id_datalayer2_name=jQuery("#id_datalayer2_name").val();id_datalayer2_value=jQuery("#id_datalayer2_value").val();a='var usr = "'+usr+'";\n';a=a+'var pwd = "'+pwd+'";\n';a=a+'var api_proxy_url = "'+api_proxy_url+'";\n';a=a+
'var building_name = "'+building_name+'";\n';a=a+'var company = "'+company+'";\n';a=a+'var address = "'+address+'";\n';a=a+'var city = "'+city+'";\n';a=a+'var zipcode = "'+zipcode+'";\n';a=a+'var state = "'+state+'";\n';a=a+'var country = "'+country+'";\n';a=a+'var FacMgr_name = "'+FacMgr_name+'";\n';a=a+'var FacMgr_title = "'+FacMgr_title+'";\n';a=a+'var FacMgr_email = "'+FacMgr_email+'";\n';a=a+'var FacMgr_phone = "'+FacMgr_phone+'";\n';a=a+'var refresh_rate = "'+refresh_rate+'";\n';a=a+'var id_data_connector = "'+
id_data_connector+'";\n';a=a+'var id_data_parser = "'+id_data_parser+'";\n';a=a+'var id_publish_location = "'+id_publish_location+'";\n';a=a+'var id_main_data_layer = "'+id_main_data_layer+'";\n';a=a+'var id_datafield1_name = "'+id_datafield1_name+'";\n';a=a+'var id_datafield1_value = "'+id_datafield1_value+'";\n';a=a+'var id_datafield2_name = "'+id_datafield2_name+'";\n';a=a+'var id_datafield2_value = "'+id_datafield2_value+'";\n';a=a+'var id_datalayer1_name = "'+id_datalayer1_name+'";\n';a=a+'var id_datalayer1_value = "'+
id_datalayer1_value+'";\n';a=a+'var id_datalayer2_name = "'+id_datalayer2_name+'";\n';a=a+'var id_datalayer2_value = "'+id_datalayer2_value+'";\n';var f=cvjs_serverHandlersPath+cvjs_serverSaveFileController,h={file:"../app/js/space/custom_settings.js"};h.file_content=a;cvjs_debug&&console.log(a+" "+h.file+"  "+f);jQuery.ajax({url:f,type:"post",data:h,success:function(a){}})}"undefined"!==typeof id_supress_call_cluster_host&&1==id_supress_call_cluster_host||call_cluster_host();jQuery("#Settings").hide();
jQuery("#SettingsPanel").hide();jQuery("#settings_image").attr("src",""+cvjs_imagesLocation+"Settings_Up_1.png");jQuery("#settings div").css("color","#DDDDDD")});jQuery("#CloseSettingsX").click(function(){jQuery("#Settings").hide();jQuery("#SettingsPanel").hide()})})}var cluster_host_flag=0;
function call_cluster_host(){cvjs_debug&&console.log("CALL CLUSTER HOST");var a=cvjs_ServerUrl+id_data_connector,d={};d.url=api_proxy_url;d.usr=usr;d.pwd=pwd;d.id_datafield1_name=id_datafield1_value;d.id_datafield1_value=id_datafield1_value;d.id_datafield2_name=id_datafield2_value;d.id_datafield2_value=id_datafield2_value;d.id_datalayer1_name=id_datalayer1_name;d.id_datalayer1_value=id_datalayer1_value;d.id_datalayer2_name=id_datalayer2_name;d.id_datalayer2_value=id_datalayer2_value;cluster_host_flag=
1;cvjs_debug&&console.log("CALL CLUSTER HOST finalUrl="+a);jQuery.ajax({url:a,type:"post",data:d,success:function(a){cvjs_debug&&console.log("host_response="+a+"XXX");""==a||-1<a.indexOf("Error 500:")?(cluster_host_flag=0,cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ErrorConnectingToHost)):(cluster_host_flag=1,cvjs_debug&&console.log("id_data_parser="+id_data_parser),jQuery.getScript(id_data_parser).done(function(a,
d){console.log("status="+d)}).fail(function(a,d,f){console.log("Triggered ajaxError handler. "+a+" "+d+"  "+f)}),cvjs_debug&&console.log("after getScript1"),jQuery.getScript(id_data_parser,function(d,f,p){cvjs_customHostParser(a)}))},failure:function(a){cluster_host_flag=0;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.ErrorConnectingToHost)}})}var Node_underbar="NODE_";icon_command_active=0;
var selectedLinkUnlinkLayer="",space_object_input_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];save_drawing_flag=0;var space_object_edit_mode=!1;edit_cancel_flag=!1;
function cvjs_spaceObjectInputPanel(a){jQuery("#cvjs_spaceObjectInputPanel_"+a).show();jQuery("#cvjs_spaceObjectInputPanel_"+a).load(cvjs_ServerUrl+"/app/cv/cv-pro/space/html/nav_admin_SpaceObjects_C_1_06.html",function(){jQuery("#IconMenuPanel").draggable();jQuery("#CloseObjectMenuX").append('<img src="'+cvjs_imagesLocation+'CrossX.png">');jQuery("#save_drawing_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_240x22_Inactive.png");jQuery("#cv_link10_id_datalayer_name").html(id_datalayer2_name);
jQuery("#layer_tag").val(id_main_data_layer);jQuery("#type_tag").val(id_main_data_template_type);jQuery("#spaces_drawing").html(new_linkList);jQuery("#spaces_manual_tag").click(function(){jQuery("#done_editing_location").css("color","#0096d7")});jQuery("#c").click(function(){jQuery("#done_editing_location").css("color","#0096d7")});jQuery("#spaces_drawing").click(function(){jQuery("#done_editing_location").css("color","#0096d7")});jQuery("#type_tag").click(function(){jQuery("#done_editing_location").css("color",
"#0096d7")});jQuery("#layer_tag").click(function(){jQuery("#done_editing_location").css("color","#0096d7")});jQuery("#occupancy_tag").click(function(){jQuery("#done_editing_location").css("color","#0096d7")});jQuery("#other_tags").click(function(){jQuery("#done_editing_location").css("color","#0096d7")});space_object_input_offset_flag[cvjs_active_floorplan_div_nr]&&(space_object_input_offset_flag[cvjs_active_floorplan_div_nr]=!0,jQuery("#IconMenuPanel").css({position:"fixed"}),jQuery("#IconMenuPanel").offset({left:600+
jQuery("#"+a).position().left,top:150+jQuery("#"+a).position().top}));jQuery("#IconMenuPanel").show();jQuery("#IconMenuPanel").height(140);jQuery("#location_text_static").hide();jQuery("#location_text_dynamic").hide();jQuery("#CloseObjectMenuX").css("cursor","pointer");jQuery("#CloseObjectMenuX").click(function(){jQuery("#IconMenuPanel").hide();cvjs_setCreationMode(!cvjs_supressPopUpModal,!0);hideOnlyPop();cvjs_clearDrawing()});save_drawing_flag=1;jQuery("#save_drawing").mouseover(function(){1==save_drawing_flag&&
jQuery("#save_drawing_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_240x22_Over.png")});jQuery("#save_drawing").mouseout(function(){1==save_drawing_flag&&jQuery("#save_drawing_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_240x22_Up.png")});jQuery("#save_drawing").mousedown(function(){if(1==save_drawing_flag){jQuery("#IconMenuPanel").css("filter","alpha(opacity=20)");jQuery("#IconMenuPanel").css("opacity","0.20");jQuery("#savepane_small").fadeIn(500);jQuery("#savepane_small").show();
cvjs_wait_looper_on=1;var a=jQuery(window).width()/2,f=(jQuery(window).height()-14)/2;f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();var h=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?(a=f.left+a/2-86,f=f.top+h/2-14):(a=a/2-86,f=h/2-14);jQuery("#savepane_small").css({left:a,top:f,position:"absolute"});
jQuery("#save_drawing_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_240x22_Down.png");save_drawing_flag=0;reset_color_on_selected_space();a=id_publish_location.substring(id_publish_location.lastIndexOf("/")+1);var n=a.substring(0,a.lastIndexOf(".")),p=id_publish_location;a="";f=!1;""==cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]&&(console.log("Source file not DWG!"),f=!0);a=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr];f&&(a=currentLoadedDrawingFullName);
-1<a.indexOf("/")&&(a=a.substring(a.lastIndexOf("/")+1));a=a.substring(0,a.lastIndexOf("."));p=cvjs_filepathServerSpaceObjects+"space_"+a+".js";var q="",t="";t="";t=cvjs_changeSpaceObject_ManualCreationMode?cvjs_createSpaceOutput_JSfile():cvjs_createSpaceOutput_JSfile_Legacy();var u=cvjs_serverHandlersPath+cvjs_serverSaveFileController;u=cvjs_serverHandlersPath+cvjs_serverSaveFileControllerRedlines;-1<p.indexOf("\\")||(p=encodeURIComponent(p));a={};a.file=p;a.file_content=t;cvjs_debug&&console.log(u+
" tempstr="+p+" dataUrl="+t);jQuery.ajax({url:u,type:"post",data:a,success:function(a){cvjs_debug&&console.log("succes html "+a);jQuery("#save_drawing_image").attr("src",""+cvjs_imagesLocation+"tools/SaveChanges_240x22_Inactive.png");save_drawing_flag=0;jQuery("#IconMenuPanel").css("filter","alpha(opacity=100)");jQuery("#IconMenuPanel").css("opacity","1");jQuery("#savepane_small").fadeOut(500);jQuery("#savepane_small").hide();q="<cvjsAddXdataToHandle>\n<totalUpdateHandles>0</totalUpdateHandles>\n"+
q+"</cvjsAddXdataToHandle>";console.log(q+"  "+n+" "+id_publish_location);a=id_publish_location.substring(0,id_publish_location.lastIndexOf("."))+".xml";var d={};d.file=encodeURIComponent(a);d.file_content=q;cvjs_debug&&console.log(u+" tempstr="+p+" dataUrl="+t);jQuery.ajax({url:u,type:"post",data:d,success:function(a){}})}})}});jQuery("#done_editing_location").mousedown(function(){var a=currentLinkId,f="";if(1==cvjs_creationInputType){cvjs_debug&&console.log("done_editing_location linkID="+currentLinkId+
" link unlink layer "+selectedLinkUnlinkLayer);for(var h=0;h<fArr_Name.length;h++)if(fArr_Id[h]==currentLinkId){fArr_PolygonNr[h]=a;fArr_PolygonLayerName[h]=selectedLinkUnlinkLayer;f=fArr_Name[h];cvjs_debug&&console.log("index in array:"+h+" fArr_PolygonNr[i] "+fArr_PolygonNr[h]+" fArr_PolygonLayerName[i] "+fArr_PolygonLayerName[h]+" "+f);fArr_Type[h]=jQuery("#type_tag").val();fArr_Occupancy[h]=jQuery("#occupancy_tag").val();fArr_Layer[h]=jQuery("#layer_tag").val();for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==
fArr_Id[h]&&(vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("layer"),vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer",jQuery("#layer_tag").val()),jQuery("#layer_s").html(vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer")));fArr_Tags[h]=jQuery("#other_tags").val();jQuery("#location_s").html(fArr_Name[h]);jQuery("#type_s").html(fArr_Type[h]);jQuery("#occupancy_s").html(fArr_Occupancy[h]);jQuery("#tags_s").html(fArr_Tags[h]);jQuery("#layer_s").html(fArr_Layer[h])}for(h=0;h<fArr_Name_fixtures.length;h++)if(fArr_Id_fixtures[h]==
currentLinkId){fArr_PolygonNr_fixtures[h]=a;fArr_PolygonLayerName_fixtures[h]=selectedLinkUnlinkLayer;f=""==fArr_Name_fixtures[h]?fArr_Id_fixtures[h]:fArr_Name_fixtures[h];fArr_Type_fixtures[h]=jQuery("#type_tag").val();fArr_Layer_fixtures[h]=jQuery("#layer_tag").val();for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==fArr_Id_fixtures[h]&&(vqRooms[cvjs_active_floorplan_div_nr][spc].removeData("layer"),vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer",
jQuery("#layer_tag").val()),jQuery("#layer_s").html(vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer")));fArr_Occupancy_fixtures[h]=jQuery("#occupancy_tag").val();fArr_Tags_fixtures[h]=jQuery("#other_tags").val();""==fArr_Name_fixtures[h]?jQuery("#location_s").html(fArr_Id_fixtures[h]):jQuery("#location_s").html(fArr_Name_fixtures[h]);jQuery("#type_s").html(fArr_Type_fixtures[h]);jQuery("#occupancy_s").html(fArr_Occupancy_fixtures[h]);jQuery("#tags_s").html(fArr_Tags_fixtures[h])}generate_new_linkList();
generate_new_linkList_fixtures();scriptCode="officeclick('"+currentLinkId+"')"}else f=currentLinkId=jQuery("#spaces_manual_tag").val(),console.log("currentLinkId "+currentLinkId+" "+a+"  "+currentSelectedId),jQuery("#location_s").html(currentLinkId),jQuery("#type_s").html(jQuery("#type_tag").val()),jQuery("#occupancy_s").html(jQuery("#occupancy_tag").val()),jQuery("#tags_s").html(jQuery("#other_tags").val()),jQuery("#layer_s").html(jQuery("#layer_tag").val());for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==
currentSelectedId&&(a=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"),cvjs_setCurrentNodeValuesFromExistingNode(a),console.log(" before cvjs_overwriteNodeValues "+a+" "+currentLinkId+" "+f+" "+jQuery("#layer_tag").val()),console.log(" before cvjs_overwriteNodeValues "+cvjs_currentNode_group+" unpopulated "+cvjs_currentNode_attributes),cvjs_overwriteNodeValues(a,currentLinkId,f,jQuery("#layer_tag").val(),cvjs_currentNode_group," ","unpopulated",jQuery("#type_tag").val()," ",jQuery("#occupancy_tag").val(),
!0),cvjs_redrawPop());jQuery("#unlink_location").html("Unlink Location");jQuery("#unlink_location").css("color","#0096d7");jQuery("#done_editing_location").html("");jQuery("#edit_cancel_location").html("Edit Fields");edit_cancel_flag=!1;jQuery("#location_text_static").show();jQuery("#location_text_dynamic").hide();save_drawing_flag=1;jQuery("#save_drawing_image").attr("src","../app/images/tools/SaveChanges_240x22_Up.png");for(h=0;h<fArr_Name.length;h++)fArr_PolygonLayerName[h].indexOf("NODE_");for(h=
0;h<fArr_Name_fixtures.length;h++)fArr_PolygonLayerName_fixtures[h].indexOf("NODE_");cvjs_draw_space_object_names_on_spaces()});jQuery("#unlink_location").mousedown(function(){for(var a=0;a<fArr_Name.length;a++)fArr_PolygonLayerName[a]==selectedLinkUnlinkLayer&&(fArr_PolygonNr[a]=-1,fArr_PolygonLayerName[a]="none",fArr_Type[a]=-1,fArr_Occupancy[a]=-1,fArr_Tags[a]=-1);for(a=0;a<fArr_Name_fixtures.length;a++)fArr_PolygonLayerName_fixtures[a]==selectedLinkUnlinkLayer&&(fArr_PolygonNr_fixtures[a]=-1,
fArr_PolygonLayerName_fixtures[a]="none",fArr_Type_fixtures[a]=-1,fArr_Occupancy_fixtures[a]=-1,fArr_Tags_fixtures[a]=-1);generate_new_linkList();generate_new_linkList_fixtures();selectedLinkUnlinkLayer.substring(5);for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==currentSelectedId){a=vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");cvjs_debug&&console.log("node="+a);var f=a.substring(a.lastIndexOf("NODE_")+5);cvjs_overwriteNodeValues(a,
a,"unassigned_"+f,"unassigned","unassigned","unassigned","unassigned","unassigned","unassigned",!1);cvjs_redrawPop()}for(a=0;a<fArr_Name.length;a++)fArr_PolygonLayerName[a].indexOf("NODE_");for(a=0;a<fArr_Name_fixtures.length;a++)fArr_PolygonLayerName_fixtures[a].indexOf("NODE_");cvjs_debug&&console.log("done unlink!");jQuery("#unlink_location").css("color","#999999");jQuery("#drop_link_spaces").html('None Selected<b class="caret"></b>');jQuery("#drop_link_fixtures").html('None Selected<b class="caret"></b>');
jQuery("#type_tag").val(" ");jQuery("#type_tag").val(id_main_data_template_type);jQuery("#layer_tag").val(" ");jQuery("#layer_tag").val(id_main_data_layer);jQuery("#occupancy_tag").val(" ");jQuery("#other_tags").val(" ");jQuery("#location_s").html("None Selected");jQuery("#type_s").html("-");jQuery("#occupancy_s").html("-");jQuery("#tags_s").html("-");jQuery("#layer_s").html("-");jQuery("#maximoid1_s").html("-");jQuery("#maximoid2_s").html("-");jQuery("#maximoid3_s").html("-");jQuery("#maximo_df_1").html("-");
jQuery("#maximo_df_2").html("-");jQuery("#maximo_df_3").html("-");jQuery("#save_drawing_image").attr("src","../app/images/tools/SaveChanges_240x22_Up.png");save_drawing_flag=1});jQuery("#edit_cancel_location").mousedown(function(){if(0==edit_cancel_flag)-1==lastObj?cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.NoObjectSelected):(jQuery("#edit_cancel_location").html("Cancel"),jQuery("#done_editing_location").html("Done Editing"),
jQuery("#unlink_location").html(""),jQuery("#location_text_static").hide(),jQuery("#location_text_dynamic").show(),jQuery("#IconMenuPanel").height(370),edit_cancel_flag=!0);else{jQuery("#edit_cancel_location").html("Edit Fields");jQuery("#done_editing_location").html("");jQuery("#unlink_location").html("Unlink Location");jQuery("#location_text_static").show();jQuery("#location_text_dynamic").hide();jQuery("#IconMenuPanel").height(240);for(var a=0;a<fArr_Name.length;a++)fArr_PolygonLayerName[a].indexOf("NODE_");
for(a=0;a<fArr_Name_fixtures.length;a++)fArr_PolygonLayerName_fixtures[a].indexOf("NODE_");cvjs_debug&&console.log("edit_cancel_location");edit_cancel_flag=!1}});1==cvjs_creationInputType?(jQuery("#cv_link11").show(),jQuery("#cv_link11_B2").hide(),jQuery("#cv_link11_B3").show()):(jQuery("#cv_link11").hide(),jQuery("#cv_link11_B2").show(),jQuery("#cv_link11_B3").hide())})}function CADViewer_floorplan_methods(a){CADViewer_floorplan_methods_newVersion()}
function cvjs_addCircleAccessPointObject(){cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_id="NODE_"+Node_id;currentNode_attributes=currentNode_group=currentNode_layer=currentNode_name="unassigned";currentNode_attributeStatus="unpopulated";currentNode_tags=currentNode_tags=currentNode_type="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,currentNode_name,currentNode_id,currentNode_layer,currentNode_group,
currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked);cvjs_addHandleFunc_CircleAccessPoint()}var AP_diameter=400;
function cvjs_addHandleFunc_CircleAccessPoint(){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;
delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(0,0,1,1).attr({stroke:"#b00000","stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"});handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.mousedown(mousedown_copycircle_ap)}function cvjs_removeHandleFunc_CircleAccessPoint(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_circle_ap=function(){flag_c=!1;tRubberBand_c.attr({stroke:"#b00000","stroke-width":"0.01",fill:"none","fill-opacity":"0.01",opacity:"0.01"})},move_cvjs_create_circle_ap=function(a,d,f,h){flag_c?(lastX_c=a,lastY_c=d):(firstX_c=f,firstY_c=h,lastX_c=a,lastY_c=d,flag_c=!0);delta=Math.sqrt(a*a+d*d);tTransform_c="t"+(firstX_c-delta_x)/global_scale+","+(firstY_c-delta_y)/global_scale;delta/=global_scale;tTransform_c+="S"+delta;tRubberBand_c.attr({transform:tTransform_c,opacity:"1"})},
stop_cvjs_create_circle_ap=function(){tRubberBand_c.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});tRubberBand_c.attr({fill:"#00ff99","fill-opacity":"0.5",stroke:"#009999","stroke-opacity":"1"});var a=cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("r(0.5, 0.5, 0.5 )#CD9A97-#F8FD96-#99FEC5");cvjs_debug&&console.log(a);tRubberBand_c.attr({fill:a,"fill-opacity":.8,"stroke-opacity":.8});cvjs_debug&&console.log(tRubberBand_c);var d=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(1200,
1E3,800);d.attr({fill:"#bada55",stroke:"#000",strokeWidth:5});d.attr({fill:a,"fill-opacity":.8,"stroke-opacity":.8})},mousedown_copycircle_ap=function(a,d,f){tRubberBand_c=cvjs_rPaper[cvjs_active_floorplan_div_nr].circle((d-delta_x)/global_scale,(f-delta_y)/global_scale,AP_diameter,AP_diameter);a=cvjs_rPaper[cvjs_active_floorplan_div_nr].gradient("r(0.5, 0.5, 0.5 )#CD9A97-#F8FD96-#99FEC5");tRubberBand_c.attr({fill:a,"fill-opacity":.8,"stroke-opacity":.8});a=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M -500 0 L 3000 0 L 3000 3000 L 0 3000 zM567.37,1717.21H738.34l0,19.47h1.95l0,34.66H567.29l0.07,-54.14M448.9,1594.53H329.53L329.53,1773.29h40.5l0,-19.08h78.87L448.9,1594.53M567.29,1473.8h-97.37L469.93,1773.29h97.37L567.29,1473.8M738.34,1477.69H567.37L567.37,1647.89H738.34L738.34,1477.69").data("node",
"NODE_70");a.attr({fill:"#F8FD96","fill-opacity":.8});cvjs_rPaper[cvjs_active_floorplan_div_nr].path("").data("node","NODE_85");cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M 50 50 L 50 150 L 150 150 L 150 50 z M 75 75 L 125 75 L 125 125 L 75 125 z").attr("fill","#00ff00");tRubberBand_c.attr({clip:a,"clip-rule":"evenodd"});cvjs_removeHandleFunc_CircleAccessPoint()};function cvjs_setLanguageIndexIncrement(){cvjs_setLanguageIndex(cvjs_currentLanguage+1)}
function cvjs_setLanguageIndex(a){a>=languageTable.numberOfLanguages&&(a=0);0>a&&(a=languageTable.numberOfLanguages-1);cvjs_currentLanguage=a}function cvjs_ajaxPostCallbackVariable_thumbNails(a){cvjs_ajaxPostStatus_thumbNails=a}var cvjs_serverSendPDFEmailController="mail-pdf-redline.php",cvjs_mailServerSetup=!1,cvjs_from_name="",cvjs_from_mail="",cvjs_cc_mail="",cvjs_replyto="",cvjs_to_mail="",cvjs_mail_title="",cvjs_mail_message="";
function cvjs_emailSettings_PDF_publish(a,d,f,h){cvjs_mailServerSetup=!0;cvjs_from_name=a;cvjs_from_mail=d;cvjs_cc_mail=f;cvjs_replyto=h}
function cvjs_emailScreenAsPDFwithRedlines(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();d='<?xml version="1.0" encoding="utf-8" ?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"'+(' width="'+d.width+'" height="'+d.height+
'" viewbox="'+d.x+" "+d.y+" "+d.width+" "+d.height+'"');d+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);a=d+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>";d=cvjs_serverHandlersPath+cvjs_serverSaveFileController;var f={},h=new Date,n="y"+h.getFullYear()+"_m"+(h.getMonth()+1)+"_d"+h.getDate()+"_h"+h.getHours()+"_m"+h.getMinutes()+"_s"+
h.getSeconds();n="jan";var p=h.getHours();10>p&&(p="0"+p);switch(h.getMonth()){case 0:n="Jan";break;case 1:n="Feb";break;case 2:n="Mar";break;case 3:n="Apr";break;case 4:n="May";break;case 5:n="Jun";break;case 6:n="Jul";break;case 7:n="Aug";break;case 8:n="Sep";break;case 9:n="Oct";break;case 10:n="Nov";break;case 11:n="Dec";break;default:n="Jan"}n=n+"_"+h.getDate()+"_H"+p+"_"+h.getMinutes();var q=cvjs_ServerLocation+(cvjs_FileNameNoExtension+"_"+n+".pdf");h=q.lastIndexOf(".");var t=q.substring(0,
h)+".svg";f.file=t;f.file_content=a;cvjs_debug&&console.log("make pdf "+t+"  "+d);jQuery.ajax({url:d,type:"post",data:f,success:function(a){cvjs_debug&&console.log("Save floorplan: "+a);a=cvjs_serverHandlersPath+cvjs_serverSVGtoPDFConverterController;var d={};d.pdf_file=q;d.svg_file=t;jQuery.ajax({url:a,type:"post",data:d,success:function(a){cvjs_debug&&console.log("PDF file is now created: "+a);a={};a.pdf_file=q;a.from_name=cvjs_from_name;a.from_mail=cvjs_from_mail;a.cc_mail=cvjs_cc_mail;a.replyto=
cvjs_replyto;cvjs_to_mail=cvjs_to_mail.replace(/,/g,";");a.to_mail=cvjs_to_mail;a.mail_title=cvjs_mail_title;a.mail_message=cvjs_mail_message;jQuery.ajax({url:cvjs_serverHandlersPath+cvjs_serverSendPDFEmailController,type:"post",data:a,success:function(a){window.alert("e-mail sent!  "+a)}})}})},error:function(a){console.log("Error "+a)}})}
function cvjs_dragBackgroundToFront_SVG(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_masterBackground[cvjs_active_floorplan_div_nr].before(cvjs_SVGGroup[cvjs_active_floorplan_div_nr])}function cvjs_dragBackgroundToBack_SVG(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_SVGGroup[cvjs_active_floorplan_div_nr].before(cvjs_masterBackground[cvjs_active_floorplan_div_nr])}
function cvjs_saveAsSVG(a){try{a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();var d='<?xml version="1.0" encoding="utf-8" ?>';d+=' <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var f=""+cvjs_rPaper[cvjs_active_floorplan_div_nr];f=f.substring(f.indexOf("<svg")+4);f=f.substring(f.indexOf("<svg")+4);
f=f.substring(f.indexOf("<svg"));f=d+f;cvjs_NodeJSserver&&(f=f.replace(/xlink:href=["]assets[/]cadviewer/g,'xlink:href="'+ServerUrl+"files?file="));var h=f.indexOf("<desc>Created with Snap</desc>");if(-1<h){var n=f.substring(0,h),p=f.substring(h+46),q=p.indexOf("transform=");if(-1<q){var t=p.substring(0,q),u=p.substring(q+14),v=u.indexOf('"');u=u.substring(v+1);p=t+u}f=n+p}var w=new Date,x="y"+w.getFullYear()+"_m"+(w.getMonth()+1)+"_d"+w.getDate()+"_h"+w.getHours()+"_m"+w.getMinutes()+"_s"+w.getSeconds();
a="jan";var A=w.getHours();10>A&&(A="0"+A);switch(w.getMonth()){case 0:a="Jan";break;case 1:a="Feb";break;case 2:a="Mar";break;case 3:a="Apr";break;case 4:a="May";break;case 5:a="Jun";break;case 6:a="Jul";break;case 7:a="Aug";break;case 8:a="Sep";break;case 9:a="Oct";break;case 10:a="Nov";break;case 11:a="Dec";break;default:a="Jan"}x=a+"_"+w.getDate()+"_H"+A+"_"+w.getMinutes();var y=cvjs_FileNameNoExtension+"_"+x+".svg"}catch(B){console.log(B)}download(y,f)}
function download(a,d){var f=this.document.createElement("a");f.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(d));f.setAttribute("download",a);this.document.createEvent?(a=this.document.createEvent("MouseEvents"),a.initEvent("click",!0,!0),f.dispatchEvent(a)):f.click()}
function downloadFile(a,d){var f=this.document.createElement("a");f.setAttribute("href",d);f.setAttribute("download",a);this.document.createEvent?(a=this.document.createEvent("MouseEvents"),a.initEvent("click",!0,!0),f.dispatchEvent(a)):f.click()}
function download_link(a,d){printWindow=window.open("","CADViewer - Download","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+screen.height*cvjs_print_to_pdf_windowRelativeSize);d="";printWindow.document.write('<!DOCTYPE html><html><title>CADViewer - Download</title><head><script src="'+cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');d=d+'<!DOCTYPE html><html><title>CADViewer - Download</title><head><script src="'+cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>';
printWindow.document.write('<script type="text/javascript">');d+='<script type="text/javascript">';var f=cvjs_ServerUrl+"/converters/files/merged/"+a;printWindow.document.write('\x3c/script></head><body><div id="dwg">');d+='\x3c/script></head><body><div id="dwg">';printWindow.document.write('<a href="'+f+'">Download '+a+"</a></div></body></html>");console.log(d+'<a href="'+f+'">Download '+a+"</a></div></body></html>");printWindow.document.close();printWindow.focus()}
function cvjs_download_link(a,d){console.log(" in download "+a+"  "+d);printWindow=window.open("","CADViewer - Download","width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height=40px");var f="";printWindow.document.write('<!DOCTYPE html><html><title>CADViewer - Download</title><head><script src="'+cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>');f=f+'<!DOCTYPE html><html><title>CADViewer - Download</title><head><script src="'+cvjs_defaultJSPath+'/jquery-2.2.3.js" type="text/javascript">\x3c/script>';
printWindow.document.write('<script type="text/javascript">');f+='<script type="text/javascript">';printWindow.document.write('\x3c/script></head><body><div id="dwg">');f+='\x3c/script></head><body><div id="dwg">';printWindow.document.write('<br><div style="width:100%;background:#B9EAFF;color:#000000;border:1px black"><a style="width:100%;color:#000000;left:50px;border:1px black" href="'+d+'" download="'+a+'">Download '+a+"</a></div>");f=f+'<a href="'+d+'" download="'+a+'">Download '+a+"</a></div></body></html>";
printWindow.document.write("</div></body></html>");console.log("before focus incomplete text: "+f);printWindow.document.close();printWindow.focus()}
function cvjs_saveAsSVGOnServer(a,d){try{a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var f=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox(),h='<?xml version="1.0" encoding="utf-8" ?>';h+=' <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';h+='<svg contentScriptType="text/ecmascript" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify" contentStyleType="text/css" preserveAspectRatio="xMidYMid meet"';h+=
' width="'+f.width+'" height="'+f.height+'" viewbox="'+f.x+" "+f.y+" "+f.width+" "+f.height+'"';h+=' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:cvjs="http://www.tailormade.com/" stroke-linecap="butt" stroke-linejoin="round" fill-rule="evenodd" >';cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var n=h+cvjs_rPaper[cvjs_active_floorplan_div_nr]+"</svg>",p=new Date,q="y"+p.getFullYear()+"_m"+(p.getMonth()+1)+"_d"+p.getDate()+"_h"+p.getHours()+"_m"+p.getMinutes()+"_s"+p.getSeconds();a="jan";
var t=p.getHours();10>t&&(t="0"+t);switch(p.getMonth()){case 0:a="Jan";break;case 1:a="Feb";break;case 2:a="Mar";break;case 3:a="Apr";break;case 4:a="May";break;case 5:a="Jun";break;case 6:a="Jul";break;case 7:a="Aug";break;case 8:a="Sep";break;case 9:a="Oct";break;case 10:a="Nov";break;case 11:a="Dec";break;default:a="Jan"}q=a+"_"+p.getDate()+"_H"+t+"_"+p.getMinutes();var u=cvjs_FileNameNoExtension+"_"+q+".svg"}catch(v){console.log(v)}p=cvjs_serverHandlersPath+cvjs_serverSaveFileControllerRedlines;
q={};q.file=d+u;q.file_content=n;jQuery.ajax({url:p,type:"post",data:q,success:function(a){console.log("saved "+a);a=d.substring(d.indexOf(ServerLocation)+ServerLocation.length);downloadFile(u,ServerUrl+a+u)},error:function(a){console.log("Error "+a)}});download(u,n)}
function cvjs_getStickyNotesRedlineXML(a){var d="",f=0;d+="<cvjs_RedlinesStickyNotes>\n";var h=0,n=0;for(spc in vqRedlines)1!=vqRedlines[spc].data("deleted")&&n++;d=d+" \t\t\t\t\t<totalRedlines>"+n+"</totalRedlines>\n";n=0;for(spc in vqStickyNotes)1!=vqStickyNotes[spc].data("deleted")&&n++;d=d+" \t\t\t\t\t<totalStickyNotes>"+n+"</totalStickyNotes>\n";for(spc in vqRedlines)if(1==vqRedlines[spc].data("deleted"))cvjs_debug&&console.log("file.js deleted node "+vqRedlines[spc].data("node"));else{0==f&&
(f=1);d+="\t\t\t\t\t<Redline>\n";d=d+"\t\t\t\t\t\t<index>"+spc+"</index>\n";d=d+'\t\t\t\t\t\t<node>"'+vqRedlines[spc].data("node")+'"</node>\n';d=d+'\t\t\t\t\t\t<name>"'+vqRedlines[spc].data("name")+'"</name>\n';d=d+'\t\t\t\t\t\t<id>"'+vqRedlines[spc].data("id")+'"</id>\n';d=d+'\t\t\t\t\t\t<layer>"'+vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName+'"</layer>\n';d=d+'\t\t\t\t\t\t<group>"'+vqRedlines[spc].data("group")+
'"</group>\n';d=d+'\t\t\t\t\t\t<color>"'+vqRedlines[spc].data("color")+'"</color>\n';d=d+'\t\t\t\t\t\t<strokeWidth>"'+vqRedlines[spc].data("strokeWidth")+'"</strokeWidth>\n';d=d+'\t\t\t\t\t\t<fill>"'+vqRedlines[spc].data("fill")+'"</fill>\n';d=d+'\t\t\t\t\t\t<fillOpacity>"'+vqRedlines[spc].data("fill_opacity")+'"</fillOpacity>\n';d=d+'\t\t\t\t\t\t<username>"'+vqRedlines[spc].data("username")+'"</username>\n';d=d+'\t\t\t\t\t\t<userid>"'+vqRedlines[spc].data("userid")+'"</userid>\n';d=d+"\t\t\t\t\t\t<currentPage>"+
vqRedlines[spc].data("currentPage")+"</currentPage>\n";d=d+'\t\t\t\t\t\t<currentPageName>"'+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName+'"</currentPageName>\n';d=d+'\t\t\t\t\t\t<triangle_design>"'+vqRedlines[spc].data("triangle_design")+'"</triangle_design>\n';d=d+'\t\t\t\t\t\t<polypath_arrow>"'+vqRedlines[spc].data("polypath_arrow")+'"</polypath_arrow>\n';n=vqRedlines[spc].data("redline_text").replace("<br>","<br/>");d=d+'\t\t\t\t\t\t<redline_text>"'+
n+'"</redline_text>\n';d=d+'\t\t\t\t\t\t<fill_opacity>"'+vqRedlines[spc].data("fill_opacity")+'"</fill_opacity>\n';d=d+'\t\t\t\t\t\t<transform>"'+vqRedlines[spc].data("transform")+'"</transform>\n';d=d+"\t\t\t\t\t\t<drawingRotation>"+vqRedlines[spc].data("drawingRotation")+"</drawingRotation>\n";d+="\t\t\t\t\t\t<graphics>\n";var p=vqRedlines[spc].toString();if(-1<p.indexOf("polyline")){p=p.substring(p.indexOf("points=")+8);p=p.substring(0,p.indexOf('"'));var q=p.split(" ");p=vqRedlines[spc].toString();
p=p.substring(p.indexOf("matrix(")+8);p=p.substring(0,p.indexOf(")"));n=vqRedlines[spc].data("transform");n=n.substring(1,n.indexOf("r"));n=n.split(",");p.substring(p.indexOf("r")+1);p=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));h++;currentHandle=p="A"+h.toString(16);d+="\t\t\t\t\t\t<LWPOLYLINE>\n";d+="\t\t\t\t\t\t\t<isHatched>false</isHatched>\n";d+="\t\t\t\t\t\t\t<isFilled>true</isFilled>\n";p=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));d=d+"\t\t\t\t\t\t\t<autoCADColor>"+p+"</autoCADColor>\n";
vqRedlines[spc].data("layer");vqRedlines[spc].data("currentPage");d=d+"\t\t\t\t\t\t\t<dxf_90>"+(q.length+1)+"</dxf_90>\n\t\t\t\t\t\t\t<dxf_70>1</dxf_70>\n";p=cvjs_get_dwg_scaled_value(vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,vqRedlines[spc].data("currentPage"));d=d+"\t\t\t\t\t\t\t<dxf_40>"+p+"</dxf_40>\n\t\t\t\t\t\t\t<dxf_41>"+p+"</dxf_41>\n";for(var t=0;t<q.length;t++)p=q[t].split(","),d=d+"\t\t\t\t\t\t\t<pt>\n\t\t\t\t\t\t\t\t<dxf_10>"+cvjs_get_dwg_x_coord(Number(n[0])+
Number(p[0]),vqRedlines[spc].data("currentPage"))+"</dxf_10>\n\t\t\t\t\t\t\t\t<dxf_20>"+cvjs_get_dwg_y_coord(Number(n[1])+Number(p[1]),vqRedlines[spc].data("currentPage"))+"</dxf_20>\n\t\t\t\t\t\t\t</pt>\n";p=q[0].split(",");d=d+"\t\t\t\t\t\t\t<pt>\n\t\t\t\t\t\t\t\t<dxf_10>"+cvjs_get_dwg_x_coord(Number(n[0])+Number(p[0]),vqRedlines[spc].data("currentPage"))+"</dxf_10>\n\t\t\t\t\t\t\t\t<dxf_20>"+cvjs_get_dwg_y_coord(Number(n[1])+Number(p[1]),vqRedlines[spc].data("currentPage"))+"</dxf_20>\n\t\t\t\t\t\t\t</pt>\n";
d+="\t\t\t\t\t\t</LWPOLYLINE>\n";h++;p="A"+h.toString(16);vqRedlines[spc].data("layer");vqRedlines[spc].data("currentPage");for(t=0;t<q.length-1;t++)q[t].split(","),q[t+1].split(",");q[q.length-1].split(",");q[0].split(",");currentHandle=p;p=vqRedlines[spc].toString();p=p.substring(p.indexOf("d=")+3);p=p.substring(0,p.indexOf('"'));t=p.indexOf("Z");n=!1;-1<t&&(n=!0);n||(p+="Z");t=new PathConverter.Outline;(new PathConverter.SVGParser(t)).parse(p);p=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));
h++;p="A"+h.toString(16);p=cvjs_get_dwg_scaled_value(vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,vqRedlines[spc].data("currentPage"));var u=0;t.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&u++})})});n||u--;d+="\t\t\t\t\t\t<LWPOLYLINE>\n";d+="\t\t\t\t\t\t\t<isHatched>false</isHatched>\n";d+="\t\t\t\t\t\t\t<isFilled>false</isFilled>\n";p=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));d=d+"\t\t\t\t\t\t\t<autoCADColor>"+
p+"</autoCADColor>\n";vqRedlines[spc].data("layer");vqRedlines[spc].data("currentPage");p=0;n&&(p=1);d=d+"\t\t\t\t\t\t\t<dxf_90>"+(q.length+1)+"</dxf_90>\n\t\t\t\t\t\t\t<dxf_70>"+p+"</dxf_70>\n";p=cvjs_get_dwg_scaled_value(vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,vqRedlines[spc].data("currentPage"));var v=0;d=d+"\t\t\t\t\t\t\t<dxf_40>"+p+"</dxf_40>\n\t\t\t\t\t\t\t<dxf_41>"+p+"</dxf_41>\n";t.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&
(v<u&&(d=d+"\t\t\t\t\t\t\t<pt>\n\t\t\t\t\t\t\t\t<dxf_10>"+cvjs_get_dwg_x_coord(a.x,vqRedlines[spc].data("currentPage"))+"</dxf_10>\n\t\t\t\t\t\t\t\t<dxf_20>"+cvjs_get_dwg_y_coord(a.y,vqRedlines[spc].data("currentPage"))+"</dxf_20>\n\t\t\t\t\t\t\t</pt>\n"),v++)})})});d+="\t\t\t\t\t\t</LWPOLYLINE>\n"}else if(-1<p.indexOf("text")){q=vqRedlines[spc].data("transform");n=q.substring(1,q.indexOf("S"));n=n.split(",");q=q.substring(q.indexOf("S")+1).split(",");p=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));
h++;p="A"+h.toString(16);t=vqRedlines[spc].data("redline_text");p=t.split("<br>");for(var w=1,x=0;x<p.length;x++)p[x].length>w&&(w=p[x].length);x=(t.match(/<br>/g)||[]).length+1;t="{"+t+"}";t=t.replace(/<br>/g,"\\P");d+="\t\t\t\t\t\t<MTEXT>\n";p=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));d=d+"\t\t\t\t\t\t\t<autoCADColor>"+p+"</autoCADColor>\n";vqRedlines[spc].data("layer");vqRedlines[spc].data("currentPage");d=d+"\t\t\t\t\t\t\t<dxf_10>"+cvjs_get_dwg_x_coord(n[0],vqRedlines[spc].data("currentPage"))+
"</dxf_10>\n";d=d+"\t\t\t\t\t\t\t<dxf_20>"+cvjs_get_dwg_y_coord(n[1],vqRedlines[spc].data("currentPage"))+"</dxf_20>\n";d+="\t\t\t\t\t\t\t<dxf_30>0</dxf_30>\n";d=d+"\t\t\t\t\t\t\t<dxf_40>"+cvjs_get_dwg_scaled_value(cvjs_reference_font_size*q[0],vqRedlines[spc].data("currentPage"))+"</dxf_40>\n";d=d+"\t\t\t\t\t\t\t<dxf_41>"+cvjs_get_dwg_scaled_value(Number(n[1])+Number(x)*Number(cvjs_reference_font_size)*Number(q[0]),vqRedlines[spc].data("currentPage"))+"</dxf_41>\n";d=d+"\t\t\t\t\t\t\t<text>"+t+"</text>\n";
n=cvjs_get_dwg_scaled_value(cvjs_reference_font_size*q[0]*.8*w,vqRedlines[spc].data("currentPage"));d+="\t\t\t\t\t\t\t<ACAD_MTEXT_DEFINED_HEIGHT>\n";d=d+"\t\t\t\t\t\t\t<dxf_1070>"+n+"</dxf_1070>\n";d=d+"\t\t\t\t\t\t\t<dxf_1040>"+cvjs_get_dwg_scaled_value(x*cvjs_reference_font_size*q[0],vqRedlines[spc].data("currentPage"))+"</dxf_1040>\n";d+="\t\t\t\t\t\t\t</ACAD_MTEXT_DEFINED_HEIGHT>\n";d+="\t\t\t\t\t\t</MTEXT>\n"}else-1<p.indexOf("path")&&(n=p.substring(p.indexOf("fill-opacity")+13),n=n.substring(0,
n.indexOf(";")),q=.02<Number(n),p=p.substring(p.indexOf("d=")+3),p=p.substring(0,p.indexOf('"')),t=p.indexOf("Z"),n=!1,-1<t&&(n=!0),n||(p+="Z"),t=new PathConverter.Outline,(new PathConverter.SVGParser(t)).parse(p),p=cvjs_getAutoCADColor(vqRedlines[spc].data("color")),h++,currentHandle=p="A"+h.toString(16),p=vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,u=0,t.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&u++})})}),
n||u--,d+="\t\t\t\t\t\t<LWPOLYLINE>\n",d=q&&n?d+"\t\t\t\t\t\t\t<isHatched>true</isHatched>\n":d+"\t\t\t\t\t\t\t<isHatched>false</isHatched>\n",d+="\t\t\t\t\t\t\t<isFilled>false</isFilled>\n",p=cvjs_getAutoCADColor(vqRedlines[spc].data("color")),d=d+"\t\t\t\t\t\t\t<autoCADColor>"+p+"</autoCADColor>\n",vqRedlines[spc].data("layer"),vqRedlines[spc].data("currentPage"),p=0,n&&(p=1),d=d+"\t\t\t\t\t\t\t<dxf_90>"+u+"</dxf_90>\n\t\t\t\t\t\t\t<dxf_70>"+p+"</dxf_70>\n",p=vqRedlines[spc].data("strokeWidth")*
cvjs_redlineThickness_scaleFactor,d=d+"\t\t\t\t\t\t\t<dxf_40>"+cvjs_get_dwg_scaled_value(p,vqRedlines[spc].data("currentPage"))+"</dxf_40>\n\t\t\t\t\t\t\t<dxf_41>"+cvjs_get_dwg_scaled_value(p,vqRedlines[spc].data("currentPage"))+"</dxf_41>\n",cvjs_debug&&(n=cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox(),console.log(" bbox.x "+n.x+"  bbox.y "+n.y+"  bbox.width "+n.width+" bbox.height "+n.height)),v=0,t.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&
(v<u&&(cvjs_debug&&console.log(" pt.x "+a.x+"  pt.y "+a.y),d=d+"\t\t\t\t\t\t\t<pt>\n\t\t\t\t\t\t\t\t<dxf_10>"+cvjs_get_dwg_x_coord(a.x,vqRedlines[spc].data("currentPage"))+"</dxf_10>\n\t\t\t\t\t\t\t\t<dxf_20>"+cvjs_get_dwg_y_coord(a.y,vqRedlines[spc].data("currentPage"))+"</dxf_20>\n\t\t\t\t\t\t\t</pt>\n"),v++)})})}),d+="\t\t\t\t\t\t</LWPOLYLINE>\n",console.log("dataURL TOTAL "+d+" dataURL TOTAL "));d+="\t\t\t\t\t\t</graphics>\n";d+="\t\t\t\t\t</Redline>\n"}f=0;if(a)for(spc in vqStickyNotes)1!=vqStickyNotes[spc].data("deleted")&&
(0==f?f=1:d+="\t\t\t\t\t\t,\n",a=parseInt(spc)+vqRedlines.length,d+="\t\t\t\t\t<StickyNote>\n",d=d+"\t\t\t\t\t\t<index>"+a+"</index>\n",d=d+'\t\t\t\t\t\t<node>"'+vqStickyNotes[spc].data("node")+'"</node>\n',d=d+'\t\t\t\t\t\t<name>"'+vqStickyNotes[spc].data("name")+'"</name>\n',d=d+'\t\t\t\t\t\t<id>"'+vqStickyNotes[spc].data("id")+'"</id>\n',d=d+'\t\t\t\t\t\t<layer>"'+vqStickyNotes[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName+
'"</layer>\n',d=d+'\t\t\t\t\t\t<group>"'+vqStickyNotes[spc].data("group")+'"</group>\n',d=d+'\t\t\t\t\t\t<text>"'+vqStickyNotes[spc].data("text")+'"</text>\n',d=d+'\t\t\t\t\t\t<userid>"'+vqStickyNotes[spc].data("userid")+'"</userid>\n',d=d+"\t\t\t\t\t\t<currentPage>"+vqStickyNotes[spc].data("currentPage")+"</currentPage>\n",d=d+'\t\t\t\t\t\t<currentPageName>"'+multiPages[cvjs_active_floorplan_div_nr].pages[vqStickyNotes[spc].data("currentPage")-1].pageName+'"</currentPageName>\n',d=d+'\t\t\t\t\t\t<date>"'+
vqStickyNotes[spc].data("date")+'"<date>\n',d=d+"\t\t\t\t\t\t<linked>"+vqStickyNotes[spc].data("linked")+"<linked>\n",d=d+'\t\t\t\t\t\t<transform>"'+vqStickyNotes[spc].data("transform")+'"</transform>\n',d=d+"\t\t\t\t\t\t<drawingRotation>"+vqStickyNotes[spc].data("drawingRotation")+"</drawingRotation>\n",a=0,10>vqStickyNotes[spc].data("id")&&(a=3),a='paper.group(paper.path("M0,0h20v20h-20v-20Z").attr({stroke: "#000000", "stroke-width" : "1.0"}),paper.path("M7,12h1.3M9.5,12h3.5M11.25,12v5M9.75,12v1.75M12.75,12v1.75M10.5,17h1.5M7,13.5h1.3M7,15.25h3M7,17.0h2.2").attr({stroke: "#000000", "stroke-width" : "0.5"}),paper.text('+
(3+a)+',9,"#'+vqStickyNotes[spc].data("id")+'").attr({"font-size": "8px", "font-style": "italic", stroke: "#000000", "stroke-width" : "0.3", "stroke" : "0.3", "fill" : "#000000", "fill-opacity" : 1.0}))',a+='.attr({\'transform\': "t0,0S0.01" , "opacity" : "0.1"})',a+=".attr({\tfill: '#FFF', \"fill-opacity\": \"0.8\", stroke: '#000', 'stroke-opacity': \"1\" })",d+="\t\t\t\t\t\t<graphics>\n",d=d+"\t\t\t\t\t\t<stickyNoteTemplate>"+a+"</stickyNoteTemplate>\n",d+="\t\t\t\t\t\t</graphics>\n",d+="\t\t\t\t\t</StickyNote>\n");
return d+="</cvjs_RedlinesStickyNotes>\n\n"}function cvjs_getCurrentMeasurementUnit(){return cvjs_units[cvjs_active_floorplan_div_nr]}function cvjs_getSvgToWorldUnits(){return cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]}function cvjs_setCurrentMeasurementUnits(a,d,f){cvjs_svgToWorldUnits[cvjs_rPaperIndex(a)]=f;cvjs_units[cvjs_rPaperIndex(a)]=d;cvjs_calibratedMeasurement=!0}
function cvjs_resetInitialization_FloorplanDiv(){floorplans_divs_Initialized="                                             ".split(" ")}function cvjs_setDragBackgroundOnTop(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_SVGGroup[cvjs_active_floorplan_div_nr].add(cvjs_masterBackground[cvjs_active_floorplan_div_nr])}
function cvjs_setDragBackgroundToBack(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_masterBackground[cvjs_active_floorplan_div_nr].add(cvjs_SVGGroup[cvjs_active_floorplan_div_nr])}var cvjs_creationInputType=1,creation_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_creation_modal_show(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);jQuery("#creationModeModal_"+a).hide();1==cvjs_supressPopUpModal&&(cvjs_setCreationMode(cvjs_supressPopUpModal,!0),hideOnlyPop(),cvjs_clearDrawing(),cvjs_draw_space_object_names_on_spaces(),cvjs_spaceObjectInputPanel(a))}function cvjs_creation_modal_hide(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);jQuery("#creationModeModal_"+a).hide();cvjs_supressPopUpModal=!1}
function cvjs_showCreationModeModal(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(creation_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(creation_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#creationModeModal_"+a).css({position:"fixed"}),jQuery("#creationModeModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#creationModeModal_"+a).show())}
var cvjs_ellipseRedlineType=1,ellipse_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_drawEllipseViaButton(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);1==cvjs_ellipseRedlineType&&cvjs_drawSpaceObject_RedlineEllipse(a);2==cvjs_ellipseRedlineType&&cvjs_drawSpaceObject_RedlineEllipseCloud(a);jQuery("#ellipseModal_"+a).hide()}
function cvjs_ellipse_modal_hide(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);jQuery("#ellipseModal_"+a).hide()}
function cvjs_drawRedlineEllipseCloud(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(ellipse_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(ellipse_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#ellipseModal_"+a).css({position:"fixed"}),jQuery("#ellipseModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#ellipseModal_"+
a).show())}
function cvjs_closeAreaMeasurement(){if(cvjs_addHandleFunc_MeasurementFilledPolygon_started){cvjs_addHandleFunc_MeasurementFilledPolygon_started=!1;var a=(cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*Math.sqrt(Math.pow((firstX_poly_redline1_segment1-delta_x)/global_scale-area_vertices[area_vertices_counter-1].x,2)+Math.pow((firstY_poly_redline1_segment1-delta_y)/global_scale-area_vertices[area_vertices_counter-1].y,2))).toFixed(2);cvjs_measurementMultipleSegmentLength=Math.round(100*(Number(cvjs_measurementMultipleSegmentLength)+
Number(a)))/100;lastX_poly_redline1=firstX_poly_redline1_segment1;lastY_poly_redline1=firstY_poly_redline1_segment1;cvjs_measurement_end=!0;polyPath_redline1+="L"+(lastX_poly_redline1-delta_x)/global_scale+","+(lastY_poly_redline1-delta_y)/global_scale+"L"+(originX_poly_redline1-delta_x)/global_scale+","+(originY_poly_redline1-delta_y)/global_scale+"Z";tPolygon_redline1.attr({path:polyPath_redline1});cvjs_removeHandleFunc_MeasurementFilledPolygon();tRubberBand_poly_redline1.attr({path:"M0,0"});draw_poly_redline1=
!1;first_point_poly_redline1=!0;a=cvjs_measurementMultipleSegmentLength;cvjs_currentMeasurementLength=a=Math.round(100*a)/100;var d=(firstX_poly_redline1_segment1-delta_x)/global_scale,f=(firstY_poly_redline1_segment1-delta_y)/global_scale;area_vertices[area_vertices_counter]=[];area_vertices[area_vertices_counter]={x:d,y:f};cvjs_debug&&console.log(area_vertices_counter+" "+area_vertices[area_vertices_counter].x+"  "+area_vertices[area_vertices_counter].y+"  "+cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]);
area_vertices_counter++;cvjs_measurementArea=(calcPolygonArea(area_vertices)*cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]).toFixed(2);cvjs_callbackMeasurement&&cvjs_measurementCallback(cvjs_measurementMultipleSegmentLength,cvjs_measurementArea,cvjs_units[cvjs_active_floorplan_div_nr]);0==cvjs_units[cvjs_active_floorplan_div_nr].indexOf("feet")?(d=Math.floor(a),a-=Math.floor(a),a=Math.round(16*a),16==a&&(d+=1,a=0),jQuery("#cvjs_measurementLength_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area+": "+cvjs_measurementArea+" "+cvjs_units[cvjs_active_floorplan_div_nr]+"<sup>2</sup> ("+d+"' "+a+'/16")')):jQuery("#cvjs_measurementLength_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html(languageTable.languages[cvjs_currentLanguage].MeasurementModal.Area+": "+cvjs_measurementArea+" "+cvjs_units[cvjs_active_floorplan_div_nr]+"<sup>2</sup> ("+cvjs_measurementMultipleSegmentLength+
" "+cvjs_units[cvjs_active_floorplan_div_nr]+")")}}
function cvjs_buildFolderTree(a,d,f){cvjs_buildFolderTree_crossDomain=!0;f=a.slice(-1);"/"!=f&&"\\"!=f&&(a+="/");f=cvjs_serverHandlersPath+cvjs_serverLoadFileController;var h={};h.file=myLocation+"/CV-JS_foldertree_settings.php";jQuery.ajax({url:f,type:"post",data:h,success:function(f){cvjs_debug&&console.log("Load php: "+f);var h=f.lastIndexOf("$FolderTreeLocation"),n=f.substring(0,h);f=f.substring(h+19);h=f.indexOf("=");h=f.substring(h+1);f=h.substring(0,h.indexOf(";")).trim();h=h.substring(h.indexOf(";")+
1);f=f.replace(/['"]+/g,"");if(0!=a.indexOf(f)||a.length!=f.length)f=n+' $FolderTreeLocation = "'+a+'";'+h,n=cvjs_serverHandlersPath+cvjs_serverSaveFileController,h={},h.file=d+"/CV-JS_foldertree_settings.php",h.file_content=f,jQuery.ajax({url:n,type:"post",data:h,success:function(a){location.reload()}})},error:function(a){console.log("Error "+a)}});return a}
function cvjs_CleanLayout(a){for(a=0;a<rest_nname[cvjs_active_floorplan_div_nr].length;a++)"layout"==rest_nname[cvjs_active_floorplan_div_nr][a]&&(rest_nname[cvjs_active_floorplan_div_nr][a]="",rest_vvalue[cvjs_active_floorplan_div_nr][a]="")}function cvjs_selectPageFromList(a){}var cvjs_jsTreeSelectionCurrentData="",cvjs_jsTreeSelectionCurrentDataLength=0;function cvjs_custom_jsTreeSelection(a,d){cvjs_jsTreeSelectionCurrentData=a;cvjs_jsTreeSelectionCurrentDataLength=d}
function cvjs_conversion_setApplicationServiceParameters(a,d,f,h,n){rest_serviceCall=!0;rest_applicationPlatform=a;rest_applicationPlatformUsername=d;rest_applicationPlatformUserID=f;rest_ServiceToken=h;rest_leaveStreamOnServer=n}
function cvjs_update_done_edit_location_fields(a){jQuery("#location_s").html("");jQuery("#type_s").html("");jQuery("#occupancy_s").html("");jQuery("#tags_s").html("");jQuery("#type_tag").val("");jQuery("#type_tag").val(id_main_data_template_type);jQuery("#layer_tag").val(id_main_data_layer);jQuery("#occupancy_tag").val("");jQuery("#other_tags").val("");jQuery("#drop_link_spaces").html('None Selected<b class="caret"></b>');if(1==cvjs_creationInputType)for(var d=0;d<fArr_Name.length;d++)fArr_Id[d]==
a&&(jQuery("#location_s").html(fArr_Name[d]),jQuery("#type_s").html(fArr_Type[d]),jQuery("#occupancy_s").html(fArr_Occupancy[d]),jQuery("#tags_s").html(fArr_Tags[d]),jQuery("#type_tag").val(fArr_Type[d]),jQuery("#layer_tag").val(fArr_Layer[d]),jQuery("#occupancy_tag").val(fArr_Occupancy[d]),jQuery("#other_tags").val(fArr_Tags[d]),jQuery("#drop_link_spaces").html(fArr_Name[d]+'<b class="caret"></b>'));else for(spc in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==
a&&(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"),jQuery("#location_s").html(a),jQuery("#type_s").html(vqRooms[cvjs_active_floorplan_div_nr][spc].data("type")),jQuery("#occupancy_s").html(vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy")),jQuery("#tags_s").html(vqRooms[cvjs_active_floorplan_div_nr][spc].data("tags")),jQuery("#spaces_manual_tag").val(a),jQuery("#type_tag").val(vqRooms[cvjs_active_floorplan_div_nr][spc].data("type")),jQuery("#occupancy_tag").val(vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy")),
jQuery("#other_tags").val(vqRooms[cvjs_active_floorplan_div_nr][spc].data("tags")))}function cvjs_draw_space_object_names_on_spaces(){textLayer1=cvjs_clearTextLayer(textLayer1);var a=cvjs_getSpaceObjectIdList(),d=cvjs_getSpaceObjectNamesList();for(spc in a)cvjs_AddTextAndTBorderOnSpaceObjectId(textLayer1,a[spc],.05,Array(d[spc]),Array(text_style_arial_9pt_normal),["0.15"],["#AB5500"],!1,!0)}
function cvjs_connectTextInstances(a,d,f,h,n,p){var q=0,t=0,u=0,v=0,w=0;jQuery("text").each(function(f){-1<jQuery(this).text().toLowerCase().indexOf(a.toLowerCase())&&(w++,w==d&&(q=jQuery(this).attr("x"),t=jQuery(this).attr("y"),cvjs_svgWidthHeight100percent||""==cvjs_svgTransX||""==cvjs_svgTransX||(q=(cvjs_svgTransX+Number(xx))*cvjs_svgScale,t=(cvjs_svgTransY+Number(yy))*cvjs_svgScale)))});w=0;jQuery("text").each(function(a){-1<jQuery(this).text().toLowerCase().indexOf(f.toLowerCase())&&(w++,w==
h&&(u=jQuery(this).attr("x"),v=jQuery(this).attr("y"),cvjs_svgWidthHeight100percent||""==cvjs_svgTransX||""==cvjs_svgTransX||(u=(cvjs_svgTransX+Number(xx))*cvjs_svgScale,v=(cvjs_svgTransY+Number(yy))*cvjs_svgScale)))});console.log(q+" "+t+"  "+u+"  "+v);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);var x=
q,A=t,y=cvjs_currentRedline_strokeWidth;3<cvjs_currentRedline_strokeWidth&&(y=3+(cvjs_currentRedline_strokeWidth-3)/2);y*=cvjs_redlineThickness_scaleFactor;y=-4.5*y+","+5.5*y+" "+.5*y+","+-4.5*y+" "+5.5*y+","+5.5*y;var B=parseFloat(u)-parseFloat(x),z=parseFloat(v)-parseFloat(A),C=Math.atan2(z,B)/Math.PI*180;B=Math.sqrt(B*B+z*z);q=parseFloat(x)+parseFloat(Math.cos(C/180*Math.PI)*B*n/100);t=parseFloat(A)+parseFloat(Math.sin(C/180*Math.PI)*B*n/100);u=parseFloat(x)+parseFloat(Math.cos(C/180*Math.PI)*
B*(1-p/100));v=parseFloat(A)+parseFloat(Math.sin(C/180*Math.PI)*B*(1-p/100));console.log(y+" degrees "+C);n="T"+u+","+v+"r"+(C-270);console.log(n);p=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(y);p.attr({fill:cvjs_currentRedline_color,transform:n});polyPath_redline1="M "+q+", "+t+" L "+u+","+v;console.log(polyPath_redline1);tPolygon_redline1=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(polyPath_redline1).attr({stroke:cvjs_currentRedline_color,"stroke-width":cvjs_currentRedline_strokeWidth*
cvjs_redlineThickness_scaleFactor,fill:"#FFF","fill-opacity":"0.01"});tPolygon_redline1.attr({path:polyPath_redline1});p=cvjs_rPaper[cvjs_active_floorplan_div_nr].polyline(y);console.log(tPolygon_redline1+"  "+polyPath_redline1);x=cvjs_rPaper[cvjs_active_floorplan_div_nr].g(p,tPolygon_redline1);cvjs_addVqRedlinesGraphics_newNodeTrans(cvjs_currentRedline_underbar,x,n,y,polyPath_redline1);cvjs_graphicalObjectCreated("RedlineArrowPolyline");p.attr({fill:cvjs_currentRedline_color,transform:"M0,09S0"})}
var spaceInsertion_x=0,spaceInsertion_y=0,spaceLL_x=0,spaceLL_y=0,spaceUL_x=0,spaceUL_y=0,spaceLR_x=0,spaceLR_y=0,spaceUR_x=0,spaceUR_y=0,space_fill_arr=[],space_rows=1E3,space_columns=3,spaceArrayCounter=0;function fill2DimensionsArray(a,d,f){for(var h=0;h<d;h++){a.push([0]);for(var n=0;n<f;n++)a[h][n]=0}}
function find_borders(a,d){a<=spaceLL_x&&(spaceLL_x=a);d<=spaceLL_y&&(spaceLL_y=d);a<=spaceUL_x&&(spaceUL_x=a);d>=spaceUL_y&&(spaceUL_y=d);a>=spaceUR_x&&(spaceUR_x=a);d>=spaceUR_y&&(spaceUR_y=d);a>=spaceLR_x&&(spaceLR_x=a);d<=spaceLR_y&&(spaceLR_y=d)}function getPixel(a,d,f){if(0>d||0>f||d>=a.width||f>=a.height)return[-1,-1,-1,-1];d=4*(f*a.width+d);return a.data.slice(d,d+4)}function setPixel(a,d,f,h){d=4*(f*a.width+d);a.data[d+0]=h[0];a.data[d+1]=h[1];a.data[d+2]=h[2];a.data[d+3]=h[0]}
function colorsMatch(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]&&a[3]===d[3]}function colorsMatch_3fields(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]}var cvjs_ctx_helper;
function floodFill(a,d,f,h,n,p){f=Math.round(f);h=Math.round(h);spaceInsertion_x=f;spaceInsertion_y=h;spaceLL_x=spaceInsertion_x;spaceLL_y=spaceInsertion_y;spaceUL_x=spaceInsertion_x;spaceUL_y=spaceInsertion_y;spaceLR_x=spaceInsertion_x;spaceLR_y=spaceInsertion_y;spaceUR_x=spaceInsertion_x;spaceUR_y=spaceInsertion_y;var q=a.getImageData(0,0,a.canvas.width,a.canvas.height),t=d.getImageData(0,0,a.canvas.width,a.canvas.height),u=getPixel(q,f,h);console.log("First: targetColor "+u[0]+" "+u[1]+" "+u[2]+
" "+u[3]+"x="+f+" y="+h);if(-1==u[0])console.log(" this is not working, return");else if(!colorsMatch(u,n)){for(f=[f,h];0<f.length;){h=f.pop();var v=f.pop(),w=getPixel(q,v,h);colorsMatch(w,u)?(setPixel(q,v,h,n),find_borders(v,h),f.push(v+1,h),f.push(v-1,h),f.push(v,h+1),f.push(v,h-1)):colorsMatch_3fields(w,n)||setPixel(t,v,h,p)}a.putImageData(q,0,0);d.putImageData(t,0,0)}}
var cvjs_spaceFloodFill=!1,cvjs_spacePolygonFillLayer="layer_PolygonLayer",cvjs_spaceIDLayer="None Selected",paint_room_id=!1,canv_width_global=1,canv_height_global=1,base_adjust=1,drawing_aspect_ratio,canvas_aspect_ratio;
function cvjs_floodfill(a,d,f,h,n){fill2DimensionsArray(space_fill_arr,space_rows,space_columns);canv_width_global=d;canv_height_global=f;jQuery("#tempCanvas_space").height(f);jQuery("#tempCanvas_space").width(d);cvjs_ctx_helper=jQuery("#tempCanvas_space")[0].getContext("2d");cvjs_ctx_helper.beginPath();cvjs_ctx_helper.strokeStyle="white";cvjs_ctx_helper.fillStyle="white";cvjs_ctx_helper.rect(0,0,d,f);cvjs_ctx_helper.fill();var p=viewBoxWidth[cvjs_active_floorplan_div_nr],q=viewBoxHeight[cvjs_active_floorplan_div_nr];
console.log("BEFORE "+cvjs_spaceIDLayer+"  ");h=a.canvas.clientWidth;n=a.canvas.clientHeight;drawing_aspect_ratio=q/p;canvas_aspect_ratio=n/h;var t={};jQuery("."+cvjs_spaceIDLayer).find("[id^=cv_]").each(function(){var a=jQuery(this).attr("id");try{var d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(t[a]||(t[a]=!0))}catch(B){console.log(B)}});for(var u in t)try{p="#"+u;var v=jQuery(p).html(),w=
jQuery(p).attr("x"),x=jQuery(p).attr("y");space_fill_arr[spaceArrayCounter][0]=w;space_fill_arr[spaceArrayCounter][1]=x;space_fill_arr[spaceArrayCounter][2]=v;spaceArrayCounter++;cvjs_floodfillWrapper(w,x,v,d,f,a,h,n)}catch(A){console.log(A)}for(i=0;i<vqRedlines.length;i++)console.log("redline "+i),"none"!=vqRedlines[i].data("redline_text")&&(console.log("we have a redline ID! "+vqRedlines[i].data("redline_text")),console.log(vqRedlines[i].data("transform")),console.log(vqRedlines[i].data("redline_text")),
u=vqRedlines[i].data("transform").substring(1,vqRedlines[i].data("transform").indexOf("S")),console.log(u),space_fill_arr[spaceArrayCounter][0]=Math.floor(u.substring(0,u.indexOf(","))),space_fill_arr[spaceArrayCounter][1]=Math.floor(u.substring(u.indexOf(",")+1)),space_fill_arr[spaceArrayCounter][2]=vqRedlines[i].data("redline_text"),console.log(space_fill_arr[spaceArrayCounter][0]+" "+space_fill_arr[spaceArrayCounter][1]+" "+space_fill_arr[spaceArrayCounter][2]),cvjs_floodfillWrapper(space_fill_arr[spaceArrayCounter][0],
space_fill_arr[spaceArrayCounter][1],space_fill_arr[spaceArrayCounter][2],d,f,a,h,n),spaceArrayCounter++);d=cvjs_ctx_helper.getImageData(0,0,cvjs_ctx_helper.canvas.width,cvjs_ctx_helper.canvas.height);a.putImageData(d,0,0)}
function cvjs_floodfillWrapper(a,d,f,h,n,p,q,t){a-=actualLLX[cvjs_active_floorplan_div_nr];d-=actualLLY[cvjs_active_floorplan_div_nr];drawing_aspect_ratio<=canvas_aspect_ratio?(location_x=a/rpWidth[cvjs_active_floorplan_div_nr]*h,location_y=d/rpWidth[cvjs_active_floorplan_div_nr]*h,base_adjust=(t-drawing_aspect_ratio*q)/2,paint_room_id&&(cvjs_ctx_helper.strokeStyle="green",cvjs_ctx_helper.strokeStyle="blue",cvjs_ctx_helper.beginPath(),cvjs_ctx_helper.arc(Math.round(location_x),Math.round(location_y+
base_adjust),4,0,2*Math.PI),cvjs_ctx_helper.stroke()),floodFill(p,cvjs_ctx_helper,Math.round(location_x),Math.round(location_y+base_adjust),[10,10,0,0],[255,0,0,255])):(location_x=a/rpHeight[cvjs_active_floorplan_div_nr]*n,location_y=d/rpHeight[cvjs_active_floorplan_div_nr]*n,base_adjust=(q-t/drawing_aspect_ratio)/2,floodFill(p,cvjs_ctx_helper,Math.round(location_x+base_adjust),Math.round(location_y),[10,10,0,0],[255,0,0,255]))}
function cvjs_pngForSVG(a){jQuery("#floorPlanCanvasObject_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();console.log(a);a=a.substring(a.lastIndexOf("/")+1);console.log(a);var d=a.substring(0,a.lastIndexOf("."));console.log(d);var f=cvjs_serverHandlersPath+"convert_base64.php",h={};h.input_file=ServerLocation+"php/"+cvjs_printObjectPath+a;h.output_file=ServerLocation+"php/"+cvjs_printObjectPath+d;jQuery.ajax({url:f,type:"post",data:h,success:function(a){console.log("we have converted to png: "+
a);ImageTracer.imageToSVG(cvjs_serverHandlersPath+cvjs_printObjectPath+d,function(a){var d=cvjs_serverSavePrintModeController=0,f=1E5,h=a.split("<path"),n=h.length;for(a=1;a<n;a++)if(-1<h[a].indexOf('d="M 0 0'))h[a]="<path></path>";else{h[a]="<path "+h[a].substring(0,h[a].indexOf(" Z"))+' Z "></path>';var p=h[a].indexOf("rgb(");h[a].substring(0,p+4);var x=h[a].substring(0,p);p=h[a].indexOf(")",p);h[a].substring(p);p=h[a].substring(p+2);b=g=r=0;var A=a%3;0==A&&(r=255);1==A&&(g=255);2==A&&(b=255);f++;
d++;h[a]=x+'rgb(220,220,220)" id="cv_'+f+'" class=" sHB cvjs_handles" cvjs:node=\'NODE_'+d+"' cvjs:handle='"+d+'\' cvjs:area="not calculated" '+p;A=h[a].substring(h[a].indexOf(" d=")+4);A=A.substring(0,A.lastIndexOf('"'));x=A.split(" ");p=x.length;A=!0;for(j=0;j<p;j++){var y=x[j];y=y.toString();y=parseFloat(y);isNaN(y)||(A?(x[j]=drawing_aspect_ratio<=canvas_aspect_ratio?y/canv_width_global*rpWidth[cvjs_active_floorplan_div_nr]:(y-base_adjust)/canv_height_global*rpHeight[cvjs_active_floorplan_div_nr],
console.log(y+" x transform: "+x[j]+" canv_width_global "+canv_width_global+" rpWidth "+rpWidth[cvjs_active_floorplan_div_nr])):x[j]=drawing_aspect_ratio<=canvas_aspect_ratio?(y-base_adjust)/canv_width_global*rpWidth[cvjs_active_floorplan_div_nr]:y/canv_height_global*rpHeight[cvjs_active_floorplan_div_nr],A=!A)}A="";for(j=0;j<p;j++)A=A+" "+x[j];A=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(A).attr({stroke:"#b00000",fill:"none"});A.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#00ff00","stroke-opacity":"0.7"});
cvjs_currentNode_underbar="NODE_"+a;cvjs_currentNode_id="NODE_"+a;cvjs_currentNode_name="NewSpace_"+a;cvjs_currentNode_layer="SpaceLayer";cvjs_currentNode_attributes=cvjs_currentNode_group="unassigned";cvjs_currentNode_attributeStatus="unpopulated";cvjs_currentNode_type="A new Space";cvjs_currentNode_tags=cvjs_currentNode_tags="unassigned";cvjs_currentNode_linked=!0;console.log("CURRENT NODE: "+cvjs_currentNode_underbar);y=[];var B=[],z=0;area_vertices=[];for(m=0;m<p;m++)if("M"==x[m]||"L"==x[m]||
"Q"==x[m])y[z]=x[m+1],B[z]=x[m+2],area_vertices[z]=[],area_vertices[z]={x:y[z],y:B[z]},z++;area_vertices[z]=[];area_vertices[z]={x:y[0],y:B[0]};console.log("AREA:    "+calcPolygonArea(area_vertices)+"   cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr] "+cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]);x=(calcPolygonArea(area_vertices)*cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]*cvjs_svgToWorldUnits[cvjs_active_floorplan_div_nr]).toFixed(2);for(k=0;k<spaceArrayCounter;k++)isInside(y,B,
y.length,space_fill_arr[k][0],space_fill_arr[k][1])&&(console.log("MATCH polygon "+k+"   "+space_fill_arr[k][2]),cvjs_currentNode_id=space_fill_arr[k][2],cvjs_currentNode_name=space_fill_arr[k][2],cvjs_currentNode_type="mm"==cvjs_units[cvjs_active_floorplan_div_nr]?"Space<br>"+(x/1E3/1E3).toFixed(2)+" m2":"cm"==cvjs_units[cvjs_active_floorplan_div_nr]?"Space<br>"+(x/100/100).toFixed(2)+" m2":"Space<br>"+x.toFixed(2)+" "+cvjs_units[cvjs_active_floorplan_div_nr]+"2",k=spaceArrayCounter);cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,
A);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar)}jQuery("#tempCanvas_space").hide();printDebugFlag=cvjs_spaceFloodFill=!1;cvjs_LayerOn(cvjs_spaceIDLayer);for(a=0;a<vqRedlines.length;a++)console.log("redline "+a),"none"!=vqRedlines[a].data("redline_text")&&(d=vqRedlines[a].data("transform"),vqRedlines[a].attr({transform:d,opacity:"1"}));document.getElementById("cvjs_overlay").style.display="none";try{custom_host_parser_PopUpMenu()}catch(C){console.log(C)}cvjs_resetZoomPan("floorPlan")},
{ltres:4,qtres:4,scale:1,strokewidth:1,roundcoords:1})},error:function(a){console.log("Error "+a)}})}
function cvjs_addPinMarker(a,d,f,h,n){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_id=d;currentNode_name=f;currentNode_layer=n;currentNode_attributes=currentNode_group="none";currentNode_attributeStatus="unpopulated";currentNode_type=h;currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,currentNode_name,
currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked);cvjs_addHandleFunc_PinMarker(d,f,h)}function cvjs_drawSpaceObject_PinMarker(a,d,f){cvjs_addHandleFunc_PinMarker(a,d,f)}cvjs_customSpaceObjectName=cvjs_customSpaceObjectType=cvjs_customSpaceObjectId=cvjs_customSvgImagePath="";var cvjs_mouseMoveSVGCustomImage=!1,cvjs_scaleFactorPin=2400;
function cvjs_addHandleFunc_PinMarker(a,d,f){cvjs_customSpaceObjectId=a;cvjs_customSpaceObjectType=f;cvjs_customSpaceObjectName=d;tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=
cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mouseup(stop_cvjs_create_custom_svg_image);cvjs_mouseMoveSVGCustomImage=!1;handleGroup.mousemove(move_cvjs_create_custom_svg_image)}
function cvjs_removeHandleFunc_CustomSVGImage(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_custom_svg_image=function(){flag_rectangle=!1;tRubberBand_r.attr({stroke:"#b00000",fill:"none"})},tTransform_pin="",move_cvjs_create_custom_svg_image=function(a,d,f){canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];
global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;console.log(delta_x+"  "+delta_y);d+=document.body.scrollLeft;f+=document.body.scrollTop;
scaleNote=1;scaleNote=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/cvjs_scaleFactorPin:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/cvjs_scaleFactorPin;0==cvjs_mouseMoveSVGCustomImage&&(cvjs_mouseMoveSVGCustomImage=!0,tRubberBand_sn=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M38.55 127.89 c-5.55 -0.44 -10.43 -1.76 -15.30 -4.14 -14.57 -7.12 -23.70 -22.23 -23.22 -38.40 0.19 -6.05 1.52 -11.55 4.06 -16.80 1.09 -2.25 1.83 -3.53 3.31 -5.75 0.65 -0.96 8.56 -13.69 17.60 -28.27 9.03 -14.59 16.46 -26.53 16.50 -26.53 0.04 0 7.47 11.94 16.50 26.52 9.04 14.59 16.95 27.32 17.60 28.28 1.48 2.22 2.22 3.50 3.31 5.75 4.21 8.69 5.20 18.69 2.79 28.21 -2.44 9.58 -8.22 17.95 -16.40 23.71 -6.96 4.91 -15.51 7.59 -24.04 7.52 -0.94 -0.01 -2.16 -0.05 -2.71 -0.10z m6.35 -17.64 c4.40 -0.80 8.13 -2.71 11.20 -5.75 7.69 -7.61 8.25 -19.80 1.30 -28.12 -3.35 -4.02 -8.17 -6.63 -13.44 -7.28 -1.14 -0.14 -3.78 -0.14 -4.92 0 -8.53 1.05 -15.50 7.15 -17.64 15.44 -1.41 5.45 -0.52 11.36 2.43 16.13 3.30 5.31 8.62 8.76 14.97 9.68 1.30 0.19 4.81 0.13 6.10 -0.10z").attr({stroke:"#ff2222",
"stroke-width":"1.0",fill:"#ff0000"}));tTransform_pin="T"+((d-delta_x)/global_scale-50*scaleNote)+","+((f+0*scaleNote*global_scale-delta_y)/global_scale-150*scaleNote);tTransform_pin+="S"+scaleNote;tTransform_pin+="R180";tRubberBand_sn.attr({transform:tTransform_pin});flag_rectangle?(lastX_r=dx,lastY_r=dy):(firstX_r=d,firstY_r=f,lastX_r=dx,lastY_r=dy,flag_rectangle=!0);tPath_r="M"+(firstX_r-delta_x)/global_scale+","+(firstY_r-delta_y)/global_scale;tPath_r+="h"+lastX_r/global_scale+"v"+lastY_r/global_scale+
"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");tRubberBand_r.attr({path:tPath_r})},stop_cvjs_create_custom_svg_image=function(){cvjs_removeHandleFunc_CustomSVGImage();cvjs_mouseMoveSVGCustomImage&&(tTransform_c="t0,0S"+scaleNote/100,tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"}),tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"}),tRubberBand_sn.remove());var a=cvjs_rPaper[cvjs_active_floorplan_div_nr].path("M38.55 127.89 c-5.55 -0.44 -10.43 -1.76 -15.30 -4.14 -14.57 -7.12 -23.70 -22.23 -23.22 -38.40 0.19 -6.05 1.52 -11.55 4.06 -16.80 1.09 -2.25 1.83 -3.53 3.31 -5.75 0.65 -0.96 8.56 -13.69 17.60 -28.27 9.03 -14.59 16.46 -26.53 16.50 -26.53 0.04 0 7.47 11.94 16.50 26.52 9.04 14.59 16.95 27.32 17.60 28.28 1.48 2.22 2.22 3.50 3.31 5.75 4.21 8.69 5.20 18.69 2.79 28.21 -2.44 9.58 -8.22 17.95 -16.40 23.71 -6.96 4.91 -15.51 7.59 -24.04 7.52 -0.94 -0.01 -2.16 -0.05 -2.71 -0.10z m6.35 -17.64 c4.40 -0.80 8.13 -2.71 11.20 -5.75 7.69 -7.61 8.25 -19.80 1.30 -28.12 -3.35 -4.02 -8.17 -6.63 -13.44 -7.28 -1.14 -0.14 -3.78 -0.14 -4.92 0 -8.53 1.05 -15.50 7.15 -17.64 15.44 -1.41 5.45 -0.52 11.36 2.43 16.13 3.30 5.31 8.62 8.76 14.97 9.68 1.30 0.19 4.81 0.13 6.10 -0.10z").attr({stroke:"#ff0000",
"stroke-width":"1.0",fill:"#ff2222"});a.attr({transform:tTransform_pin});a.attr({id:"cv_"+cvjs_currentNode_underbar+"_image"});a=a.getBBox();tPath_r="M"+a.x+","+a.y;tPath_r+="h"+a.width+"v"+a.height+"h"+-a.width+"v"+-a.height+" Z";a=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});a.attr({path:tPath_r});a.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});a.attr({id:"cv_"+cvjs_currentNode_underbar,"cvjs:node":cvjs_currentNode_underbar,
"cvjs:roomId":cvjs_customSpaceObjectId,"cvjs:name":cvjs_customSpaceObjectName,"class":"cvjs_nodes","cvjs:type":cvjs_customSpaceObjectType});cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,a);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("Rectangle");var d={};jQuery("*[id]").each(function(){try{var a=jQuery(this).attr("id"),f="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(f).attr("id")==
floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(d[a]||(d[a]=!0))}catch(u){console.log(u+" XX"+a+"XX")}});a=0;for(var f in d)try{var h=jQuery("#"+f).attr("id");if(0==h.indexOf("cv_")&&0!=h.indexOf("cv_NODE")){var n=0;0==h.indexOf("cv_")&&(n=h.substring(3));var p=parseInt(n);p>a&&(a=p)}}catch(q){console.log(q+" XX"+id+"XX")}a="cv_"+a;jQuery("#cv_"+cvjs_currentNode_underbar+"_image").insertBefore("#cv_"+cvjs_currentNode_underbar)},varPunchList=0,varPunchListArray=[],varPunchList_Populated_Array=
[];function cvjs_PinMarker(){varPunchList++;varPunchListArray[varPunchList-1]="P_"+varPunchList;varPunchList_Populated_Array[varPunchList-1]=!1;cvjs_supressPopUpModal_callback_JS=!0;cvjs_addPinMarker("floorPlan_svg","P_"+varPunchList,"PunchList_"+varPunchList,"List Item")}var cvjs_PercentXFromLowerLeft=87,cvjs_PercentYFromLowerLeft=15,cvjs_widthPercent=10,cvjs_mergeOnOff=!1;function makeCode(a){qrcode.makeCode(a)}var waitforQRCodeVar=!0,waitforCounter=0;
function waitforQRCode(a){console.log("In waitforQRCodeVar.. ");waitforCounter++;try{jQuery("#cvjs_qrcode_"+a).html().split(";base64,"),waitforQRCodeVar=!1}catch(d){console.log(d),waitforQRCodeVar=!0}5==waitforCounter&&(waitforQRCodeVar=!1)}
function cvjs_mergeQR(a){waitforQRCodeVar=!0;var d=a;-1==d.indexOf("_svg")&&(a=d+"_svg");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_4" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.MergeDWG+
"</div></td></tr></table>");cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(10);qrcode=new QRCode(document.getElementById("cvjs_qrcode_"+a),{width:200,height:200});cvjs_mergeOnOff=!cvjs_mergeOnOff;var f=!1;if(cvjs_mergeOnOff){""==cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr]&&(console.log("Source file not DWG!"),f=!0);var h=Math.random().toString().substring(2,5),n=cvjs_ServerLocation+"/converters/files/merged/mergeQR_"+
h+".xml",p=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr];f&&(p=currentLoadedDrawingFullName);-1<p.indexOf("/")&&(p=p.substring(p.lastIndexOf("/")+1));d=cvjs_serverHandlersPath+cvjs_serverGetQRCodeController;var q={};q.file=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr];f&&(q.file=currentLoadedDrawingFullName);jQuery.ajax({url:d,type:"post",data:q,success:function(d){var q=!1;cvjs_debug&&console.log("this is the code we program into the drawing "+d);if(-1<d.indexOf("<no_QR_code_available>"))return cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],
languageTable.languages[cvjs_currentLanguage].InfoMessageModal.NoQRCode),jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide(),cvjs_mergeOnOff=!cvjs_mergeOnOff,!0;-1<d.indexOf("<use_as_QR_code_bitmap>")&&(console.log("QR is the file!!!!"),q=!0,use_as_QR_code_bitmap_filname=d.substring(0,d.indexOf("<use_as_QR_code_bitmap>")));jQuery("#cvjs_qrcode_"+a).show();cvjs_debug&&console.log("before qrcode ");makeCode(d);cvjs_debug&&console.log("before body");jQuery("body").on("DOMSubtreeModified",
"#cvjs_qrcode_"+a,function(){console.log("now QRcode is changed!"+jQuery("#cvjs_qrcode_"+a).html());waitforQRCode(a);if(!waitforQRCodeVar){var d=cvjs_ServerLocation+"/converters/files/merged/mergeQR_"+h+".png";1==q&&(d=use_as_QR_code_bitmap_filname);d="<cvjs_RedlinesStickyNotes>\n<totalRedlines>0</totalRedlines>\n<totalStickyNotes>0</totalStickyNotes>\n<totalBitmaps>1</totalBitmaps>\n<Bitmap>\n<index>0</index>\n<name>QRcode_01</name>\n<layer>cvjs_QRcodeLayer</layer>\n<currentPageName>ModelSpace</currentPageName>\n<filename>"+
d+"</filename>\n<location>\n<PercentXFromLowerLeft>"+cvjs_PercentXFromLowerLeft+"</PercentXFromLowerLeft>\n<PercentYFromLowerLeft>"+cvjs_PercentYFromLowerLeft+"</PercentYFromLowerLeft>\n<widthPercent>"+cvjs_widthPercent+"</widthPercent>\n</location>\n</Bitmap>\n</cvjs_RedlinesStickyNotes>\n";var t=cvjs_serverHandlersPath+cvjs_serverSaveFileController,u={};u.file=n;u.file_content=d;jQuery.ajax({url:t,type:"post",data:u,success:function(d){d=jQuery("#cvjs_qrcode_"+a).html().split(";base64,");var u=
d[1].substring(0,d[1].indexOf('"'));jQuery("#cvjs_qrcode_"+a).hide();if(q){u=cvjs_serverHandlersPath+cvjs_serverMergeDWGController;d={};d.base_file=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr];f&&(d.base_file=currentLoadedDrawingFullName);d.merge_file=n;d.out_file=cvjs_ServerLocation+"/converters/files/merged/"+p;d.zip_output="true";d.QR_code="true";console.log("base: "+d.base_file+" merge: "+d.merge_file+" out: "+d.out_file);console.log("zip_output: "+d.zip_output+" QR_code: "+d.QR_code);
var v="";jQuery.ajax({url:u,type:"post",data:d,success:function(d){cvjs_debug&&console.log(d);v=cvjs_ServerUrl+"/converters/files/merged/"+p;-1<d.indexOf("<customoutfilename>")&&(d=d.substring(d.indexOf("<customoutfilename>")+19),d=d.substring(0,d.indexOf("</customoutfilename>")),0==d.indexOf("http")?(v=d,p=d.substring(d.lastIndexOf("/")+1)):(p=d,v=cvjs_ServerUrl+"/converters/files/merged/"+p),cvjs_debug&&console.log("XXXX"+d+"XXX"));jQuery("#topDownloadButtonPane_"+a).show();cvjs_topDownloadButtonPane=
!0;jQuery("#downloadrow").show();jQuery("#downloadbutton").html('<a href="'+v+'" download="'+p+'"><button class="btn" style="width:70%"><i class="fa fa-download"></i> Download: <i><b>'+p+"</b></i> - with QR code</button></a>");jQuery("#downloadbutton").click(function(){jQuery("#topDownloadButtonPane_"+a).hide();cvjs_topDownloadButtonPane=!1;cvjs_gMenu_pos_y-=50;cvjs_resizeWindow_position("floorPlan");cvjs_resizeWindow_position("floorPlan");cvjs_mergeOnOff=!1});cvjs_gMenu_pos_y+=50;cvjs_resizeWindow_position("floorPlan");
cvjs_resizeWindow_position("floorPlan");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()},error:function(a){console.log("Error Merge "+a)}})}else d={},d.file=cvjs_ServerLocation+"/converters/files/merged/mergeQR_"+h+".png",d.file_content=u,d.base64=1,jQuery.ajax({url:t,type:"post",data:d,success:function(d){d=cvjs_serverHandlersPath+cvjs_serverMergeDWGController;var h={};h.base_file=cvjs_loaddrawing_FileNamePath[cvjs_active_floorplan_div_nr];f&&(h.base_file=currentLoadedDrawingFullName);
h.merge_file=n;h.out_file=cvjs_ServerLocation+"/converters/files/merged/"+p;h.zip_output="true";h.QR_code="true";console.log("base: "+h.base_file+" merge: "+h.merge_file+" out: "+h.out_file);console.log("zip_output: "+h.zip_output+" QR_code: "+h.QR_code);var q="";jQuery.ajax({url:d,type:"post",data:h,success:function(d){cvjs_debug&&console.log(d);q=cvjs_ServerUrl+"/converters/files/merged/"+p;-1<d.indexOf("<customoutfilename>")&&(d=d.substring(d.indexOf("<customoutfilename>")+19),d=d.substring(0,
d.indexOf("</customoutfilename>")),0==d.indexOf("http")?(q=d,p=d.substring(d.lastIndexOf("/")+1)):(p=d,q=cvjs_ServerUrl+"/converters/files/merged/"+p),cvjs_debug&&console.log("XXXX"+d+"XXX"));jQuery("#topDownloadButtonPane_"+a).show();cvjs_topDownloadButtonPane=!0;jQuery("#downloadrow").show();jQuery("#downloadbutton").html('<a href="'+q+'" download="'+p+'"><button class="btn" style="width:70%"><i class="fa fa-download"></i> Download: <i><b>'+p+"</b></i> - with QR code</button></a>");jQuery("#downloadbutton").click(function(){jQuery("#topDownloadButtonPane_"+
a).hide();cvjs_topDownloadButtonPane=!1;cvjs_gMenu_pos_y-=50;cvjs_resizeWindow_position("floorPlan");cvjs_resizeWindow_position("floorPlan");cvjs_mergeOnOff=!1});cvjs_gMenu_pos_y+=50;cvjs_resizeWindow_position("floorPlan");cvjs_resizeWindow_position("floorPlan");jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide()},error:function(a){console.log("Error Merge "+a)}})},error:function(a){console.log("Error Merge "+a)}})},error:function(a){console.log("Error Save "+a)}})}})},
error:function(a){console.log("Error Save "+a)}})}else jQuery("#topDownloadButtonPane_"+a).hide(),cvjs_topDownloadButtonPane=!1,cvjs_resizeWindow_position("floorPlan"),cvjs_resizeWindow_position("floorPlan")}
function cvjs_CompareFiles_setFileModalContent(a,d){cvjs_CompareFiles_CustomFileModalContent_flag=!0;cvjs_CompareFiles_CustomFileModalContent=a;cvjs_debug&&console.log("cvjs_CompareFiles_setFileModalContent "+cvjs_CompareFiles_CustomFileModalContent_flag+"  "+cvjs_CompareFiles_CustomFileModalContent);d=a.length;if(0<d){var f=a[0].url;var h=a[0].path;f=f.substring(0,f.lastIndexOf("/"));h=h.substring(0,h.lastIndexOf("/"));cvjs_debug&&console.log(d+"  "+a[0].url+"  "+a[0].path);cvjs_debug&&console.log(" url  "+
f+" serverpath "+h);cvjs_setServerFileLocation_AbsolutePaths(h+"/",f+"/","","")}}
function setUpVqRoomsGeneric(){vqBuilding="BUILDING_NAME_GOES_HERE";var a=id_publish_location.substring(id_publish_location.lastIndexOf("/")+1);vqFloor=a.substring(0,a.lastIndexOf("."));vqRooms[cvjs_active_floorplan_div_nr]=[];console.log("before "+cvjs_active_floorplan_div_nr+" called!");buildings=drawPathsGeneric(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_active_floorplan_div_nr,vqRooms,buildings);console.log("length "+vqRooms[cvjs_active_floorplan_div_nr].length);console.log("buildings "+buildings.BUILDING_NAME_GOES_HERE.floors.current_selected_shortname);
console.log("buildings "+buildings.BUILDING_NAME_GOES_HERE.FacMgr);setUpVqRooms(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_active_floorplan_div_nr)}var currentSelectedId=-1,cvjs_changeSpaceObject_ManualCreationMode=!0;
function cvjs_createSpaceOutput_JSfile_Legacy(){var a=id_publish_location.substring(id_publish_location.lastIndexOf("/")+1),d=a.substring(0,a.lastIndexOf("."));var f=cvjs_currentLoadedDrawingAsString.substring(0,cvjs_currentLoadedDrawingAsString.indexOf("var buildings"))+"\n var buildings = {\n";f=f+' \t BUILDING_NAME_GOES_HERE: {\n\t\tname: "'+building_name+'",\n';f=f+'\t\tcompany: "'+company+'",\n';f=f+'\t\taddress: "'+address+'",\n';f=f+'\t\tcity: "'+city+'",\n';f=f+'\t\tstate: "'+state+'",\n';
f=f+'\t\tzipcode: "'+zipcode+'",\n';f=f+'\t\tcountry: "'+country+'",\n';f=f+'\t\tFacMgr: "'+FacMgr_name+'",\n';f=f+'\t\tFacMgr_title: "'+FacMgr_title+'",\n';f=f+'\t\tFacMgr_email: "'+FacMgr_email+'",\n';f=f+'\t\tFacMgr_phone: "'+FacMgr_phone+'",\n';f+="\t\tfloors: {\n";n_str="space_"+d;n_str=n_str.replace(/[\|&;\$%@"<>\(\)\+?#,.]/g,"_");n_str=n_str.replace(/ /g,"_");vqfloor_name=n_str=n_str.replace(/-/g,"_");cvjs_debug&&console.log("vqfloor_name "+vqfloor_name);f=f+"\t\t\t"+vqfloor_name+" : {\n";
f=f+'\t\t\t\tname: "'+d+'",\n\t\t\t\tfile: "'+a+'",\n';f+="\t\t\t\trooms: {\n";a=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(1==vqRooms[cvjs_active_floorplan_div_nr][spc].data("deleted"))cvjs_debug&&console.log("file.js deleted node "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"));else{0==a?a=1:f+="\t\t\t\t\t\t,\n";f=f+"\t\t\t\t\t"+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+": {\n";f=f+'\t\t\t\t\t\tname: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("name")+'",\n';
f=isNaN(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"))?f+'\t\t\t\t\t\tid: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")+'",\n':f+"\t\t\t\t\t\tid: "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")+",\n";f=f+'\t\t\t\t\t\tlayer: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer")+'",\n';f=f+'\t\t\t\t\t\tgroup: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("group")+'",\n';f=f+'\t\t\t\t\t\toccupancy: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy")+
'",\n';f=f+'\t\t\t\t\t\ttype: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("type")+'",\n';d="{ ";for(var h=1,n=!0;10>h;){var p="tag"+h;"undefined"!==typeof vqRooms[cvjs_active_floorplan_div_nr][spc].data(p)&&-1==vqRooms[cvjs_active_floorplan_div_nr][spc].data(p).toString().indexOf("undefined")&&(n?(d=d+" "+h+': "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data(p)+'"',n=!1):d=d+" ,"+h+': "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data(p)+'"');h++}d+=" }";f=f+"\t\t\t\t\t\ttags:  "+d+", \n";
f+="\t\t\t\t\t\tattributes: [],\n";f=1==vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked")||0==vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked")?f+"\t\t\t\t\t\tlinked: "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked")+",\n":f+"\t\t\t\t\t\tlinked: false, \n";try{vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")&&(f=f+"\t\t\t\t\t\thandle: "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")+"\n"),""!=vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")&&
vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")!=vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")&&(handleUpdates++,dataHandleString=dataHandleString+"<updateHandle>\n<handle>"+vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")+"</handle>\n<altName>"+vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")+"</altName>\n</updateHandle>\n")}catch(q){console.log(q)}f+="\t\t\t\t\t}\n"}f+="\t\t\t\t\t}\n";f+="\t\t\t\t}\n";f+="\t\t\t}\n";f+="\t\t}\n";f+="\t}\n\n";f+='var vqBuilding = "BUILDING_NAME_GOES_HERE";\n';
f=f+'var vqFloor = "'+vqfloor_name+'";\n';f+="var vqRooms = new Array(); \n";f+="var vqTBorder = new Array(); \n";f+="var vqText = new Array(); \n";f+="var vqURLs = new Array(); \n";f+="function drawPaths (paper){ \n";f+="\n";f+="vqRooms.length = 0;\n";f+="vqTBorder.length = 0;\n";f+="vqText.length = 0;\n";f+="vqURLs.length = 0;\n";f+="\n";spc_counter=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])1==vqRooms[cvjs_active_floorplan_div_nr][spc].data("deleted")?cvjs_debug&&console.log(" -nodes.js deleted node "+
vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")):(spc_counter++,a="uItem"+spc_counter,d=vqRooms[cvjs_active_floorplan_div_nr][spc].toString(),-1<d.indexOf("path")?(d=d.substring(d.indexOf("d=")+3),d=d.substring(0,d.indexOf('"')),f=f+"var "+a+'= paper.path("',f=f+d+' ")\n.data("node","'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+'");\n',f=f+"vqRooms[cvjs_active_floorplan_div_nr].push("+a+");\n\n"):-1<d.indexOf("circle")?(h=d.indexOf(" cx="),h=d.substring(h+5),n=h.indexOf('"'),
cx=h.substring(0,n),h=d.indexOf(" cy="),h=d.substring(h+5),n=h.indexOf('"'),cy=h.substring(0,n),h=d.indexOf(" r="),d=d.substring(h+4),h=d.indexOf('"'),r=d.substring(0,h),f=f+"var "+a+"= paper.circle("+cx+","+cy+","+r+","+r+")",f=f+'\n.data("node","'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+'");\n',f=f+"vqRooms[cvjs_active_floorplan_div_nr].push("+a+");\n\n"):-1<d.indexOf("ellipse")?(h=d.indexOf(" cx="),h=d.substring(h+5),n=h.indexOf('"'),cx=h.substring(0,n),h=d.indexOf(" cy="),h=d.substring(h+
5),n=h.indexOf('"'),cy=h.substring(0,n),h=d.indexOf(" r="),d=d.substring(h+4),h=d.indexOf('"'),r=d.substring(0,h),f=f+"var "+a+"= paper.circle("+cx+","+cy+","+r+","+r+")",f=f+'\n.data("node","'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+'");\n',f=f+"vqRooms[cvjs_active_floorplan_div_nr].push("+a+");\n\n"):cvjs_debug&&console.log("note: not path, not circle, ..save not implemented! "+d));0<spc_counter&&(f+="}\n");a=cvjs_currentLoadedDrawingAsString.substring(cvjs_currentLoadedDrawingAsString.indexOf("var layer_thumb;"));
return f+=a}
function cvjs_createSpaceOutput_JSfile(){var a=id_publish_location.substring(id_publish_location.lastIndexOf("/")+1),d=a.substring(0,a.lastIndexOf("."));a='function drawPathsGeneric(paper, cvjs_active_floorplan_div_nr, vqRooms, buildings){ \n\n\n var buildings = {\n \t BUILDING_NAME_GOES_HERE: {\n\t\tname: "'+building_name+'",\n';a=a+'\t\tcompany: "'+company+'",\n';a=a+'\t\taddress: "'+address+'",\n';a=a+'\t\tcity: "'+city+'",\n';a=a+'\t\tstate: "'+state+'",\n';a=a+'\t\tzipcode: "'+zipcode+'",\n';
a=a+'\t\tcountry: "'+country+'",\n';a=a+'\t\tFacMgr: "'+FacMgr_name+'",\n';a=a+'\t\tFacMgr_title: "'+FacMgr_title+'",\n';a=a+'\t\tFacMgr_email: "'+FacMgr_email+'",\n';a=a+'\t\tFacMgr_phone: "'+FacMgr_phone+'",\n';a+="\t\tfloors: {\n";n_str=d;n_str=n_str.replace(/[\|&;\$%@"<>\(\)\+?#,.]/g,"_");n_str=n_str.replace(/ /g,"_");vqfloor_name=n_str=n_str.replace(/-/g,"_");cvjs_debug&&console.log("vqfloor_name "+vqfloor_name);a=a+"\t\t\t"+vqfloor_name+" : {\n";a=a+'\t\t\t\tname: "'+d+'",\n\t\t\t\tfile: "'+
d+'.js",\n\t\t\t\trooms: {\n';d=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(1==vqRooms[cvjs_active_floorplan_div_nr][spc].data("deleted"))cvjs_debug&&console.log("file.js deleted node "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node"));else{0==d?d=1:a+="\t\t\t\t\t\t,\n";a=a+"\t\t\t\t\t"+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+": {\n";a=a+'\t\t\t\t\t\tname: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("name")+'",\n';a=isNaN(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"))?
a+'\t\t\t\t\t\tid: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")+'",\n':a+"\t\t\t\t\t\tid: "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")+",\n";a=a+'\t\t\t\t\t\tlayer: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer")+'",\n';a=a+'\t\t\t\t\t\tgroup: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("group")+'",\n';a=a+'\t\t\t\t\t\toccupancy: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("occupancy")+'",\n';a=a+'\t\t\t\t\t\ttype: "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("type")+
'",\n';for(var f="{ ",h=1,n=!0;10>h;){var p="tag"+h;"undefined"!==typeof vqRooms[cvjs_active_floorplan_div_nr][spc].data(p)&&-1==vqRooms[cvjs_active_floorplan_div_nr][spc].data(p).toString().indexOf("undefined")&&(n?(f=f+" "+h+': "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data(p)+'"',n=!1):f=f+" ,"+h+': "'+vqRooms[cvjs_active_floorplan_div_nr][spc].data(p)+'"');h++}f+=" }";a=a+"\t\t\t\t\t\ttags:  "+f+", \n";a+="\t\t\t\t\t\tattributes: [],\n";a=1==vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked")||
0==vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked")?a+"\t\t\t\t\t\tlinked: "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("linked")+",\n":a+"\t\t\t\t\t\tlinked: false, \n";try{vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")&&(a=a+"\t\t\t\t\t\thandle: "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")+"\n"),""!=vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")&&vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")!=vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")&&
(handleUpdates++,dataHandleString=dataHandleString+"<updateHandle>\n<handle>"+vqRooms[cvjs_active_floorplan_div_nr][spc].data("handle")+"</handle>\n<altName>"+vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")+"</altName>\n</updateHandle>\n")}catch(q){console.log(q)}a+="\t\t\t\t\t}\n"}a+="\t\t\t\t\t}\n";a+="\t\t\t\t}\n";a+="\t\t\t}\n";a+="\t\t}\n";a+="\t}\n\n";a+="\n";spc_counter=0;for(spc in vqRooms[cvjs_active_floorplan_div_nr])1==vqRooms[cvjs_active_floorplan_div_nr][spc].data("deleted")?cvjs_debug&&
console.log(" -nodes.js deleted node "+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")):(spc_counter++,d="uItem"+spc_counter,f=vqRooms[cvjs_active_floorplan_div_nr][spc].toString(),-1<f.indexOf("path")?(f=f.substring(f.indexOf("d=")+3),f=f.substring(0,f.indexOf('"')),a=a+"var "+d+'= paper.path("',a=a+f+' ")\n.data("node","'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+'");\n',a=a+"vqRooms[cvjs_active_floorplan_div_nr].push("+d+");\n\n"):-1<f.indexOf("circle")?(h=f.indexOf(" cx="),
h=f.substring(h+5),n=h.indexOf('"'),cx=h.substring(0,n),h=f.indexOf(" cy="),h=f.substring(h+5),n=h.indexOf('"'),cy=h.substring(0,n),h=f.indexOf(" r="),f=f.substring(h+4),h=f.indexOf('"'),r=f.substring(0,h),a=a+"var "+d+"= paper.circle("+cx+","+cy+","+r+","+r+")",a=a+'\n.data("node","'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+'");\n',a=a+"vqRooms[cvjs_active_floorplan_div_nr].push("+d+");\n\n"):-1<f.indexOf("ellipse")?(h=f.indexOf(" cx="),h=f.substring(h+5),n=h.indexOf('"'),cx=h.substring(0,
n),h=f.indexOf(" cy="),h=f.substring(h+5),n=h.indexOf('"'),cy=h.substring(0,n),h=f.indexOf(" r="),f=f.substring(h+4),h=f.indexOf('"'),r=f.substring(0,h),a=a+"var "+d+"= paper.circle("+cx+","+cy+","+r+","+r+")",a=a+'\n.data("node","'+vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")+'");\n',a=a+"vqRooms[cvjs_active_floorplan_div_nr].push("+d+");\n\n"):cvjs_debug&&console.log("note: not path, not circle, ..save not implemented! "+f));a+="return (buildings);\n";a+="}\n";a+="\n";a+="jQuery(document).ready(function() { \n";
a+="\tsetUpVqRoomsGeneric(); \n";return a+="}); \n"}
function cvjs_loadSpaceObjectsUser(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,cvjs_debug&&console.log("cvjs_openRedlineLoadModal "),cvjs_fileLoaderRedlineMode=!0,cvjs_filename_list_status=3,filesonserver=0,fileload_offset_flag[cvjs_active_floorplan_div_nr]&&(fileload_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#cvjs_serverFileLoadModal").css({position:"fixed"}),jQuery("#cvjs_serverFileLoadModal").offset({left:150+
jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#attention_bitmap").hide(),jQuery("#SelectFloorPlan").hide(),jQuery("#SelectFloorPlanPanel").hide(),jQuery("#SelectFloorPlanEdit").hide(),jQuery("#SelectFloorPlanPanelEdit").hide(),jQuery("#cvjs_cvRoomTextLayersOnLoad").html(""),jQuery("#serverFileModalName").html(languageTable.languages[cvjs_currentLanguage].OpenSpaceObjectModal.Header),jQuery("#addFloorPlanTable").hide(),jQuery("#add_br_not_addFloorPlanTable").show(),jQuery("#addRedlineTable").hide(),
jQuery("#infoFileModalNameDrawing").html(languageTable.languages[cvjs_currentLanguage].OpenSpaceObjectModal.SpaceObjectFilename),jQuery("#editFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].OpenSpaceObjectModal.EditSpaceObjectInfo),jQuery("#infoFloorPlanInfoText").html(languageTable.languages[cvjs_currentLanguage].OpenSpaceObjectModal.SpaceObjectFilename),cvjs_debug&&console.log("cvjs_openRedlineLoadModal cvjs_loadServerFileList(3)"),cvjs_loadServerFileList(3))}
var cvjs_spaceObjectsRelativePath="",cvjs_filepathServerSpaceObjects="",cvjs_spaceObjectsAbsolutePathOnly=!1,cvjs_SpaceObjectUrl="";function cvjs_setSpaceObjectsAbsolutePath(a,d){cvjs_spaceObjectsRelativePath=a;cvjs_filepathServerSpaceObjects=d;cvjs_spaceObjectsAbsolutePathOnly=!0}function cvjs_setSpaceObjectUrl(a){cvjs_SpaceObjectUrl=a}
function cvjs_loadSpaceObjects(a){cvjs_loadRedlinesFileControllerFlag=!0;cvjs_debug&&console.log("cvjs_loadSpaceObjects cvjs_loadRedlinesFileControllerFlag"+cvjs_loadRedlinesFileControllerFlag);a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=void 0==a?0:cvjs_rPaperIndex(a);cvjs_debug&&console.log("!!!!!!!!!!!!!!!!!!!!!!!!   cvjs_loadStickyNotesRedlines "+cvjs_active_floorplan_div_nr+"  "+a);if(cvjs_loadRedlinesFileControllerFlag){a=cvjs_serverHandlersPath+cvjs_serverLoadFileControllerRedlines;
cvjs_debug&&console.log("brach 2 "+a+"  file="+cvjs_SpaceObjectUrl);var d={};d.file=cvjs_SpaceObjectUrl;jQuery.ajax({url:a,type:"post",async:!1,data:d,success:function(a){cvjs_debug&&console.log("Load redlines: "+a);cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_addInlineScript(a);stickynotesRedlines_loaded=!0},error:function(a){console.log("Error "+a)}})}else stickynotesRedlines_loaded=!1,0==current_redline_js_initialized?(current_redline_js_initialized=1,current_jsRedlinename=
cvjs_SpaceObjectUrl,cvjs_debug&&console.log("before loadJSbase redline "+cvjs_SpaceObjectUrl),loadJSbase(cvjs_SpaceObjectUrl)):(cvjs_debug&&console.log("replace "+current_jsRedlinename+"  "+cvjs_SpaceObjectUrl),replacejscssfile(current_jsRedlinename,cvjs_SpaceObjectUrl,"js"),current_jsRedlinename=cvjs_SpaceObjectUrl),cvjs_loadStickyNotesRedlinesTimer()}
var id_publish_location=cvjs_ServerLocation+"content/SpaceObjects/space_objects_01.js",id_datalayer2_name="Space ID",id_main_data_layer="cvjs_Data_Layer",id_main_data_template_type="Space",building_name="",company="",address="",city="",zipcode="",state="Test1",country="",FacMgr_name="Hello 2!",FacMgr_title="",FacMgr_email="",FacMgr_phone="",textLayer1,cvjs_supressPopUpModal=!1;function cvjs_supressPopUpModalMode(a){cvjs_setCreationMode(a,!1)}var cvjs_supressSingleSpaceHighLight=!1;
function cvjs_supressSingleSpaceHighlight(a){cvjs_supressSingleSpaceHighLight=a}function cvjs_addSpaceObjectDirectXY(a,d,f,h,n,p,q,t,u,v,w,x,A,y,B){cvjs_addFixedSizeCustomSpaceObjectXY(a,d,f,f,n,"",q,t,p,u,v,x,A,y,B);cvjs_highlightSpaceObjectDirect(a,f,w)}
var cvjs_addSpaceDWGFlag=!1,cvjs_addSpaceTextArrayFlag=!1,cvjs_addSpaceTextArray,cvjs_addSpaceScaleFactor=1,cvjs_textStyles,cvjs_scaleText,cvjs_hexColorText,cvjs_leftFactor,cvjs_spaceObjectDirect_svgx=0,cvjs_spaceObjectDirect_svgy=0,cvjs_spaceObjectDirect_dwgx=0,cvjs_spaceObjectDirect_dwgy=0;
function cvjs_addFixedSizeCustomSpaceObjectXY(a,d,f,h,n,p,q,t,u,v,w,x,A,y,B){cvjs_addSpaceDWGFlag=cvjs_addSpaceTextArrayFlag=!1;cvjs_addSpaceScaleFactor=1;null!=u&&1==u&&(cvjs_addSpaceDWGFlag=!0);null!=v&&(cvjs_addSpaceTextArrayFlag=!0,cvjs_addSpaceTextArray=v);null!=w&&(cvjs_addSpaceScaleFactor=w);null!=x&&(cvjs_textStyles=x);null!=A&&(cvjs_scaleText=A);null!=y&&(cvjs_hexColorText=y);null!=B&&(cvjs_leftFactor=B);cvjs_addSpaceDWGFlag?(v=multiPages[cvjs_active_floorplan_div_nr].currentPage,cvjs_spaceObjectDirect_dwgx=
q,cvjs_spaceObjectDirect_dwgy=t,u=cvjs_drawingCoordinates[v].SVG.lowerLeft.x+(q-cvjs_drawingCoordinates[v].DWG.lowerLeft.x)/(cvjs_drawingCoordinates[v].DWG.upperRight.x-cvjs_drawingCoordinates[v].DWG.lowerLeft.x)*(cvjs_drawingCoordinates[v].SVG.upperRight.x-cvjs_drawingCoordinates[v].SVG.lowerLeft.x),v=cvjs_drawingCoordinates[v].SVG.lowerLeft.y+(t-cvjs_drawingCoordinates[v].DWG.lowerLeft.y)/(cvjs_drawingCoordinates[v].DWG.upperRight.y-cvjs_drawingCoordinates[v].DWG.lowerLeft.y)*(cvjs_drawingCoordinates[v].SVG.upperRight.y-
cvjs_drawingCoordinates[v].SVG.lowerLeft.y),q=u,t=v,cvjs_spaceObjectDirect_svgx=u,cvjs_spaceObjectDirect_svgy=v):(cvjs_spaceObjectDirect_dwgy=cvjs_spaceObjectDirect_dwgx=0,cvjs_spaceObjectDirect_svgx=q,cvjs_spaceObjectDirect_svgy=t);a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_id=f;currentNode_name=h;currentNode_layer=p;currentNode_attributes=
currentNode_group="none";currentNode_attributeStatus="unpopulated";currentNode_type=n;currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked);cvjs_addHandleFunc_FixedSizeXY(d,f,h,n,q,t)}
function cvjs_moveFixedSizeCustomSpaceObjectXY(a,d,f,h){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();jQuery("#"+d).attr({path:"M"+f+","+h})}
function cvjs_addFixedSizeCustomSpaceObject(a,d,f,h,n,p){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_id=f;currentNode_name=h;currentNode_layer=p;currentNode_attributes=currentNode_group="none";currentNode_attributeStatus="unpopulated";currentNode_type=n;currentNode_tags="unassigned";currentNode_linked=!1;cvjs_setCurrentNodeValues(currentNode_underbar,
currentNode_name,currentNode_id,currentNode_layer,currentNode_group,currentNode_attributes,currentNode_attributeStatus,currentNode_type,currentNode_tags,currentNode_tags,currentNode_linked);cvjs_addHandleFunc_FixedSize(d,f,h,n)}function cvjs_drawSpaceObject_FixedSize(a,d,f,h){cvjs_addHandleFunc_FixedSize(a,d,f,h)}cvjs_customSpaceObjectName=cvjs_customSpaceObjectType=cvjs_customSpaceObjectId=cvjs_customSvgImagePath="";
function cvjs_addHandleFunc_FixedSizeXY(a,d,f,h,n,p){cvjs_customSvgImagePath=a;cvjs_customSpaceObjectId=d;cvjs_customSpaceObjectType=h;cvjs_customSpaceObjectName=f;tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=
cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});mouseMoveStickyNote=!1;stop_cvjs_create_fixed_rectangle_XY(n,p)}
function stop_cvjs_create_fixed_rectangle_XY(a,d){var f=1;f=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/600;cvjs_removeHandleFunc_FixedRectangle();cvjs_debug&&console.log("scaleNotescaleNotescaleNote "+f);var h=20*cvjs_addSpaceScaleFactor;
lastX_r=f*h*global_scale;lastY_r=f*h*global_scale;lastX_r_imageframe=f*h*.05*global_scale;0==cvjs_customSvgImagePath.length&&(lastY_r=0);f=f*h*.25*global_scale;tPath_r="M"+a+","+d;if(cvjs_addSpaceTextArrayFlag){var n=cvjs_addSpaceTextArray.length;h=lastY_r+f*n;tPath_r+="h"+lastX_r/global_scale+"v"+h/global_scale+"h"+-lastX_r/global_scale+"v"+(-h/global_scale+" Z")}else tPath_r+="h"+lastX_r/global_scale+"v"+lastY_r/global_scale+"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");cvjs_debug&&
console.log(tPath_r);h=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});for(var p=cvjs_rPaper[cvjs_active_floorplan_div_nr].image(cvjs_customSvgImagePath,a+lastX_r_imageframe/global_scale,d+lastX_r_imageframe/global_scale,Math.abs((lastX_r-2*lastX_r_imageframe)/global_scale),Math.abs((lastY_r-2*lastX_r_imageframe)/global_scale)),q={"text-font":"Dialog","font-family":"Dialog","font-size":"7pt","text-anchor":"start","font-weight":"normal","font-style":"italic",
stroke:"#88539B",fill:"#88539B"},t=n;3>t;t++)cvjs_addSpaceTextArray[t]="",cvjs_textStyles[t]=q,cvjs_hexColorText[t]="#FFFFFF",cvjs_scaleText[t]=.1;size_all=3;if(cvjs_addSpaceTextArrayFlag)for(d+=lastY_r/global_scale,q=a+lastX_r/global_scale*cvjs_leftFactor,t=0;t<size_all;t++)console.log("i="+t+"  "+cvjs_addSpaceTextArray[t]+"  "+d+"  "+a),0==t&&(fontheight1=f*n/global_scale*cvjs_scaleText[t],d+=fontheight1,newText1=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(q,d,cvjs_addSpaceTextArray[t]).attr(cvjs_textStyles[t]),
newText1.attr({"font-size":fontheight1}),strokewidth=fontheight1/15,newText1.attr({"stroke-width":strokewidth}),newText1.attr({stroke:cvjs_hexColorText[t]}),newText1.attr({fill:cvjs_hexColorText[t]}),newText1.attr({id:"cv_"+cvjs_currentNode_underbar+"_text1"})),1==t&&(fontheight1=f*n/global_scale*cvjs_scaleText[t],d+=1.05*fontheight1,newText2=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(q,d,cvjs_addSpaceTextArray[t]).attr(cvjs_textStyles[t]),newText2.attr({"font-size":fontheight1}),strokewidth=
fontheight1/15,newText2.attr({"stroke-width":strokewidth}),newText2.attr({stroke:cvjs_hexColorText[t]}),newText2.attr({fill:cvjs_hexColorText[t]}),newText2.attr({id:"cv_"+cvjs_currentNode_underbar+"_text2"})),2==t&&(fontheight1=f*n/global_scale*cvjs_scaleText[t],d+=1.05*fontheight1,newText3=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(q,d,cvjs_addSpaceTextArray[t]).attr(cvjs_textStyles[t]),newText3.attr({"font-size":fontheight1}),strokewidth=fontheight1/15,newText3.attr({"stroke-width":strokewidth}),
newText3.attr({stroke:cvjs_hexColorText[t]}),newText3.attr({fill:cvjs_hexColorText[t]}),newText3.attr({id:"cv_"+cvjs_currentNode_underbar+"_text3"}));h.attr({path:tPath_r});h.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});h.attr({id:"cv_"+cvjs_currentNode_underbar,"cvjs:node":cvjs_currentNode_underbar,"cvjs:roomId":cvjs_customSpaceObjectId,"cvjs:name":cvjs_customSpaceObjectName,"class":"cvjs_nodes","cvjs:type":cvjs_customSpaceObjectType});p.attr({id:"cv_"+cvjs_currentNode_underbar+
"_image"});cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,h);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("Rectangle");a=findFixture(cvjs_customSpaceObjectId);vqRooms[cvjs_active_floorplan_div_nr][a].data("svgx",cvjs_spaceObjectDirect_svgx);vqRooms[cvjs_active_floorplan_div_nr][a].data("svgy",cvjs_spaceObjectDirect_svgy);vqRooms[cvjs_active_floorplan_div_nr][a].data("dwgx",cvjs_spaceObjectDirect_dwgx);
vqRooms[cvjs_active_floorplan_div_nr][a].data("dwgy",cvjs_spaceObjectDirect_dwgy);vqRooms[cvjs_active_floorplan_div_nr][a].data("translatex",0);vqRooms[cvjs_active_floorplan_div_nr][a].data("translatey",0);var u={};jQuery("*[id]").each(function(){try{var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(u[a]||(u[a]=!0))}catch(B){console.log(B+" XX"+a+"XX")}});a=0;for(var v in u)try{var w=
jQuery("#"+v).attr("id");if(0==w.indexOf("cv_")&&0!=w.indexOf("cv_NODE")){d=0;0==w.indexOf("cv_")&&(d=w.substring(3));var x=parseInt(d);x>a&&(a=x)}}catch(A){console.log(A+" XX"+id+"XX")}a="cv_"+a;cvjs_rPaper[cvjs_active_floorplan_div_nr].group().attr({id:"cvjs_"+cvjs_customSpaceObjectId});jQuery("#cv_"+cvjs_currentNode_underbar+"_image").insertBefore("#cv_"+cvjs_currentNode_underbar);jQuery("#cvjs_"+cvjs_customSpaceObjectId).insertBefore("#cv_"+cvjs_currentNode_underbar+"_image");1==n&&jQuery("#cv_"+
cvjs_currentNode_underbar+"_text1").insertBefore("#cvjs_"+cvjs_customSpaceObjectId);2==n&&(jQuery("#cv_"+cvjs_currentNode_underbar+"_text1").insertBefore("#cvjs_"+cvjs_customSpaceObjectId),jQuery("#cv_"+cvjs_currentNode_underbar+"_text2").insertBefore("#cv_"+cvjs_currentNode_underbar+"_text1"));3==n&&(jQuery("#cv_"+cvjs_currentNode_underbar+"_text1").insertBefore("#cvjs_"+cvjs_customSpaceObjectId),jQuery("#cv_"+cvjs_currentNode_underbar+"_text2").insertBefore("#cv_"+cvjs_currentNode_underbar+"_text1"),
jQuery("#cv_"+cvjs_currentNode_underbar+"_text3").insertBefore("#cv_"+cvjs_currentNode_underbar+"_text2"));jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar));jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+"_image"));jQuery("#cv_"+cvjs_currentNode_underbar+"_image").css("pointer-events","none");1==n&&(jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+"_text1")),jQuery("#cv_"+cvjs_currentNode_underbar+
"_text1").css("pointer-events","none"));2==n&&(jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+"_text1")),jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+"_text2")),jQuery("#cv_"+cvjs_currentNode_underbar+"_text1").css("pointer-events","none"),jQuery("#cv_"+cvjs_currentNode_underbar+"_text2").css("pointer-events","none"));3==n&&(jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+
"_text1")),jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+"_text2")),jQuery("#cvjs_"+cvjs_customSpaceObjectId).append(jQuery("#cv_"+cvjs_currentNode_underbar+"_text3")),jQuery("#cv_"+cvjs_currentNode_underbar+"_text1").css("pointer-events","none"),jQuery("#cv_"+cvjs_currentNode_underbar+"_text2").css("pointer-events","none"),jQuery("#cv_"+cvjs_currentNode_underbar+"_text3").css("pointer-events","none"))}
function cvjs_addHandleFunc_FixedSize(a,d,f,h){cvjs_customSvgImagePath=a;cvjs_customSpaceObjectId=d;cvjs_customSpaceObjectType=h;cvjs_customSpaceObjectName=f;tPath_r="M"+firstX_r+","+firstY_r;tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();
global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;handleGroup=
cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});handleGroup.mousedown(stop_cvjs_create_fixed_rectangle);mouseMoveStickyNote=!1;handleGroup.mousemove(move_cvjs_create_fixed_rectangle)}
function cvjs_removeHandleFunc_FixedRectangle(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_create_fixed_rectangle=function(){flag_rectangle=!1;tRubberBand_r.attr({stroke:"#b00000",fill:"none"})},move_cvjs_create_fixed_rectangle=function(a,d,f){d+=document.body.scrollLeft;f+=document.body.scrollTop;a=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-
actualLLX[cvjs_active_floorplan_div_nr])/600;a*=cvjs_globalScaleNote;var h=20*a,n=18.5*a,p=1.5*a;h="M0,"+p+"h"+n+"v"+h+"h-"+h+"v-"+n+"h"+p+"v-"+p+" Z";0==mouseMoveStickyNote&&(tRubberBand_sn=cvjs_rPaper[cvjs_active_floorplan_div_nr].group(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(h).attr({stroke:"#000000","stroke-width":.5*a,fill:"none"})),mouseMoveStickyNote=!0);tTransform_c="T"+((d-delta_x)/global_scale+p)+","+((f-delta_y)/global_scale-p);tRubberBand_sn.attr({transform:tTransform_c})},stop_cvjs_create_fixed_rectangle=
function(a,d,f){tTransform_c="t0,0S"+h/100;tRubberBand_sn.attr({transform:tTransform_c,opacity:"0.0"});tRubberBand_sn.attr({fill:"none","fill-opacity":"0.0",stroke:"#000","stroke-opacity":"0.0"});tRubberBand_sn.remove();d+=document.body.scrollLeft;f+=document.body.scrollTop;var h=1;h=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/
600:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/600;h*=cvjs_globalScaleNote;cvjs_removeHandleFunc_FixedRectangle();firstX_r=d;firstY_r=f;lastX_r=20*h*global_scale;lastY_r=20*h*global_scale;tPath_r="M"+(firstX_r-delta_x)/global_scale+","+(firstY_r-delta_y)/global_scale;tPath_r+="h"+lastX_r/global_scale+"v"+lastY_r/global_scale+"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");cvjs_debug&&console.log("scaleNotescaleNotescaleNote "+h+"  "+tPath_r);a=cvjs_rPaper[cvjs_active_floorplan_div_nr].image(cvjs_customSvgImagePath,
(firstX_r-delta_x)/global_scale,(firstY_r-delta_y)/global_scale,Math.abs(lastX_r/global_scale),Math.abs(lastY_r/global_scale));d=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});d.attr({path:tPath_r});d.attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});d.attr({id:"cv_"+cvjs_currentNode_underbar,"cvjs:node":cvjs_currentNode_underbar,"cvjs:roomId":cvjs_customSpaceObjectId,"cvjs:name":cvjs_customSpaceObjectName,"class":"cvjs_nodes",
"cvjs:type":cvjs_customSpaceObjectType});a.attr({id:"cv_"+cvjs_currentNode_underbar+"_image"});jQuery("#cv_"+cvjs_currentNode_underbar+"_image").css("pointer-events","none");cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,d);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);cvjs_graphicalObjectCreated("Rectangle");var n={};jQuery("*[id]").each(function(){try{var a=jQuery(this).attr("id"),d="[id^="+floorplan_div_Array[cvjs_active_floorplan_div_nr]+
"]";jQuery("#"+a).parents(d).attr("id")==floorplan_div_Array[cvjs_active_floorplan_div_nr]&&(n[a]||(n[a]=!0))}catch(w){console.log(w+" XX"+a+"XX")}});a=0;for(var p in n)try{var q=jQuery("#"+p).attr("id");if(0==q.indexOf("cv_")&&0!=q.indexOf("cv_NODE")){d=0;0==q.indexOf("cv_")&&(d=q.substring(3));var t=parseInt(d);t>a&&(a=t)}}catch(u){console.log(u+" XX"+id+"XX")}a="cv_"+a;jQuery("#cv_"+cvjs_currentNode_underbar+"_image").insertBefore("#cv_"+cvjs_currentNode_underbar)};
function cvjs_deleteSpaceImageObject(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_changeSpaceObject_ManualCreationMode&&(cluster_host_flag=1,cvjs_supressPopUpModal=!0,cvjs_creationInputType=2,cvjs_setCreationMode(cvjs_supressPopUpModal,!0),hideOnlyPop(),cvjs_clearDrawing());icon_command_active=33}
function cvjs_resizeSpaceImageObject(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_changeSpaceObject_ManualCreationMode&&(cluster_host_flag=1,cvjs_supressPopUpModal=!0,cvjs_creationInputType=2,cvjs_setCreationMode(cvjs_supressPopUpModal,!0),hideOnlyPop(),cvjs_clearDrawing());icon_command_active=34}
var resize_node="",resize_rmid="",resize_image_height=0,resize_image_width=0,resize_image_x=0,resize_image_y=0,resize_path_d="",resize_color_layer,resize_fplan="";
function cvjs_addHandleFunc_ResizeImageSpace(a,d,f,h,n,p,q){resize_node=a;resize_rmid=d;resize_image_height=f;resize_image_width=h;resize_image_x=n;resize_image_y=p;resize_path_d=q;resize_fplan=floorplan_div_Array[cvjs_active_floorplan_div_nr];resize_fplan.lastIndexOf("_svg")==resize_fplan.length-4&&(resize_fplan=resize_fplan.substring(0,resize_fplan.length-4));resize_color_layer=cvjs_clearLayer(resize_color_layer);cvjs_highlightSpaceObjectIdDiv(resize_rmid,highlight_colorgrade_A_5,resize_color_layer,
resize_fplan);canvas_width=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();canvas_height=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();a=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();global_scale_X=canvas_width/viewBoxWidth[cvjs_active_floorplan_div_nr];global_scale_Y=canvas_height/viewBoxHeight[cvjs_active_floorplan_div_nr];global_scale=global_scale_X<global_scale_Y?global_scale_X:global_scale_Y;delta_x=(canvas_width-viewBoxWidth[cvjs_active_floorplan_div_nr]*
global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+a.left;delta_y=(canvas_height-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+a.top;lastY_r=f;lastX_r=h;firstX_r=n;firstY_r=p;tPath_r="M"+n+","+p;tPath_r+="h"+h+"v"+f+"h"+-h+"v"+-f+" Z";tRubberBand_r=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(tPath_r).attr({stroke:"#b00000",fill:"none"});handleGroup=cvjs_rPaper[cvjs_active_floorplan_div_nr].rect(actualLLX[cvjs_active_floorplan_div_nr],
actualLLY[cvjs_active_floorplan_div_nr],actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr],actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]).attr({fill:"#fff","fill-opacity":"0.01"});handleGroup.attr({transform:"T0,0S5.0"});console.log("BASE "+tPath_r+"  BASE ");handleGroup.drag(move_cvjs_resize_custom_image_rectangle,start_cvjs_resize_custom_image_rectangle,stop_cvjs_resize_custom_image_rectangle)}
function cvjs_removeHandleFunc_ResizeImageSpace(){handleGroup.selectAll("handler").remove();handleGroup.remove()}
var start_cvjs_resize_custom_image_rectangle=function(){tRubberBand_r.attr({stroke:"#b00000",fill:"none"})},move_cvjs_resize_custom_image_rectangle=function(a,d,f,h){tPath_r="M"+resize_image_x+","+resize_image_y;a=+resize_image_width+a/global_scale;d=+resize_image_height+d/global_scale;tPath_r+="h"+a+"v"+d+"h"+-a+"v"+-d+" Z";f="#cv_"+resize_node+"_image";h="#cv_"+resize_node;try{0<a&&jQuery(f).attr("width",a),0<d&&jQuery(f).attr("height",d),jQuery(h).attr("d",tPath_r)}catch(n){}tRubberBand_r.attr({path:tPath_r});
resize_color_layer=cvjs_clearLayer(resize_color_layer);cvjs_highlightSpaceObjectIdDiv(resize_rmid,highlight_colorgrade_A_5,resize_color_layer,resize_fplan)},stop_cvjs_resize_custom_image_rectangle=function(){defaultColor={fill:"#FFF","fill-opacity":"0.1",stroke:"#CCC","stroke-width":1,"stroke-linejoin":"round"};highlight={fill:"#a4d7f4","fill-opacity":"0.5",stroke:"#a4d7f4","stroke-width":3};selectColor={fill:"#5BBEF6","fill-opacity":"0.5",stroke:"#5BBEF6","stroke-width":3};tRubberBand_r.remove();
cvjs_removeHandleFunc_ResizeImageSpace();resize_color_layer=cvjs_clearLayer(resize_color_layer);cvjs_creationMode=cvjs_supressPopUpModal=!1;cvjs_standardHighLightColors=!0;for(var a in vqRooms[cvjs_active_floorplan_div_nr]){var d='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][a].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][a].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+
a+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+vqRooms[cvjs_active_floorplan_div_nr][a].data("type")+"</h4></td></tr></table>";dual_hbody_flag&&(-1<=parseInt(cvjs_currentNode_id)?jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody_2,
title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"})}hideOnlyPop();cvjs_clearDrawing()};
function cvjs_addFixedSizeImageSpaceObjectXY(a,d,f){cvjs_loadSpaceImage_UserConfiguration(a);cvjs_addFixedSizeCustomSpaceObjectXY(a,cvjs_loadSpaceImage_Location,cvjs_loadSpaceImage_ID,cvjs_loadSpaceImage_ID,cvjs_loadSpaceImage_Type,"",d,f)}function cvjs_addFixedSizeImageSpaceObject(a){cvjs_loadSpaceImage_UserConfiguration(a);cvjs_addFixedSizeCustomSpaceObject(a,cvjs_loadSpaceImage_Location,cvjs_loadSpaceImage_ID,cvjs_loadSpaceImage_ID,cvjs_loadSpaceImage_Type,"")}
function cvjs_addDragRectangleImageSpaceObject(a){cvjs_loadSpaceImage_UserConfiguration(a);cvjs_addRectangleCustomSpaceObject(a,cvjs_loadSpaceImage_Location,cvjs_loadSpaceImage_ID,cvjs_loadSpaceImage_ID,cvjs_loadSpaceImage_Type,"")}
function cvjs_initCADViewerPro_Section01(a){cvjs_devMode?jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p1_8_'+a+'"><area id="previousIconPage_p1_8_'+a+'" shape="rect" alt=""  coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p1_8_'+a+'" shape="rect" alt="" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage(\''+a+'\');"/><area id="layerList_p1_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" href="javascript:cvjs_LayerList();"/><area id="print_p1_8_'+
a+'" shape="rect" alt="" coords="32,29,57,53" href="javascript:cvjs_Print("'+a+'");"/><area id="zoomin_p1_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" href="javascript:cvjs_zoomIn("'+a+'");"/><area id="zoomout_p1_8_'+a+'" shape="rect" alt="" coords="32,57,56,80" href="javascript:cvjs_zoomOut();"/><area id="zoomextents_p1_8_'+a+'" shape="rect" alt=""  coords="6,84,29,107" href="javascript:cvjs_resetZoomPan();"/><area id="zoomwindow_p1_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" onclick="cvjs_zoomWindow();"  /><area id="toggle_p1_8_'+
a+'" shape="rect" alt="" coords="5,111,29,135" href="javascript:cvjs_toggleBlackWhite();"/><area id="background_p1_8_'+a+'" shape="rect" alt="" coords="32,111,57,135" href="javascript:cvjs_setBackgroundColor();"/><area id="fileload_p1_8_'+a+'" shape="rect" alt="" coords="5,138,29,161" href="javascript:cvjs_openFileLoadToServer();"/><area id="search_p1_8_'+a+'" shape="rect" alt="" coords="32,138,56,161" href="javascript:cvjs_interactiveSearchText();"/><area id="about_p1_8_'+a+'" shape="rect" alt=""  coords="5,164,29,188" href="javascript:cvjs_displayInformationModal_Mode(\'0\');"/><area id="layeroff_p1_8_'+
a+'" shape="rect" alt="" coords="32,164,56,188" href="javascript:cvjs_interactiveLayerOff();"/><area id="swap_p1_8_'+a+'" shape="rect" alt="" coords="5,191,29,216" href="javascript:cvjs_swapLayersInDrawing();"/><area id="alllayerson_p1_8_'+a+'" shape="rect" alt=""  coords="32,191,56,216" href="javascript:cvjs_allLayersInDrawingOn();"/><area id="measurement_p1_8_'+a+'" shape="rect" alt=""  coords="5,219,29,242" href="javascript:cvjs_Measurement();"/><area id="calibrate_p1_8_'+a+'" shape="rect" alt=""  coords="32,219,56,242" href="javascript:cvjs_calibrateMeasurement();"/><area id="bird_p1_8_'+
a+'" shape="rect" alt=""  coords="5,246,29,269" href="javascript:cvjs_displayMagnifyingGlass("'+a+'");"/><area area id="thickness_p1_8_'+a+'" shape="rect" alt=""  coords="32,246,56,269" href="javascript:cvjs_activateLineThicknessModal();"/></map>'):jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p1_8_'+a+'"><area id="previousIconPage_p1_8_'+a+'" shape="rect" alt=""  coords="6,5,20,20" onclick="cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p1_8_'+a+'" shape="rect" alt="" coords="41,5,56,20" onclick="cvjs_changeNextIconPage(\''+
a+'\');"/><area id="layerList_p1_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" onclick="cvjs_LayerList(\''+a+'\');"/><area id="print_p1_8_'+a+'" shape="rect" alt="" coords="32,29,57,53" onclick="cvjs_Print(\''+a+'\');"/><area id="zoomin_p1_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" onclick="cvjs_zoomIn(\''+a+'\');"/><area id="zoomout_p1_8_'+a+'" shape="rect" alt="" coords="32,57,56,80" onclick="cvjs_zoomOut(\''+a+'\');"/><area id="zoomextents_p1_8_'+a+'" shape="rect" alt=""  coords="6,84,29,107" onclick="cvjs_resetZoomPan(\''+
a+'\');"/><area id="zoomwindow_p1_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" onclick="cvjs_zoomWindow(\''+a+'\');"  /><area id="toggle_p1_8_'+a+'" shape="rect" alt="" coords="5,111,29,135" onclick="cvjs_toggleBlackWhite(\''+a+'\');"/><area id="background_p1_8_'+a+'" shape="rect" alt="" coords="32,111,57,135" onclick="cvjs_setBackgroundColor(\''+a+'\');"/><area id="fileload_p1_8_'+a+'" shape="rect" alt="" coords="5,138,29,161" onclick="cvjs_openFileLoadToServer(\''+a+'\');"/><area id="search_p1_8_'+
a+'" shape="rect" alt="" coords="32,138,56,161" onclick="cvjs_interactiveSearchText(\''+a+'\');"/><area id="about_p1_8_'+a+'" shape="rect" alt=""  coords="5,164,29,188" onclick="cvjs_displayInformationModal_Mode(\'0\');"/><area id="layeroff_p1_8_'+a+'" shape="rect" alt="" coords="32,164,56,188" onclick="cvjs_interactiveLayerOff(\''+a+'\');"/><area id="swap_p1_8_'+a+'" shape="rect" alt="" coords="5,191,29,216" onclick="cvjs_swapLayersInDrawing(\''+a+'\');"/><area id="alllayerson_p1_8_'+a+'" shape="rect" alt=""  coords="32,191,56,216" onclick="cvjs_allLayersInDrawingOn(\''+
a+'\');"/><area id="measurement_p1_8_'+a+'" shape="rect" alt=""  coords="5,219,29,242" onclick="cvjs_Measurement(\''+a+'\');"/><area id="calibrate_p1_8_'+a+'" shape="rect" alt=""  coords="32,219,56,242" onclick="cvjs_calibrateMeasurement(\''+a+'\');"/><area id="bird_p1_8_'+a+'" shape="rect" alt=""  coords="5,246,29,269" onclick="cvjs_displayMagnifyingGlass(\''+a+'\');"/><area area id="thickness_p1_8_'+a+'" shape="rect" alt=""  coords="32,246,56,269" onclick="cvjs_activateLineThicknessModal(\''+a+
"');\"/></map>");jQuery("#previousIconPage_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(22);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.PreviousPage);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",
jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#previousIconPage_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#nextIconPage_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.NextPage);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+20).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#nextIconPage_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#layerList_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(15);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerList);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+15)});jQuery("#layerList_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#print_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Print);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+39)});jQuery("#print_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#zoomin_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(12);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomIn);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+41)});jQuery("#zoomin_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#zoomout_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(13);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomOut);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+66)});jQuery("#zoomout_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#zoomextents_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomExtents);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+68)});jQuery("#zoomextents_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#zoomwindow_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.ZoomWindow);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+93)});jQuery("#zoomwindow_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#toggle_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(12);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Toggle);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+95)});jQuery("#toggle_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#background_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Background);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+120)});jQuery("#background_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#fileload_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.FileLoad);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+122)});jQuery("#fileload_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#search_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(12);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Search);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+147)});jQuery("#search_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#about_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.About);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+149)});jQuery("#about_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#layeroff_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LayerOff);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+174)});jQuery("#layeroff_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#swap_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.SwapLayers);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+176)});jQuery("#swap_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#alllayerson_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.AllLayersOn);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+201)});jQuery("#alllayerson_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#measurement_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Measurement);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+203)});jQuery("#measurement_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#calibrate_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(15);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.Calibrate);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+228)});jQuery("#calibrate_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#bird_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.BirdsEye);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+230)});jQuery("#bird_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#thickness_p1_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(15);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p1_8.LineThickness);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+255)});jQuery("#thickness_p1_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
cvjs_devMode?jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p2_8_'+a+'"><area id="previousIconPage_p2_8_'+a+'" shape="rect" alt="" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage(\''+a+'");\'/><area id="nextIconPage_p2_8_'+a+'" shape="rect" alt=""  coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage(\''+a+'\');"/><area id="saveredline_p2_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" href="javascript:cvjs_saveStickyNotesRedlinesUser();"/><area id="loadredline_p2_8_'+
a+'" shape="rect" alt="" coords="32,29,57,53" href="javascript:cvjs_loadStickyNotesRedlinesUser();"/><area id="deletesingle_p2_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" href="javascript:cvjs_deleteSingleRedline();"/><area id="deletelast_p2_8_'+a+'" shape="rect" alt="" coords="32,57,56,80" href="javascript:cvjs_deleteLastRedline();"/><area id="color_p2_8_'+a+'" shape="rect" alt="" coords="6,84,29,107" href="javascript:cvjs_setRedlineColor();"/><area id="thickness_p2_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" href="javascript:cvjs_setRedlineThickness();"/><area id="stickynote_p2_8_'+
a+'" shape="rect" alt="" coords="5,111,29,135" href="javascript:cvjs_drawStickyNote();"/><area id="clear_p2_8_'+a+'" shape="rect" alt="" coords="32,111,57,135" href="javascript:cvjs_clearCurrentRedline('+a+');"/><area id="freehand_p2_8_'+a+'" shape="rect" alt="" coords="5,138,29,161" href="javascript:cvjs_drawRedline_Freehand();"/><area id="cloud_p2_8_'+a+'" shape="rect" alt="" coords="32,138,56,161" href="javascript:cvjs_drawRedlineEllipseCloud();"/><area id="filledpolygon_p2_8_'+a+'" shape="rect" alt="" coords="5,164,29,188" href="javascript:cvjs_drawRedlineFilledPolygon();"/><area id="polyline_p2_8_'+
a+'" shape="rect" alt="" coords="32,164,56,188" href="javascript:cvjs_drawRedlinePolyline();"/><area id="filledrect_p2_8_'+a+'" shape="rect" alt="" coords="5,191,29,216" href="javascript:cvjs_drawRedlineFilledRectangle();"/><area id="rect_p2_8_'+a+'" shape="rect" alt="" coords="32,191,56,216" href="javascript:cvjs_drawRedlineRectangle();"/><area id="arrow_p2_8_'+a+'" shape="rect" alt="" coords="5,219,29,242" href="javascript:cvjs_drawRedlineArrow();"/><area id="text_p2_8_'+a+'" shape="rect" alt=""  coords="32,219,56,242" href="javascript:cvjs_drawRedlineText();"/><area id="extents_p2_8_'+
a+'" shape="rect" alt="" coords="5,246,29,269" href="javascript:cvjs_resetZoomPan();"/><area id="zoomwindow_p2_8_'+a+'" shape="rect" alt="" coords="32,246,56,269" href="javascript:cvjs_zoomWindow();"/></map>'):jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p2_8_'+a+'"><area id="previousIconPage_p2_8_'+a+'" shape="rect" alt="" coords="6,5,20,20" onclick="cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p2_8_'+a+'" shape="rect" alt=""  coords="41,5,56,20" onclick="cvjs_changeNextIconPage(\''+
a+'\');"/><area id="saveredline_p2_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" onclick="cvjs_saveStickyNotesRedlinesUser(\''+a+'\');"/><area id="loadredline_p2_8_'+a+'" shape="rect" alt="" coords="32,29,57,53" onclick="cvjs_loadStickyNotesRedlinesUser(\''+a+'\');"/><area id="deletesingle_p2_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" onclick="cvjs_deleteSingleRedline(\''+a+'\');"/><area id="deletelast_p2_8_'+a+'" shape="rect" alt="" coords="32,57,56,80" onclick="cvjs_deleteLastRedline(\''+
a+'\');"/><area id="color_p2_8_'+a+'" shape="rect" alt="" coords="6,84,29,107" onclick="cvjs_setRedlineColor(\''+a+'\');"/><area id="thickness_p2_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" onclick="cvjs_setRedlineThickness(\''+a+'\');"/><area id="stickynote_p2_8_'+a+'" shape="rect" alt="" coords="5,111,29,135" onclick="cvjs_drawStickyNote(\''+a+'\');"/><area id="clear_p2_8_'+a+'" shape="rect" alt="" coords="32,111,57,135" onclick="cvjs_clearCurrentRedline(\''+a+'\');"/><area id="freehand_p2_8_'+
a+'" shape="rect" alt="" coords="5,138,29,161" onclick="cvjs_drawRedline_Freehand(\''+a+'\');"/><area id="cloud_p2_8_'+a+'" shape="rect" alt="" coords="32,138,56,161" onclick="cvjs_drawRedlineEllipseCloud(\''+a+'\');"/><area id="filledpolygon_p2_8_'+a+'" shape="rect" alt="" coords="5,164,29,188" onclick="cvjs_drawRedlineFilledPolygon(\''+a+'\');"/><area id="polyline_p2_8_'+a+'" shape="rect" alt="" coords="32,164,56,188" onclick="cvjs_drawRedlinePolyline(\''+a+'\');"/><area id="filledrect_p2_8_'+a+
'" shape="rect" alt="" coords="5,191,29,216" onclick="cvjs_drawRedlineFilledRectangle(\''+a+'\');"/><area id="rect_p2_8_'+a+'" shape="rect" alt="" coords="32,191,56,216" onclick="cvjs_drawRedlineRectangle(\''+a+'\');"/><area id="arrow_p2_8_'+a+'" shape="rect" alt="" coords="5,219,29,242" onclick="cvjs_drawRedlineArrow(\''+a+'\');"/><area id="text_p2_8_'+a+'" shape="rect" alt=""  coords="32,219,56,242" onclick="cvjs_drawRedlineText(\''+a+'\');"/><area id="merge_p2_8_'+a+'" shape="rect" alt="" coords="5,246,29,269" onclick="cvjs_mergeDXFDWG(\''+
a+'\');"/><area id="publishpdf_p2_8_'+a+'" shape="rect" alt="" coords="32,246,56,269" onclick="cvjs_publishPDF(\''+a+"');\"/></map>");jQuery("#previousIconPage_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(22);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.PreviousPage);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#previousIconPage_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#nextIconPage_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.NextPage);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+20).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#nextIconPage_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#saveredline_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.SaveRedline);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+15)});jQuery("#saveredline_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#loadredline_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.LoadRedline);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+39)});jQuery("#loadredline_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#deletesingle_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.DeleteSingle);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+41)});jQuery("#deletesingle_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#deletelast_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.DeleteLast);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+66)});jQuery("#deletelast_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#color_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Color);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+68)});jQuery("#color_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#thickness_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(15);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Thickness);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+93)});jQuery("#thickness_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#stickynote_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.StickyNote);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+95)});jQuery("#stickynote_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#clear_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.ClearAll);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+120)});jQuery("#clear_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#freehand_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Freehand);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+122)});jQuery("#freehand_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#cloud_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Cloud);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+147)});jQuery("#cloud_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#filledpolygon_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(19);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.FilledPolygon);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+149)});jQuery("#filledpolygon_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#polyline_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Polyline);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+174)});jQuery("#polyline_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#filledrect_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.FilledRectangle);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+176)});jQuery("#filledrect_p2_8_"+
a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#rect_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Rectangle);tip[cvjs_active_floorplan_div_nr].show();
tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+201)});jQuery("#rect_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#arrow_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Arrow);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+203)});jQuery("#arrow_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#text_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.Text);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+228)});jQuery("#text_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#merge_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.MergeAsDXF);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+230)});jQuery("#merge_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#publishpdf_p2_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p2_8.PublishAsPDF);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+255)});jQuery("#publishpdf_p2_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p3_8_'+a+'"><area id="previousIconPage_p3_8_'+a+'" shape="rect" alt="" coords="6,5,20,20" onclick="cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p3_8_'+
a+'" shape="rect" alt="" coords="41,5,56,20" onclick="cvjs_changeNextIconPage(\''+a+'\');"/><area id="loadlink_p3_8_'+a+'" shape="rect" alt="" coords="5,56,29,79" onclick="cvjs_loadAllImageLinks(\''+a+'\');"/><area id="insertlink_p3_8_'+a+'" shape="rect" alt="" coords="32,57,57,80" onclick="cvjs_insertImageLink(\''+a+'\');"/><area id="savelink_p3_8_'+a+'" shape="rect" alt="" coords="5,83,29,107" onclick="cvjs_saveAllImageLinks(\''+a+'\');"/><area id="clearlink_p3_8_'+a+'" shape="rect" alt="" coords="32,83,56,107" onclick="cvjs_clearAllImageLinks(\''+
a+'\');"/><area id="quickcount_p3_8_'+a+'" shape="rect" alt="" coords="5,111,29,134" onclick="cvjs_quickCount(\''+a+'\');"/><area id="countsum_p3_8_'+a+'" shape="rect" alt="" coords="33,110,57,134" onclick="cvjs_showMeCounts(\''+a+'\');"/><area id="clearcount_p3_8_'+a+'" shape="rect" alt="" coords="5,136,29,161" onclick="cvjs_clearQuickCounts(\''+a+'\');"/><area id="free3_p3_8_'+a+'" shape="rect" alt="" coords="32,138,57,161" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="publishpdf_p3_8_'+
a+'" shape="rect" alt="" coords="32,246,56,269" onclick="cvjs_publishPDF(\''+a+'\');"/><area id="free2_p3_8_'+a+'" shape="rect" alt="" coords="32,28,56,53" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free4_p3_8_'+a+'" shape="rect" alt="" coords="5,164,29,188" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free5_p3_8_'+a+'" shape="rect" alt="" coords="32,164,56,188" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free6_p3_8_'+a+'" shape="rect" alt="" coords="5,191,29,216" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free7_p3_8_'+
a+'" shape="rect" alt="" coords="32,191,56,216" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free8_p3_8_'+a+'" shape="rect" alt="" coords="5,219,29,242" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free9_p3_8_'+a+'" shape="rect" alt="" coords="32,219,56,242" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free10_p3_8_'+a+'" shape="rect" alt="" coords="5,246,29,269" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free11_p3_8_'+a+'" shape="rect" alt="" coords="5,28,29,53" onclick="cvjs_displayInformationModal_Mode(\'1\');"/></map>');
jQuery("#previousIconPage_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(22);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.PreviousPage);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",
jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#previousIconPage_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#nextIconPage_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.NextPage);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+20).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#nextIconPage_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#loadlink_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.LoadLink);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+41)});jQuery("#loadlink_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#insertlink_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.InsertLink);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+66)});jQuery("#insertlink_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#savelink_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.SaveLink);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+68)});jQuery("#savelink_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#clearlink_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(15);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.ClearLink);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+93)});jQuery("#clearlink_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#quickcount_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.QuickCount);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+95)});jQuery("#quickcount_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#countsum_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.CountSum);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+120)});jQuery("#countsum_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#clearcount_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.ClearCount);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+122)});jQuery("#clearcount_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#publishpdf_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.PublishAsPDF);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+255)});jQuery("#publishpdf_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free3_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+147)});jQuery("#free3_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free2_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+39)});jQuery("#free2_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#free4_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",
jQuery("#gMenu_"+a).position().top+149)});jQuery("#free4_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free5_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+174)});jQuery("#free5_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free6_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+176)});jQuery("#free6_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free7_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.CollaborationTakeControl);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+201)});jQuery("#free7_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#free8_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",
jQuery("#gMenu_"+a).position().top+203)});jQuery("#free8_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free9_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+228)});jQuery("#free9_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free10_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(12);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+230)});jQuery("#free10_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free11_p3_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(12);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p3_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+0).css("top",jQuery("#gMenu_"+a).position().top+15)});jQuery("#free11_p3_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p4_8_'+a+'"><area id="previousIconPage_p4_8_'+a+'" shape="rect" alt="" coords="6,5,20,20" onclick="cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p4_8_'+a+'" shape="rect" alt="" coords="41,5,56,20" onclick="cvjs_changeNextIconPage(\''+a+'\');"/><area id="free3_p4_8_'+a+'" shape="rect" alt="" coords="5,138,29,161" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free4_p4_8_'+a+'" shape="rect" alt="" coords="32,138,56,161" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free5_p4_8_'+
a+'" shape="rect" alt="" coords="5,164,29,188" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free6_p4_8_'+a+'" shape="rect" alt="" coords="32,164,56,188" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free7_p4_8_'+a+'" shape="rect" alt="" coords="6,84,29,107" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free8_p4_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free9_p4_8_'+a+'" shape="rect" alt="" coords="5,111,29,135" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="free2_p4_8_'+
a+'" shape="rect" alt="" coords="32,111,57,135" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="compare1_p4_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" onclick="cvjs_compareDrawings_LoadSecondDrawing(\''+a+'\');"/><area id="compare3_p4_8_'+a+'" shape="rect" alt="" coords="32,29,57,53" onclick="cvjs_compareDrawings_ToggleDrawings(\''+a+'\');"/><area id="compare4_p4_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" onclick="cvjs_compareDrawings_ToggleDrawingOverlay(\''+a+'\');"/><area id="compare5_p4_8_'+
a+'" shape="rect" alt="" coords="32,57,56,80" onclick="cvjs_exitCompareDrawings(\''+a+'\');"/><area id="joincollab_p4_8_'+a+'" shape="rect" alt="" coords="5,191,29,216" onclick="cvjs_start_collab(\''+a+'\');"/><area id="makepresenter_p4_8_'+a+'" shape="rect" alt="" coords="32,191,56,216" onclick="cvjs_make_collab_presenter(\''+a+'\');"/><area id="clearcollab_p4_8_'+a+'" shape="rect" alt="" coords="5,219,29,242" onclick="cvjs_clear_collab_redline(\''+a+'\');"/><area id="stopcollab_p4_8_'+a+'" shape="rect" alt="" coords="32,219,56,242" onclick="cvjs_stop_collab(\''+
a+'\');"/><area id="extents_p4_8_'+a+'" shape="rect" alt="" coords="5,246,29,269" onclick="cvjs_resetZoomPan(\''+a+'\');"/><area id="zoomwindow_p4_8_'+a+'" shape="rect" alt="" coords="32,246,56,269" onclick="cvjs_zoomWindow(\''+a+"');\"/></map>");jQuery("#previousIconPage_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(22);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.PreviousPage);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#previousIconPage_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#nextIconPage_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.NextPage);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+20).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#nextIconPage_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#free3_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",
jQuery("#gMenu_"+a).position().top+122)});jQuery("#free3_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free4_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+147)});jQuery("#free4_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free5_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+149)});jQuery("#free5_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free6_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+174)});jQuery("#free6_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#free7_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",
jQuery("#gMenu_"+a).position().top+68)});jQuery("#free7_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free8_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+93)});jQuery("#free8_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free9_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.ClearCount);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+95)});jQuery("#free9_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#compare3_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareToggle);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+39)});jQuery("#compare3_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#compare1_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareLoad);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+15)});jQuery("#compare1_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free2_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.Free);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+120)});jQuery("#free2_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#compare4_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareToggleOverlay);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+41)});jQuery("#compare4_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#compare5_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CompareExit);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+66)});jQuery("#compare5_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#joincollab_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationJoinSession);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",
jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+176)});jQuery("#joincollab_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#makepresenter_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(19);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationTakeControl);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+201)});jQuery("#makepresenter_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#clearcollab_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationClearSession);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+203)});jQuery("#clearcollab_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#stopcollab_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.CollaborationLeaveSession);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+228)});jQuery("#stopcollab_p4_8_"+
a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#extents_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(13);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.ZoomExtents);tip[cvjs_active_floorplan_div_nr].show();
tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+230)});jQuery("#extents_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#zoomwindow_p4_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p4_8.ZoomWindow);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+255)});jQuery("#zoomwindow_p4_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});cvjs_devMode?jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p5_8_'+a+'"><area id="previousIconPage_p5_8_'+
a+'" shape="rect" alt="" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p5_8_'+a+'" shape="rect" alt="" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage(\''+a+'\');"/><area id="settings_p5_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" href="javascript:cvjs_spaceObjectSettings();"/><area id="mode_p5_8_'+a+'" shape="rect" alt="" coords="32,29,57,53" href="javascript:cvjs_changeSpaceObjectDisplayMode();"/><area id="load_p5_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" href="javascript:cvjs_loadDrawingsWithSpaceObjects();"/><area id="layerlist_p5_8_'+
a+'" shape="rect" alt="" coords="32,57,56,80" href="javascript:cvjs_LayerListSpaceObject();"/><area id="rect_p5_8_'+a+'" shape="rect" alt="" coords="6,84,29,107" href="javascript:cvjs_addRectangleSpaceObject();"/><area id="polygon_p5_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" href="javascript:cvjs_addPolygonSpaceObject();"/><area id="circle_p5_8_'+a+'" shape="rect" alt="" coords="5,111,29,135" href="javascript:cvjs_addCircleSpaceObject();"/><area id="copycircle_p5_8_'+a+'" shape="rect" alt="" coords="32,111,57,135" href="javascript:cvjs_copyCircleSpaceObject();"/><area id="delete_p5_8_'+
a+'" shape="rect" alt="" coords="5,138,29,161" href="javascript:cvjs_deleteSpaceObject();"/><area id="selectpolygon_p5_8_'+a+'" shape="rect" alt="" coords="32,138,56,161" href="javascript:cvjs_setSpacePolygonOnLayer();"/><area id="publish_p5_8_'+a+'" shape="rect" alt="" coords="5,164,29,188" href="javascript: cvjs_displaySpaceObjectsStructure();"/><area id="free1_p5_8_'+a+'" shape="rect" alt="" coords="32,164,56,188" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area id="free2_p5_8_'+
a+'" shape="rect" alt="" coords="5,191,29,216" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area id="layeroff_p5_8_'+a+'" shape="rect" alt="" coords="32,191,56,216" href="javascript:cvjs_interactiveLayerOff();"/><area id="swap_p5_8_'+a+'" shape="rect" alt="" coords="5,219,29,242" href="javascript:cvjs_swapLayersInDrawing();"/><area id="alllayerson_p5_8_'+a+'" shape="rect" alt="" coords="32,219,56,242" href="javascript:cvjs_allLayersInDrawingOn();"/><area id="zoomextents_p5_8_'+a+
'" shape="rect" alt="" coords="5,246,29,269" href="javascript:cvjs_resetZoomPan();"/><area id="zoomwindow_p5_8_'+a+'" shape="rect" alt="" coords="32,246,56,269" href="javascript:cvjs_zoomWindow();"/></map>'):jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p5_8_'+a+'"><area id="previousIconPage_p5_8_'+a+'" shape="rect" alt="" coords="6,5,20,20" onclick="cvjs_changePreviousIconPage(\''+a+'\');"/><area id="nextIconPage_p5_8_'+a+'" shape="rect" alt="" coords="41,5,56,20" onclick="cvjs_changeNextIconPage(\''+
a+'\');"/><area id="settings_p5_8_'+a+'" shape="rect" alt="" coords="5,29,29,53" onclick="cvjs_spaceObjectSettings(\''+a+'\');"/><area id="mode_p5_8_'+a+'" shape="rect" alt="" coords="32,29,57,53" onclick="cvjs_changeSpaceObjectDisplayMode(\''+a+'\');"/><area id="load_p5_8_'+a+'" shape="rect" alt="" coords="5,57,29,80" onclick="cvjs_loadDrawingsWithSpaceObjects(\''+a+'\');"/><area id="layerlist_p5_8_'+a+'" shape="rect" alt="" coords="32,57,56,80" onclick="cvjs_LayerListSpaceObject(\''+a+'\');"/><area id="rect_p5_8_'+
a+'" shape="rect" alt="" coords="6,84,29,107" onclick="cvjs_addRectangleSpaceObject(\''+a+'\');"/><area id="polygon_p5_8_'+a+'" shape="rect" alt="" coords="33,84,57,107" onclick="cvjs_addPolygonSpaceObject(\''+a+'\');"/><area id="circle_p5_8_'+a+'" shape="rect" alt="" coords="5,111,29,135" onclick="cvjs_addCircleSpaceObject(\''+a+'\');"/><area id="copycircle_p5_8_'+a+'" shape="rect" alt="" coords="32,111,57,135" onclick="cvjs_copyCircleSpaceObject(\''+a+'\');"/><area id="delete_p5_8_'+a+'" shape="rect" alt="" coords="5,138,29,161" onclick="cvjs_deleteSpaceObject(\''+
a+'\');"/><area id="selectpolygon_p5_8_'+a+'" shape="rect" alt="" coords="32,138,56,161" onclick="cvjs_setSpacePolygonOnLayer(\''+a+'\');"/><area id="publish_p5_8_'+a+'" shape="rect" alt="" coords="5,164,29,188" onclick=" cvjs_displaySpaceObjectsStructure(\''+a+'\');"/><area id="downloadsvg_p5_8_'+a+'" shape="rect" alt="" coords="32,164,56,188" onclick="cvjs_saveAsSVG(\''+a+'\');"/><area id="free2_p5_8_'+a+'" shape="rect" alt="" coords="5,191,29,216" onclick="cvjs_displayInformationModal_Mode(\'1\');"/><area id="layeroff_p5_8_'+
a+'" shape="rect" alt="" coords="32,191,56,216" onclick="cvjs_interactiveLayerOff(\''+a+'\');"/><area id="swap_p5_8_'+a+'" shape="rect" alt="" coords="5,219,29,242" onclick="cvjs_swapLayersInDrawing(\''+a+'\');"/><area id="alllayerson_p5_8_'+a+'" shape="rect" alt="" coords="32,219,56,242" onclick="cvjs_allLayersInDrawingOn(\''+a+'\');"/><area id="zoomextents_p5_8_'+a+'" shape="rect" alt="" coords="5,246,29,269" onclick="cvjs_resetZoomPan(\''+a+'\');"/><area id="zoomwindow_p5_8_'+a+'" shape="rect" alt="" coords="32,246,56,269" onclick="cvjs_zoomWindow(\''+
a+"');\"/></map>");jQuery("#previousIconPage_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(22);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.PreviousPage);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",
jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#previousIconPage_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#nextIconPage_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.NextPage);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+20).css("top",jQuery("#gMenu_"+a).position().top-12)});jQuery("#publish_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(13);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Publish);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+134)});jQuery("#publish_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#load_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Load);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+41)});jQuery("#load_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#settings_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Settings);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+12)});jQuery("#settings_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#selectobject_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(18);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.SelectObject);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+66)});jQuery("#selectobject_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#rect_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Rect);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+68)});jQuery("#rect_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#polygon_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(13);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Polygon);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+93)});jQuery("#polygon_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#circle_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(12);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Circle);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+95)});jQuery("#circle_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#copycircle_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.CopyCircle);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+120)});jQuery("#copycircle_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#delete_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplad_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(12);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Delete);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+122)});jQuery("#delete_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#layerlist_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(15);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.LayerList);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+66)});jQuery("#layerlist_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#mode_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Mode);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+39)});jQuery("#mode_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#selectpolygon_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(19);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.SelectPolygon);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+147)});jQuery("#selectpolygon_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#nextIconPage_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#downloadsvg_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");
tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.DownloadSVG);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+174)});jQuery("#downloadsvg_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#free1_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=
jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+174)});jQuery("#free1_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#free2_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(11);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.Free);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",
jQuery("#gMenu_"+a).position().top+176)});jQuery("#free2_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#layeroff_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(14);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.LayerOff);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+201)});jQuery("#layeroff_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#swap_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(10);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});
tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.SwapLayers);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left).css("top",jQuery("#gMenu_"+a).position().top+203)});jQuery("#swap_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#alllayerson_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);
cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.AllLayersOn);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+228)});jQuery("#alllayerson_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});
jQuery("#zoomextents_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(17);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.ZoomExtents);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+
a).position().left).css("top",jQuery("#gMenu_"+a).position().top+230)});jQuery("#zoomextents_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#zoomwindow_p5_8_"+a).mouseover(function(){try{tip[cvjs_active_floorplan_div_nr].hide()}catch(f){}var d=jQuery(this).attr("id").substring(16);cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);jQuery(this).css("cursor","pointer");tip[cvjs_active_floorplan_div_nr].css({position:"absolute"});tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].IconPage_p5_8.ZoomWindow);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#gMenu_"+a).position().left+73).css("top",jQuery("#gMenu_"+a).position().top+255)});jQuery("#zoomwindow_p5_8_"+a).mouseout(function(){tip[cvjs_active_floorplan_div_nr].hide()});jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p1"><area shape="rect" alt="" title="Previous Icon Page" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage("'+a+'");"/><area shape="rect" alt="" title="Next Icon Page" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage("'+
a+'");"/><area shape="rect" alt="" title="Layer List" coords="5,29,29,53" href="javascript:cvjs_LayerList();"/><area shape="rect" alt="" title="Print" coords="32,29,57,53" href="javascript:cvjs_Print();"/><area shape="rect" alt="" title="Zoom In" coords="5,57,29,80" href="javascript:cvjs_zoomIn("'+a+'");"/><area shape="rect" alt="" title="Zoom Out" coords="32,57,56,80" href="javascript:cvjs_zoomOut();"/><area shape="rect" alt="" title="Zoom Extents" coords="6,84,29,107" href="javascript:cvjs_resetZoomPan();"/><area shape="rect" alt="" title="Zoom Window" coords="33,84,57,107" href="javascript:cvjs_zoomWindow();"/><area shape="rect" alt="" title="About" coords="5,111,29,135" href="javascript:cvjs_displayInformationModal_Mode(\'0\');"/><area shape="rect" alt="" title="Background Color" coords="32,111,57,135" href="javascript:cvjs_setBackgroundColor();"/><area shape="rect" alt="" title="File Load" coords="5,138,29,161" href="javascript:cvjs_openFileLoadToServer();"/><area shape="rect" alt="" title="Search Text" coords="32,138,56,161" href="javascript:cvjs_interactiveSearchText();"/><area shape="rect" alt="" title="Free" coords="5,164,29,188" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Layer Off" coords="32,164,56,188" href="javascript:cvjs_interactiveLayerOff();"/><area shape="rect" alt="" title="Swap Layers" coords="5,191,29,216" href="javascript:cvjs_swapLayersInDrawing();"/><area shape="rect" alt="" title="All Layers On" coords="32,191,56,216" href="javascript:cvjs_allLayersInDrawingOn();"/><area shape="rect" alt="" title="Measurement" coords="5,219,29,242" href="javascript:cvjs_Measurement();"/><area shape="rect" alt="" title="Calibrate Measurement" coords="32,219,56,242" href="javascript:cvjs_calibrateMeasurement();"/><area shape="rect" alt="" title="Load Previous Page" coords="5,246,29,269" href="javascript:cvjs_previousPage();"/><area shape="rect" alt="" title="Load Next Page" coords="32,246,56,269" href="javascript:cvjs_nextPage();"/><area shape="rect" alt="" title="Load First Page" coords="5,273,29,297" href="javascript:cvjs_firstPage();"/><area shape="rect" alt="" title="Load Last Page" coords="32,273,56,297" href="javascript:cvjs_lastPage();"/></map>');
jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p2"><area shape="rect" alt="" title="Previous Icon Page" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage("'+a+'");"/><area shape="rect" alt="" title="Next Icon Page" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage("'+a+'");"/><area shape="rect" alt="" title="Save Redline" coords="5,29,29,53" href="javascript:cvjs_saveStickyNotesRedlinesUser();"/><area shape="rect" alt="" title="Load Redline" coords="32,29,57,53" href="javascript:cvjs_loadStickyNotesRedlinesUser();"/><area shape="rect" alt="" title="Delete Single Redline" coords="5,57,29,80" href="javascript:cvjs_deleteSingleRedline();"/><area shape="rect" alt="" title="Delete Last Redline" coords="32,57,56,80" href="javascript:cvjs_deleteLastRedline();"/><area shape="rect" alt="" title="Redline Color" coords="6,84,29,107" href="javascript:cvjs_setRedlineColor();"/><area shape="rect" alt="" title="Redline Thickness" coords="33,84,57,107" href="javascript:cvjs_setRedlineThickness();"/><area shape="rect" alt="" title="Make Stickynote" coords="5,111,29,135" href="javascript:cvjs_drawStickyNote();"/><area shape="rect" alt="" title="Free" coords="32,111,57,135" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Freehand Redline" coords="5,138,29,161" href="javascript:cvjs_drawRedline_Freehand();"/><area shape="rect" alt="" title="Redline Cloud" coords="32,138,56,161" href="javascript:cvjs_drawRedlineCloud();"/><area shape="rect" alt="" title="Redline Filled Polygon" coords="5,164,29,188" href="javascript:cvjs_drawRedlineFilledPolygon();"/><area shape="rect" alt="" title="Redline Polyline" coords="32,164,56,188" href="javascript:cvjs_drawRedlinePolyline();"/><area shape="rect" alt="" title="Redline Filled Rectangle" coords="5,191,29,216" href="javascript:cvjs_drawRedlineFilledRectangle();"/><area shape="rect" alt="" title="Redline Rectangle" coords="32,191,56,216" href="javascript:cvjs_drawRedlineRectangle();"/><area shape="rect" alt="" title="Redline Arrow" coords="5,219,29,242" href="javascript:cvjs_drawRedlineArrow();"/><area shape="rect" alt="" title="Redline Text" coords="32,219,56,242" href="javascript:cvjs_drawRedlineText();"/><area shape="rect" alt="" title="Load Previous Page" coords="5,246,29,269" href="javascript:cvjs_previousPage();"/><area shape="rect" alt="" title="Load Next Page" coords="32,246,56,269" href="javascript:cvjs_nextPage();"/><area shape="rect" alt="" title="Load First Page" coords="5,273,29,297" href="javascript:cvjs_firstPage();"/><area shape="rect" alt="" title="Load Last Page" coords="32,273,56,297" href="javascript:cvjs_lastPage();"/></map>');
jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p3"><area shape="rect" alt="" title="Previous Icon Page" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage("'+a+'");"/><area shape="rect" alt="" title="Next Icon Page" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage("'+a+'");"/><area shape="rect" alt="" title="Publish Space Object Structure" coords="5,29,29,53" href="javascript:cvjs_displaySpaceObjectsStructure();"/><area shape="rect" alt="" title="Load Floorplan and create Space Objects" coords="32,29,57,53" href="javascript:cvjs_loadDrawingsWithSpaceObjects();"/><area shape="rect" alt="" title="Settings" coords="5,57,29,80" href="javascript:cvjs_spaceObjectSettings();"/><area shape="rect" alt="" title="Select Object" coords="32,57,56,80" href="javascript:cvjs_SelectSpaceObject();"/><area shape="rect" alt="" title="Rectangle Space Object" coords="6,84,29,107" href="javascript:cvjs_addRectangleSpaceObject();"/><area shape="rect" alt="" title="Polygon Space Object" coords="33,84,57,107" href="javascript:cvjs_addPolygonSpaceObject();"/><area shape="rect" alt="" title="Circle Space Object" coords="5,111,29,135" href="javascript:cvjs_addCircleSpaceObject();"/><area shape="rect" alt="" title="Copy Circle Space Object" coords="32,111,57,135" href="javascript:cvjs_copyCircleSpaceObject();"/><area shape="rect" alt="" title="Delete Space Object" coords="5,138,29,161" href="javascript:cvjs_deleteSpaceObject();"/><area shape="rect" alt="" title="Free" coords="32,138,56,161" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Layer List" coords="5,164,29,188" href="javascript:cvjs_LayerListSpaceObject();"/><area shape="rect" alt="" title="Free" coords="32,164,56,188" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Free" coords="5,191,29,216" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Layer Off" coords="32,191,56,216" href="javascript:cvjs_interactiveLayerOff();"/><area shape="rect" alt="" title="cvjs_swapLayersInDrawing()" coords="5,219,29,242" href="javascript:cvjs_swapLayersInDrawing();"/><area shape="rect" alt="" title="All Layers On" coords="32,219,56,242" href="javascript:cvjs_allLayersInDrawingOn();"/><area shape="rect" alt="" title="Load Previous Page" coords="5,246,29,269" href="javascript:cvjs_previousPage();"/><area shape="rect" alt="" title="Load Next Page" coords="32,246,56,269" href="javascript:cvjs_nextPage();"/><area shape="rect" alt="" title="Load First Page" coords="5,273,29,297" href="javascript:cvjs_firstPage();"/><area shape="rect" alt="" title="Load Last Page" coords="32,273,56,297" href="javascript:cvjs_lastPage();"/></map>');
jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p1_3"><area shape="rect" alt="" title="Previous Icon Page" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage("'+a+'");"/><area shape="rect" alt="" title="Next Icon Page" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage("'+a+'");"/><area shape="rect" alt="" title="Layer List" coords="5,29,29,53" href="javascript:cvjs_LayerList();"/><area shape="rect" alt="" title="Print" coords="32,29,57,53" href="javascript:cvjs_Print();"/><area shape="rect" alt="" title="Zoom In" coords="5,57,29,80" href="javascript:cvjs_zoomIn("'+
a+'");"/><area shape="rect" alt="" title="Zoom Out" coords="32,57,56,80" href="javascript:cvjs_zoomOut();"/><area shape="rect" alt="" title="Zoom Extents" coords="6,84,29,107" href="javascript:cvjs_resetZoomPan();"/><area shape="rect" alt="" title="Zoom Window" coords="33,84,57,107" href="javascript:cvjs_zoomWindow();"/><area shape="rect" alt="" title="About" coords="5,111,29,135" href="javascript:cvjs_displayInformationModal_Mode(\'0\');"/><area shape="rect" alt="" title="Background Color" coords="32,111,57,135" href="javascript:cvjs_setBackgroundColor();"/><area shape="rect" alt="" title="File Load" coords="5,138,29,161" href="javascript:cvjs_openFileLoadToServer();"/><area shape="rect" alt="" title="Search Text" coords="32,138,56,161" href="javascript:cvjs_interactiveSearchText();"/><area shape="rect" alt="" title="Free" coords="5,164,29,188" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Layer Off" coords="32,164,56,188" href="javascript:cvjs_interactiveLayerOff();"/><area shape="rect" alt="" title="Swap Layers" coords="5,191,29,216" href="javascript:cvjs_swapLayersInDrawing();"/><area shape="rect" alt="" title="All Layers On" coords="32,191,56,216" href="javascript:cvjs_allLayersInDrawingOn();"/><area shape="rect" alt="" title="Measurement" coords="5,219,29,242" href="javascript:cvjs_Measurement();"/><area shape="rect" alt="" title="Calibrate Measurement" coords="32,219,56,242" href="javascript:cvjs_calibrateMeasurement();"/><area shape="rect" alt="" title="Free" coords="5,246,29,269" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Free" coords="32,246,56,269" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/></map>');
jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p2_3"><area shape="rect" alt="" title="Previous Icon Page" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage("'+a+'");"/><area shape="rect" alt="" title="Next Icon Page" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage("'+a+'");"/><area shape="rect" alt="" title="Save Redline" coords="5,29,29,53" href="javascript:cvjs_saveStickyNotesRedlinesUser();"/><area shape="rect" alt="" title="Load Redline" coords="32,29,57,53" href="javascript:cvjs_loadStickyNotesRedlinesUser();"/><area shape="rect" alt="" title="Delete Single Redline" coords="5,57,29,80" href="javascript:cvjs_deleteSingleRedline();"/><area shape="rect" alt="" title="Delete Last Redline" coords="32,57,56,80" href="javascript:cvjs_deleteLastRedline();"/><area shape="rect" alt="" title="Redline Color" coords="6,84,29,107" href="javascript:cvjs_setRedlineColor();"/><area shape="rect" alt="" title="Redline Thickness" coords="33,84,57,107" href="javascript:cvjs_setRedlineThickness();"/><area shape="rect" alt="" title="Make Stickynote" coords="5,111,29,135" href="javascript:cvjs_drawStickyNote();"/><area shape="rect" alt="" title="Free" coords="32,111,57,135" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Freehand Redline" coords="5,138,29,161" href="javascript:cvjs_drawRedline_Freehand();"/><area shape="rect" alt="" title="Redline Cloud" coords="32,138,56,161" href="javascript:cvjs_drawRedlineCloud();"/><area shape="rect" alt="" title="Redline Filled Polygon" coords="5,164,29,188" href="javascript:cvjs_drawRedlineFilledPolygon();"/><area shape="rect" alt="" title="Redline Polyline" coords="32,164,56,188" href="javascript:cvjs_drawRedlinePolyline();"/><area shape="rect" alt="" title="Redline Filled Rectangle" coords="5,191,29,216" href="javascript:cvjs_drawRedlineFilledRectangle();"/><area shape="rect" alt="" title="Redline Rectangle" coords="32,191,56,216" href="javascript:cvjs_drawRedlineRectangle();"/><area shape="rect" alt="" title="Redline Arrow" coords="5,219,29,242" href="javascript:cvjs_drawRedlineArrow();"/><area shape="rect" alt="" title="Redline Text" coords="32,219,56,242" href="javascript:cvjs_drawRedlineText();"/><area shape="rect" alt="" title="Free" coords="5,246,29,269" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Clear Visible Redlines" coords="32,246,56,269" href="javascript:cvjs_clearCurrentRedline();"/></map>');
jQuery("#cvjs_modals_"+a).append('<map name="cvjsToolbarMap_p3_3"><area shape="rect" alt="" title="Previous Icon Page" coords="6,5,20,20" href="javascript:cvjs_changePreviousIconPage("'+a+'");"/><area shape="rect" alt="" title="Next Icon Page" coords="41,5,56,20" href="javascript:cvjs_changeNextIconPage("'+a+'");"/><area shape="rect" alt="" title="Publish Space Object Structure" coords="5,29,29,53" href="javascript:cvjs_displaySpaceObjectsStructure();"/><area shape="rect" alt="" title="Load Floorplan and create Space Objects" coords="32,29,57,53" href="javascript:cvjs_loadDrawingsWithSpaceObjects();"/><area shape="rect" alt="" title="Settings" coords="5,57,29,80" href="javascript:cvjs_spaceObjectSettings();"/><area shape="rect" alt="" title="Select Object" coords="32,57,56,80" href="javascript:cvjs_SelectSpaceObject();"/><area shape="rect" alt="" title="Rectangle Space Object" coords="6,84,29,107" href="javascript:cvjs_addRectangleSpaceObject();"/><area shape="rect" alt="" title="Polygon Space Object" coords="33,84,57,107" href="javascript:cvjs_addPolygonSpaceObject();"/><area shape="rect" alt="" title="Cirle Space Object" coords="5,111,29,135" href="javascript:cvjs_addCircleSpaceObject();"/><area shape="rect" alt="" title="Copy Circle Space Object" coords="32,111,57,135" href="javascript:cvjs_copyCircleSpaceObject();"/><area shape="rect" alt="" title="Delete Space Object" coords="5,138,29,161" href="javascript:cvjs_deleteSpaceObject();"/><area shape="rect" alt="" title="Free" coords="32,138,56,161" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Layer List" coords="5,164,29,188" href="javascript:cvjs_LayerListSpaceObject();"/><area shape="rect" alt="" title="Free" coords="32,164,56,188" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Free" coords="5,191,29,216" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Layer Off" coords="32,191,56,216" href="javascript:cvjs_interactiveLayerOff();"/><area shape="rect" alt="" title="cvjs_swapLayersInDrawing()" coords="5,219,29,242" href="javascript:cvjs_swapLayersInDrawing();"/><area shape="rect" alt="" title="All Layers On" coords="32,219,56,242" href="javascript:cvjs_allLayersInDrawingOn();"/><area shape="rect" alt="" title="Free" coords="5,246,29,269" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/><area shape="rect" alt="" title="Free" coords="32,246,56,269" href="javascript:cvjs_displayInformationModal_Mode(\'1\');"/></map>')}
function cvjs_initCADViewerPro_Section02(a){jQuery("#cvjs_modals_"+a).append('<div id="cvjs_spaceObjectAdminSettings_'+a+'"></div><div id="cvjs_spaceObjectInputPanel_'+a+'"></div>');jQuery("#cvjs_spaceObjectAdminSettings_"+a).hide();jQuery("#cvjs_spaceObjectInputPanel_"+a).hide();jQuery("#cvjs_modals_"+a).append('<table id="floorPlanCanvasObjectSpace_table_'+a+'"><tr><td><canvas id="floorPlanCanvasObjectSpace_'+a+'" width="10" height="10"></canvas></td></tr></table>');jQuery("#cvjs_modals_"+a).append('<div id="floatCompareDrawingMenu_'+
a+'" class="compareDrawingbox1"><div class="compareDrawingbox1Text1" id="compareDrawingMenuText1_'+a+'">xxxxxxx</div><div class="compareDrawingbox1Text2" id="compareDrawingMenuText2_'+a+'"></div></div>');jQuery("#floatCompareDrawingMenu_"+a).css({"z-index":2});jQuery("#floatCompareDrawingMenu_"+a).css({display:"block"});jQuery("#floatCompareDrawingMenu_"+a).css({position:"absolute"});jQuery("#floatCompareDrawingMenu_"+a).css({overflow:"visible"});jQuery("#floatCompareDrawingMenu_"+a).draggable();
jQuery("#floatCompareDrawingMenu_"+a).hide()}
function cvjs_initCADViewerPro_Section03(a){var d='<table width="100%"><tr><td><a href="http://cadviewer.com"><img src="'+cvjs_imagesLocation+'logoJS.png" border="2" width="20" height="20" /></a></td><td cols="3"><td id="cvjs_imageObject">imageObject</td><td class="cvjs_modal_header_insert_image_info_1" id="imageNoteIcon3" onclick="cvjs_add_image(1);"   onmouseover="javascript:cvjs_showIconnoteTip(\''+languageTable.languages[cvjs_currentLanguage].ImageObjectModal.LoadImage+'\',3,1);" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" ><i class="fa fa-picture-o"></i></td><td class="cvjs_modal_header_insert_image_info_1" id="imageNoteIcon2" onclick="cvjs_delete_image(1);"  onmouseover="javascript:cvjs_showIconnoteTip(\''+
languageTable.languages[cvjs_currentLanguage].ImageObjectModal.RemoveImageNote+'\',2,1);" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();"><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_insert_image_info_2" id="imageNoteIcon1" onclick="cvjs_hide_image_note(1);" onmouseover="javascript:cvjs_showIconnoteTip(\''+languageTable.languages[cvjs_currentLanguage].ImageObjectModal.MinimizeImageNote+'\',1,1);" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();"><i class="fa fa-times"></i></td></tr></table>';
jQuery("#cvjs_modals_"+a).append('<div id="cvjs_floorPlanInsertImageEncapsulate_'+a+'"><table><tr><td><div id="cvjs_floorPlanInsertImageTop">'+d+'</div></tr></td><tr><td><div id="cvjs_floorPlanInsertImage"></div></td></tr></table></div>');cvjs_layerlistspaceModal_content='<table class="layerListTable" ><tr><td><div class="layerListHeader pagechangeListHeaderLayers"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_layerListTextHeaderSpace">'+
languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_layerlist_spaceobjects(\''+a+'\');"></div></td></tr><tr><td><canvas id="dummy" width="30" height="8"></canvas></td></tr><tr><td><canvas id="dummy" width="30" height="4"></canvas><input id="cvjs_layer_search_space_field" class="search cvjs_search" placeholder="'+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Search+
'" /><canvas id="dummy" width="30" height="4"></canvas><button id="cvjs_layer_sort_button_space" class="sort cvjs_sort" data-sort="layer">'+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Sort+'</button></td></tr><tr><td><canvas id="dummy" width="30" height="4"></canvas></td></tr><tr><td><ul class="list cvjs_list" id="layerlist_id_space"></ul><canvas id="dummy" width="30" height="20"></canvas><input id="cvjs_layer_settings_space_button1" class="cvjs_input" type="button_layer" name="Button3" value="'+
languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.AllLayerOn+'" onClick="modal_all_layer_on_space();" ><canvas id="dummy" width="30" height="20"></canvas><input id="cvjs_layer_settings_space_button2" class="cvjs_input" type="button_layer" name="Button3" value="'+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.AllLayerOff+'" onClick="modal_all_layer_off_space();" ><canvas id="dummy" width="30" height="20"></canvas><input id="cvjs_layer_settings_space_button3" class="cvjs_input" type="button_layer" name="Button3" value="'+
languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.SwapLayers+'" onClick="modal_swap_layers_on_off_space();" ></td></tr><tr><td><canvas id="dummy" width="5" height="4"><></td></tr></table>';jQuery("#cvjs_modals_"+a).append('<div id="layerListSpaceObject_'+a+'" class="cvjs_listwrapper"></div>');jQuery("#layerListSpaceObject_"+a).html(cvjs_layerlistspaceModal_content);cvjs_collabStartModal_content='<table class="collabStartModalanguageTable"><tr><td><div class="collabStartHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_CollabHeader">'+languageTable.languages[cvjs_currentLanguage].CollaborationStartModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_layerlist_spaceobjects(\''+a+'\');"><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_startcollabmodal(\''+a+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="10"></canvas><font id="collab_start_text">'+
languageTable.languages[cvjs_currentLanguage].CollaborationStartModal.Session+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="mySession" id="cvjs_collabSessionInput" class="cvjs_input_collabStartModal"><canvas id="dummy" width="70" height="5"></canvas><input id="cvjs_collabStart_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].CollaborationStartModal.OK+'" onClick="cvjs_start_collab_button();"><canvas id="dummy" width="10" height="10"></canvas></td></tr></table>';
jQuery("#cvjs_modals_"+a).append('<div class="collabStartModal" id="collabStartModal_'+a+'"></div>');jQuery("#collabStartModal_"+a).html(cvjs_collabStartModal_content);jQuery(function(){jQuery("#collabStartModal_"+a).draggable({containment:[jQuery("#"+a).position().left-cvjs_containmentModalLeft,jQuery("#"+a).position().top-cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#collabStartModal_"+a).width()+cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+
a).height()-jQuery("#collabStartModal_"+a).height()+cvjs_containmentModalBottom]})});cvjs_redlineColorModal_content='<table class="colorModalanguageTable"><tr><td><div class="colorModalHeader" id="colorModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_redlineColorHeader">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_color_modal_hide(\''+
a+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_redline_color_pickcolor">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.PickColor+'</font><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_colorPickerValue" value="FF0000" class="cvjs_inputRedlineColorModal jscolor {width:101, padding:10, shadow:false, borderWidth:0, backgroundColor:\'transparent\', insetColor:\'#000\',closable:true, closeText:\'Close Color Picker!\', onFineChange:\'cvjs_setRedlineColorFromPicker(this)\'}"><canvas id="dummy" width="20" height="10"></canvas><font id="cvjs_redline_color_selectcolor">'+
languageTable.languages[cvjs_currentLanguage].RedlineColorModal.SelectColor+'</font><canvas id="dummy" width="20" height="10"></canvas><input class="radioColor1" id="radioColor1_'+a+'" type="radio" name="radioColor" value="1" checked="checked"><img id="cvjs_radioColor1_img" src="'+cvjs_imagesLocation+'blue_color.png" border="1"/><label id="cvjs_radio1" for="radio1"><font id="cvjs_radio1_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Blue+'</font></label><canvas id="dummy" width="26" height="10"></canvas><input class="radioColor2" id="radioColor2_'+
a+'" type="radio" name="radioColor" value="2"><img id="cvjs_radioColor2_img" src="'+cvjs_imagesLocation+'red_color.png" border="1"/><label id="cvjs_radio2" for="radio2"><font id="cvjs_radio2_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Red+'</font></label></td></tr><tr><td><canvas id="dummy" width="303" height="10"></canvas><input class="radioColor3" id="radioColor3_'+a+'" type="radio" name="radioColor" value="3"><img id="cvjs_radioColor3_img" src="'+cvjs_imagesLocation+
'orange_color.png" border="1"/><label id="cvjs_radio3" for="radio3"><font id="cvjs_radio3_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Orange+'</font></label><canvas id="dummy" width="10" height="10"></canvas><input class="radioColor4" id="radioColor4_'+a+'" type="radio" name="radioColor" value="4"><img id="cvjs_radioColor4_img" src="'+cvjs_imagesLocation+'yellow_color.png" border="1"/><label id="cvjs_radio4" for="radio4"><font id="cvjs_radio4_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Yellow+
'</font></label></td></tr><tr><td><canvas id="dummy" width="303" height="10"></canvas><input class="radioColor5" id="radioColor5_'+a+'" type="radio" name="radioColor" value="5"><img id="cvjs_radioColor5_img" src="'+cvjs_imagesLocation+'green_color.png" border="1"/><label id="cvjs_radio5" for="radio5"><font id="cvjs_radio5_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Green+'</font></label><canvas id="dummy" width="17" height="10"></canvas><input class="radioColor6" id="radioColor6_'+
a+'" type="radio" name="radioColor" value="6"><img id="cvjs_radioColor6_img" src="'+cvjs_imagesLocation+'purple_color.png" border="1"/><label id="cvjs_radio6" for="radio6"><font id="cvjs_radio6_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Purple+'</font></label></td></tr><tr><td><canvas id="dummy" width="303" height="10"></canvas><input class="radioColor7" id="radioColor7_'+a+'" type="radio" name="radioColor" value="7"><img id="cvjs_radioColor7_img" src="'+cvjs_imagesLocation+
'gray_color.png" border="1"/><label id="cvjs_radio7" for="radio7"><font id="cvjs_radio7_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Gray+'</font></label><canvas id="dummy" width="24" height="10"></canvas><input class="radioColor8" id="radioColor8_'+a+'" type="radio" name="radioColor" value="8"><img id="cvjs_radioColor8_img" src="'+cvjs_imagesLocation+'brown_color.png" border="1"/><label id="cvjs_radio8" for="radio8"><font id="cvjs_radio8_text_red">'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.Brown+
'</font></label> </td></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_redlinecolor_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].RedlineColorModal.OK+'" onClick="cvjs_setRedlineColorViaButton(\''+a+'\');"><canvas id="dummy" width="10" height="10"></td></tr></table>';jQuery("#cvjs_modals_"+a).append('<div  class="colorModal"  id="colorModal_'+a+'"></div>');
jQuery("#colorModal_"+a).html(cvjs_redlineColorModal_content);cvjs_redlineEllipseModal_content='<table class="ellipseModalanguageTable"><tr><td><div class="ellipseModalHeader" id="ellipseModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_redlineEllipseHeader">'+languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_ellipse_modal_hide(\''+
a+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas><font id="cvjs_redline_ellipse_type">'+languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.SelectType+'</font><canvas id="dummy" width="20" height="10"></canvas><input class="radioEllipse1" id="radioEllipse1_'+a+'" type="radio" name="radioEllipse" value="1" checked="checked"><label id="cvjs_ellipse1" for="ellipse1"><font id="cvjs_redline_ellipse_textellipse">'+languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.Ellipse+
'</font></label></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas><input class="radioEllipse2" id="radioEllipse2_'+a+'" type="radio" name="radioEllipse" value="2"><label id="cvjs_ellipse2" for="radio2"><font id="cvjs_redline_ellipse_textcloud">'+languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.Cloud+'</font></label><canvas id="dummy" width="10" height="10"></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_ellipse_button" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].RedlineEllipseModal.OK+'" onClick="cvjs_drawEllipseViaButton(\''+a+'\');"><canvas id="dummy" width="10" height="10"></td></tr></table>';jQuery("#cvjs_modals_"+a).append('<div  class="ellipseModal"  id="ellipseModal_'+a+'"></div>');jQuery("#ellipseModal_"+a).html(cvjs_redlineEllipseModal_content);jQuery("#ellipseModal_"+a).hide();jQuery(function(){jQuery("#ellipseModal_"+a).draggable({containment:[jQuery("#"+a).position().left-cvjs_containmentModalLeft,
jQuery("#"+a).position().top-cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#ellipseModal_"+a).width()+cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+a).height()-jQuery("#ellipseModal_"+a).height()+cvjs_containmentModalBottom]})});cvjs_creationModeModal_content='<table class="creationModalanguageTable"><tr><td><div class="creationModalHeader" id="creationModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_redlineEllipseHeader">'+languageTable.languages[cvjs_currentLanguage].CreationModeModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_creation_modal_hide(\''+a+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="23"></canvas>'+languageTable.languages[cvjs_currentLanguage].CreationModeModal.SelectType+'<canvas id="dummy" width="20" height="10"></canvas><input class="radioCreation1" id="radioCreation1_'+
a+'" type="radio" name="radioCreation" value="1" checked="checked"><label id="cvjs_ellipse1" for="ellipse1">'+languageTable.languages[cvjs_currentLanguage].CreationModeModal.DataSource+'</label></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas><input class="radioCreation2" id="radioCreation2_'+a+'" type="radio" name="radioCreation" value="2"><label id="cvjs_ellipse2" for="radio2">'+languageTable.languages[cvjs_currentLanguage].CreationModeModal.Manually+'</label><canvas id="dummy" width="10" height="10"></tr><tr><td><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_ellipse_button" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].CreationModeModal.OK+'" onClick="cvjs_creation_modal_show(\''+a+'\');"><canvas id="dummy" width="10" height="10"></td></tr></table>';jQuery("#cvjs_modals_"+a).append('<div  class="creationModal"  id="creationModeModal_'+a+'"></div>');jQuery("#creationModeModal_"+a).html(cvjs_creationModeModal_content);jQuery("#collabStartModal_"+a).hide();cvjs_mergeDXFModal_content='<table class="mergeDXFModalanguageTable"><tr><td><div class="mergeDXFModalHeader" id="mergeDXFModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+
cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_mergeDXFHeader">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_mergeDXF_modal_hide(\''+a+'\');"></div></td></tr><tr><td><br><br><canvas id="dummy" width="10" height="10"></canvas><font id="cvjs_publish_dxf_selectmode">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.SelectMode+'</font><canvas id="dummy" width="20" height="10"></canvas><input class="radioMergeDXF1" id="radioMergeAsDXF1_'+
a+'" type="radio" name="radioColor" value="1" checked="checked"><label id="cvjs_mergedxfmode1" for="radio1">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Mode1+'</label><canvas id="dummy" width="26" height="10"></canvas><input class="radioMergeDXF2" id="radioMergeAsDXF2_'+a+'" type="radio" name="radioColor" value="2"><label id="cvjs_mergedxfmode2" for="radio2">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Mode2+'</label><canvas id="dummy" width="303" height="10"></canvas><input class="radioMergeDXF3" id="radioMergeAsDXF3_'+
a+'" type="radio" name="radioColor" value="3"><label id="cvjs_mergedxfmode3" for="radio3">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Mode3+'</label></td></tr><tr id="mergeDXFModal_row2_'+a+'" ><td><canvas id="dummy" width="10" height="10"></canvas><font id="cvjs_entiredoc_checkbox_text_dxf">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.EntireDoc+'</font><input type="checkbox" id="cvjs_entiredoc_checkbox" value="grayscale_status"></td></tr> <tr id="mergeDXFModal_row3_'+
a+'" ><td></td></tr> <tr class="mergeDXFModal_row4" id="mergeDXFModal_row4_'+a+'" ><td><table id="enter_email_content_table">         <tr><td><canvas id="dummy" width="10" height="20"></canvas><font id="cvjs_entiredoc_checkbox_text_recep_dxf">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Recipient+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="email" id="cvjs_mergeDXFemailrecipient_'+a+'" class="cvjs_mergeDXFemailrecipient"></td></tr>        <tr><td><canvas id="dummy" width="10" height="20"></canvas><font id="cvjs_entiredoc_checkbox_title_dxf">'+
languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Title+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="title" id="cvjs_mergeDXFemailtitle_'+a+'" class="cvjs_mergeDXFemailtitle"></td></tr>                <tr><td><canvas id="dummy" width="10" height="10"></canvas>    <table><tr><td><canvas id="dummy" width="10" height="10"></canvas><font id="cvjs_entiredoc_checkbox_message_dxf">'+languageTable.languages[cvjs_currentLanguage].MergeDXFModal.Message+'</font></td></tr><tr><td></td></tr></table>    <textarea class="cvjs_mergedxfmail_edit_text_1" id="mergedxfmail_text" cols="43" rows="3"></textarea></td></tr>                         </table></td></tr> <tr><td><canvas id="dummy" width="10" height="10"></canvas><input id="cvjs_publish_redline_to_dxf_button" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].MergeDXFModal.OK+'" onClick="cvjs_mergeDXFViaButton(\''+a+'\');"><canvas id="dummy" width="10" height="10"></td></tr><tr></tr></table>';jQuery("#cvjs_modals_"+a).append('<div  class="mergeDXFModal"  id="mergeDXFModal_'+a+'"></div>');jQuery("#mergeDXFModal_"+a).html(cvjs_mergeDXFModal_content);jQuery("#mergeDXFModal_"+a).hide();jQuery(function(){jQuery("#mergeDXFModal_"+a).draggable({containment:[jQuery("#"+a).position().left-cvjs_containmentModalLeft,
jQuery("#"+a).position().top-cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#colorModal_"+a).width()+cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+a).height()-jQuery("#colorModal_"+a).height()+cvjs_containmentModalBottom]})});cvjs_redlineThicknessModal_content='<table class="thicknessModalanguageTable"><tr><td><div class="thicknessHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+
'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_redlineThicknessHeader">'+languageTable.languages[cvjs_currentLanguage].RedlineThicknessModal.Header+'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_exit_redlinethicknessmodal(\''+a+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="24"></canvas><font id="cvjs_redline_thickness_thickness">'+languageTable.languages[cvjs_currentLanguage].RedlineThicknessModal.Thickness+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="3" id="cvjs_redlineThicknessInput_'+
a+'" class="cvjs_inputThicknessModal"><canvas id="dummy" width="70" height="5"></canvas><input id="cvjs_thickness_button" type="button" name="bPrint" value="'+languageTable.languages[cvjs_currentLanguage].RedlineThicknessModal.OK+'" onClick="cvjs_setRedlineThicknessViaButton(\''+a+'\');"><canvas id="dummy" width="10" height="10"></canvas></td></tr></table>';jQuery("#cvjs_modals_"+a).append('<div class="thicknessModal" id="thicknessModal_'+a+'"></div>');jQuery("#thicknessModal_"+a).html(cvjs_redlineThicknessModal_content);
jQuery("#thicknessModal_"+a).hide();jQuery(function(){jQuery("#thicknessModal_"+a).draggable({containment:[jQuery("#"+a).position().left-cvjs_containmentModalLeft,jQuery("#"+a).position().top-cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#thicknessModal_"+a).width()+cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+a).height()-jQuery("#thicknessModal_"+a).height()+cvjs_containmentModalBottom]})});jQuery("#cvjs_modals_"+a).append('<div id="imageObjectUpload_'+
a+'"><input id="upfile_image" type="file" value="upload" onchange="add_file_object_image(this)"/></div>');jQuery("#imageObjectUpload_"+a).hide();cvjs_redlinetextModal_content='<table class="redlinetextModalanguageTable"><tr><td><div class="redlinetextModalHeader"><a class="modalIconLogo" href="https://cadviewer.com"><img class="cvjs_img" src="'+cvjs_imagesLocation+'logoJS.png" /></a><div class="modalHeaderText"  id="cvjs_redlineTextHeader">'+languageTable.languages[cvjs_currentLanguage].RedlineTextModal.Header+
'</div><input class="cvjs_new_header_button" type="button" value="&times;" onClick="cvjs_hide_redline_text_modal(\''+a+'\');"></div></td></tr><tr><td><br><canvas id="dummy" width="10" height="24"></canvas><font id="cvjs_redline_text_fontsize">'+languageTable.languages[cvjs_currentLanguage].RedlineTextModal.FontSize+'</font><canvas id="dummy" width="10" height="10"></canvas><input value="11" id="cvjs_redlineFontSizeInput_'+a+'" class="cvjs_inputRedlineTextModal"><canvas id="dummy" width="70" height="5"></canvas><canvas id="dummy" width="10" height="10"></canvas></td></tr><tr><td><canvas id="dummy" width="10" height="76"></canvas><textarea class="cvjs_redlines_edit_text_1" id="redline_text" cols="33" rows="3"></textarea><canvas id="dummy" width="10" height="5"></canvas><input id="cvjs_redlinetext_button" type="button" name="bPrint" value="'+
languageTable.languages[cvjs_currentLanguage].RedlineTextModal.OK+'" onClick="cvjs_initiateInsertRedlineText(\''+a+'\');"></td></tr><tr><td><div id="cvjs_calibrationModalText"><canvas id="dummy" width="0" height="13"></canvas><font id="cvjs_redline_text_inserttext">'+languageTable.languages[cvjs_currentLanguage].RedlineTextModal.Text+"</font></div></td></tr></table>";jQuery("#cvjs_modals_"+a).append('<div class="redlinetextModal" id="redlinetextModal_'+a+'"></div>');jQuery("#redlinetextModal_"+a).html(cvjs_redlinetextModal_content);
jQuery(function(){jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).draggable({containment:[jQuery("#"+a).position().left-cvjs_containmentModalLeft,jQuery("#"+a).position().top-cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).width()+cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+a).height()-jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).height()+cvjs_containmentModalBottom]})});jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+
a).css("left",jQuery("#"+a).position().left+50).css("top",jQuery("#"+a).position().top+50);jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).hide();jQuery("#imageNoteIcon3_"+a).mouseover(function(){tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].ImageObject.InsertReplace);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).position().left+490).css("top",jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+
a).position().top-25)});jQuery("#imageNoteIcon2_"+a).mouseover(function(){tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].ImageObject.Delete);tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).position().left+500).css("top",jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).position().top-25)});jQuery("#imageNoteIcon1_"+a).mouseover(function(){tip[cvjs_active_floorplan_div_nr].html(languageTable.languages[cvjs_currentLanguage].ImageObject.Minimize);
tip[cvjs_active_floorplan_div_nr].show();tip[cvjs_active_floorplan_div_nr].css("left",jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).position().left+535).css("top",jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+a).position().top-25)});jQuery(function(){jQuery("#layerListSpaceObject_"+a).draggable({containment:[jQuery("#"+a).position().left-2*cvjs_containmentModalLeft,jQuery("#"+a).position().top-2*cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#layerListSpaceObject_"+
a).width()+2*cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+a).height()-jQuery("#layerListSpaceObject_"+a).height()+2*cvjs_containmentModalBottom]})});jQuery("#layerListSpaceObject_"+a).css("position","absolute");jQuery("#layerListSpaceObject_"+a).hide();jQuery("#layerlist_id_space_"+a).mouseover(function(){jQuery("#layerListSpaceObject_"+a).draggable({disabled:!0})});jQuery("#layerlist_id_space_"+a).mouseout(function(){jQuery("#layerListSpaceObject_"+a).draggable({disabled:!1})});
jQuery("#exit_layerlist_space").click(function(){cvjs_layerListSpace.clear();jQuery("#layerListSpaceObject").hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1});jQuery("#exit_layerlist_space").mouseover(function(){jQuery("#exit_layerlistSpaceObject").css("filter","alpha(opacity=70)");jQuery("#exit_layerlistSpaceObject").css("opacity","0.7")});jQuery("#exit_layerlist_space").mouseout(function(){jQuery("#exit_layerlistSpaceObject").css("filter","alpha(opacity=100)");jQuery("#exit_layerlistSpaceObject").css("opacity",
"1.0")});jQuery(function(){jQuery("#redlinetextModal_"+a).draggable({containment:[jQuery("#"+a).position().left-cvjs_containmentModalLeft,jQuery("#"+a).position().top-cvjs_containmentModalTop,jQuery("#"+a).position().left+jQuery("#"+a).width()-jQuery("#redlinetextModal_"+a).width()+cvjs_containmentModalRight,jQuery("#"+a).position().top+jQuery("#"+a).height()-jQuery("#redlinetextModal_"+a).height()+cvjs_containmentModalBottom]})});jQuery("#redlinetextModal_"+a).hide()}
function cvjs_initCADViewerPro_FileLoadModal(a){var d='<table  class="cvjs_serverFileLoadModalanguageTable" id="cvjs_serverFileLoadModal_table" ><tr><td><div id="cvjs_serverFileLoadModal" class="measurement_modal-body" ><div class="cadviewer_modal-content"><div class="cadviewer_modal-header"><table><tr><td><a class="modalIconLogoFileModal" href="https://cadviewer.com"><img src="'+cvjs_imagesLocation+'logoJS.png" width="30" height="30" alt="CADViewer Logo" /></a></td><td><canvas id="dummy" width="10" height="10"></canvas></td><td><h4><div class="modalHeaderTextFileModal" id="serverFileModalName">XXX</div></h4></td><td></td></tr></table><div id="cvjs_FileModalXButton"><input class="cvjs_new_header_button_filemodal" type="button" value="&times;" onClick="cvjs_exitServerFileLoadModal(\''+
a+'\');"></div></div><hr id="id_filemodal_hr"class="cvjs_filemodal_hr">';d+='<div id="modalHeaderAdjustment">x<div><div id="SelectFloorPlanPanel"><div id="add_br_not_addFloorPlanTable""><br></div><div id="addFloorPlanTable"><table id="" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td class="fb_12"><img class="select_file_image" id="select_file" src="'+cvjs_imagesLocation+'tools/addDrawing.png" border="0" width="497" height="29" alt="Select File" /><div style=\'height: 0px;width: 0px; overflow:hidden;\'><input id="cvjs_upfile" type="file" multiple value="Reset form" onchange="cvjs_add_file_object(\'cvjs_upfile\');"/></div></td></tr><tr height="10"><td height="10"><img id="dummy2" src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td height="10"><img id="dummy2" src="'+cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td></tr></table></div>';d+='<div id="addRedlineTable"><table id="select_save_changes" width="100%" border="0" cellspacing="0" border-spacing="0" ><tr><td><img src="'+cvjs_imagesLocation+'5x5.png" border="1" width="3" height="3" /></td><td class="select_tag_text_upload_redline">'+languageTable.languages[cvjs_currentLanguage].SaveRedlineModal.Upload+
'</td><td><div id="inputRedlineFileName">Name goes here</div></td><td><div id="button2-no_upload_redline"><img id="uploadredline_modal_cancel_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Cancel_Inactive_4.png" border="0"></div></td><td><td><div style="width: 111px" ><div id="button1-upload_redline"><img id="uploadredline_modal_proceed_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Proceed_111x28_Up.png" border="0"></div></div></td><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="30" height="10" /></td></tr><tr><td><img src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="10" height="20" /></td></tr></table></div>';d+='<table id="filterByInfoTablex" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td class="fb_112"><div id="cvjs_cvRoomTextLayersOnLoad" class="select_tag_text_top"></div></td></tr></table>';d=cvjs_fileModalEditMode?d+('<table id="filterByInfoTable" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'5x5.png" border="1" width="3" height="3" /></td><td class="fb_112"><div id="infoFileModalNameDrawing" class="select_tag_text_top">DRAWING / FILENAME</div></td><td class="fb_3"><div id="editing" class="select_tag_text_blue">Edit</div></td><td><img src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="7" height="7" /></td></tr></table><div class="cvjs_filemodal_horizontal_line"></div>'):d+('<table id="filterByInfoTable" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'5x5.png" border="1" width="3" height="3" /></td><td class="fb_112"><div id="infoFileModalNameDrawing" class="select_tag_text_top">DRAWING / FILENAME</div></td><td class="fb_3"><div id="editing" class="select_tag_text_blue"></div></td><td><img src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="7" height="7" /></td></tr></table><div class="cvjs_filemodal_horizontal_line"></div>');d+='<div id="attention_bitmap" ><table id="filterByTable_attention" width="100%" border="0" cellspacing="0" border-spacing="0"><tr><td><img src="'+cvjs_imagesLocation+'10x10y.png" border="1" width="10" height="10" /></td><td class="fb_11"><div id="attention_1" class="select_file_text_attention">Attention</div></td><td class="fb_11"><div style="float:right;margin-right:18px;margin-top:0px;" id="CloseAttentionBitmap"><img src="'+
cvjs_imagesLocation+'crossXy.png" border="0"></div></td></tr></table>';d+='<table id="filterByInfoTable_attention" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'10x10y.png" border="1" width="10" height="10" /></td><td class="fb_1"><div id="attention_2" class="select_tag_text_attention">For best results, use a vector drawing or a grayscale bitmap to ensure legibility.</div></td></tr><tr><td><img src="'+cvjs_imagesLocation+'6x6y.png" border="1" width="6" height="6" /></td></tr></table><div class="horizontal_line_yellow"></div></div>';
d+='<div id="SelectFloorPlan">';for(i=1;i<=cvjs_maxfiles;i++)d+='<div id="1floor'+i+'" ><table id="filterByTableFileInput" width="100%" border="0" cellspacing="0" border-spacing="0"><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td class="fb_11"><div id="1floor'+i+'_1" class="select_file_text">Floor Tag</div></td></tr></table><table id="filterByInfoTable" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+
cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10"/></td><td class="fb_1"><div id="1floor'+i+'_2" class="select_tag_text">filename1.ext</div></td></tr></table><div class="horizontal_dotted_line"></div></div>';d=d+"<br><br></div></div>"+('<div id="modalHeaderAdjustment">x<div><div id="SelectFloorPlanPanelEdit"><table id="filterByInfoTable" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'5x5.png" border="1" width="1" height="3" /></td><td class="fb_112"><div id="editFloorPlanInfoText" class="select_tag_text_top_big">Edit Floor Plan Info</div></td></tr></table>');
d+='<div id="modalHeaderAdjustment">x<div><table id="filterByInfoTable" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'5x5.png" border="1" width="3" height="3" /></td><td class="fb_112"><div id="infoFloorPlanInfoText" class="select_tag_text_top">DRAWING / FILENAME</div></td><td class="fb_3"><div id="done_editing" class="select_tag_text_blue">Done Editing</div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="0" width="7" height="7" /></td></tr></table><div id="id__filemodal_horizontal_line" class="cvjs_filemodal_horizontal_line"></div>';
d+='<div id="xsortable"><div id="SelectFloorPlanEdit">';for(i=1;i<=cvjs_maxfiles;i++)d+='<div id="2floor'+i+'"><table id="filterByTable2" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td style="padding-left:6px;cursor:ns-resize;"><img src="'+cvjs_imagesLocation+'tools/FlrPlanReorderGrip2.png" border="1" width="27" height="44" /></td><td class="fb_112"><div id="2floor'+i+'_1" class="select_file_text_2a">Floor Tag</div><div id="2floor'+i+'_4" class="display_tag_text2">filename1.ext</div></td><td class="fb_22"><div id="2floor'+
i+'_2" class="rename_tag_text_blue1">Rename</div></td><td><img src="'+cvjs_imagesLocation+'blueDot.png" border="0" width="12" height="17" /></td><td class="fb_22_2"><div id="2floor'+i+'_2_2" class="unlink_tag_text_blue1">Unlink</div></td><td><img src="'+cvjs_imagesLocation+'blueDot.png" border="0" width="12" height="17" /></td><td class="fb_22_3"><div id="2floor'+i+'_2_3" class="clear_tag_text_blue1">Clear</div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><img src="'+
cvjs_imagesLocation+'5x5.png" border="1" width="3" height="3" /></td><td><div id="2floor'+i+'_3" class="delete_tag_image"><img id="2floor'+i+'_3_image" src="'+cvjs_imagesLocation+'tools/Trash_2.png" border="0" width="14" height="17"></div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td></table><div class="horizontal_dotted_line"></div></div>';d+="</div></div></div></td></tr></table>";cvjs_modalsInitialized_FileLoadModal&&(jQuery("#cvjs_serverFileLoadModal_table").remove(),
cvjs_modalsInitialized_FileLoadModal=!1);cvjs_modalsInitialized_FileLoadModal||(jQuery("#cvjs_modals_"+a).append(d),jQuery("#cvjs_modals_"+a).append('<form id="delete_form" style="display:none"><table width="100%" border="0" cellspacing="0" border-spacing="0" ><tr></tr><tr><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div id="delete_Modal_header" class="select_file_text_modal">Delete</div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div class=\'select_file_text_close\'><div id="modal_close_cross">&times;</div></div></td></tr></table><div class="horizontal_modal_line"></div><table id="text_modal_table" class="text_modal_table_class" width="100%" border="0" cellspacing="0" border-spacing="0" ><tr><td><img src="'+
cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div class="select_tag_text_modal"><div id="delete_modal_file_name1">Delete</div></div></td></tr></table><table id="select_save_changes" width="100%" border="0" cellspacing="0" border-spacing="0" ><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="5" height="5" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><img src="'+
cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><div style="width: 60px" ><div id="button2-nodelete"><img id="delete_modal_cancel_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Cancel_Inactive_4.png" border="0"></div></div></td><td><td div style="height: 10px" ><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td><div style="width: 111px" ><div id="button1-delete"><img id="delete_modal_proceed_image" class="icon_img" src="'+
cvjs_imagesLocation+'tools/Proceed_111x28_Up.png" border="0"></div></div></td></tr></table></form>'),jQuery("#cvjs_modals_"+a).append('<form id="clear_form" style="display:none"><table width="100%" border="0" cellspacing="0" border-spacing="0" ><tr></tr><tr><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div id="clear_Modal_header" class="select_file_text_modal">Clear</div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div class=\'select_file_text_close\'><div id="clear_modal_close_cross">&times;</div></div></td></tr></table><div class="horizontal_modal_line"></div><table id="text_modal_table" class="text_modal_table_class" width="100%" border="0" cellspacing="0" border-spacing="0" ><tr><td><img src="'+
cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div class="select_tag_text_modal"><div id="clear_modal_file">Do you want to clear all locations in,</div></div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td></tr></table><table id="select_save_changes" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td><img src="'+
cvjs_imagesLocation+'7x7.png" border="1" width="5" height="5" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><div style="width: 60px" ><div id="button2-noclear"><img id="clear_modal_cancel_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Cancel_Inactive_4.png" border="0"></div></div></td><td><td div style="height: 10px" ><img src="'+cvjs_imagesLocation+
'10x10.png" border="1" width="10" height="10" /></td><td><div style="width: 111px" ><div id="button1-clear"><img id="clear_modal_proceed_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Proceed_111x28_Up.png" border="0"></div></div></td></tr><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="7" height="7" /></td></tr></table></form>'),jQuery("#cvjs_modals_"+a).append('<form id="unlink_form" style="display:none"><table width="100%" border="0" cellspacing="0" border-spacing="0" ><tr></tr><tr><td><img src="'+
cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div id="unlink_Modal_header" class="select_file_text_modal">Unlink</div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div class=\'select_file_text_close\'><div id="unlink_modal_close_cross">&times;</div></div></td></tr></table><div class="horizontal_modal_line"></div><table id="text_modal_table" class="text_modal_table_class" width="100%" border="0" cellspacing="0" border-spacing="0" ><tr><td><img src="'+
cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td><td><div class="select_tag_text_modal"><div id="unlink_modal_file">Do you want to unlink all locations in,</div></div></td><td><img src="'+cvjs_imagesLocation+'7x7.png" border="1" width="7" height="7" /></td></tr></table><table id="select_save_changes" width="100%" border="0" cellspacing="0" border-spacing="0" id="location_tags"><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="10" height="10" /></td><td><img src="'+
cvjs_imagesLocation+'7x7.png" border="1" width="5" height="5" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><img src="'+cvjs_imagesLocation+'white28x10.png" border="1" width="28" height="10" /></td><td><div style="width: 60px" ><div id="button2-nounlink"><img id="unlink_modal_cancel_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Cancel_Inactive_4.png" border="0"></div></div></td><td><td div style="height: 10px" ><img src="'+cvjs_imagesLocation+
'10x10.png" border="1" width="10" height="10" /></td><td><div style="width: 111px" ><div id="button1-unlink"><img id="unlink_modal_proceed_image" class="icon_img" src="'+cvjs_imagesLocation+'tools/Proceed_111x28_Up.png" border="0"></div></div></td></tr><tr><td><img src="'+cvjs_imagesLocation+'10x10.png" border="1" width="7" height="7" /></td></tr></table></form>'))}var cvjs_RedlinesLayer="cvjs_Redlines_01";
function cvjs_getStickyNotesRedlineDXF(){var a="";cvjs_rPaper[cvjs_active_floorplan_div_nr].getBBox();var d=" 0\nSECTION\n  2\nHEADER\n  9\n$ACADVER\n  1\nAC1015\n  9\n$ACADMAINTVER\n 70\n     6\n  9\n$DWGCODEPAGE\n  3\nANSI_1252\n  9\n$INSBASE\n 10\n0.0\n 20\n0.0\n 30\n0.0\n"+("  9\n$EXTMIN\n 10\n"+cvjs_drawingCoordinates[0].DWG.lowerLeft.x+"\n 20\n"+cvjs_drawingCoordinates[0].DWG.lowerLeft.y+"\n 30\n0.0\n  9\n$EXTMAX\n 10\n"+cvjs_drawingCoordinates[0].DWG.upperRight.x+"\n 20\n"+cvjs_drawingCoordinates[0].DWG.upperRight.y+
"\n 30\n0.0\n")+"  9\n$LIMMIN\n 10\n0.0\n 20\n0.0\n  9\n$LIMMAX\n 10\n420.0\n 20\n297.0\n  9\n$ORTHOMODE\n 70\n     0\n  9\n$REGENMODE\n 70\n     1\n  9\n$FILLMODE\n 70\n     1\n  9\n$QTEXTMODE\n 70\n     0\n  9\n$MIRRTEXT\n 70\n     0\n  9\n$LTSCALE\n 40\n1.0\n  9\n$ATTMODE\n 70\n     1\n  9\n$TEXTSIZE\n 40\n2.5\n  9\n$TRACEWID\n 40\n1.0\n  9\n$TEXTSTYLE\n  7\nStandard\n  9\n$CLAYER\n  8\n0\n  9\n$CELTYPE\n  6\nByLayer\n  9\n$CECOLOR\n 62\n   256\n  9\n$CELTSCALE\n 40\n1.0\n  9\n$DISPSILH\n 70\n     0\n  9\n$DIMSCALE\n 40\n1.0\n  9\n$DIMASZ\n 40\n2.5\n  9\n$DIMEXO\n 40\n0.625\n  9\n$DIMDLI\n 40\n3.75\n  9\n$DIMRND\n 40\n0.0\n  9\n$DIMDLE\n 40\n0.0\n  9\n$DIMEXE\n 40\n1.25\n  9\n$DIMTP\n 40\n0.0\n  9\n$DIMTM\n 40\n0.0\n  9\n$DIMTXT\n 40\n2.5\n  9\n$DIMCEN\n 40\n2.5\n  9\n$DIMTSZ\n 40\n0.0\n  9\n$DIMTOL\n 70\n     0\n  9\n$DIMLIM\n 70\n     0\n  9\n$DIMTIH\n 70\n     0\n  9\n$DIMTOH\n 70\n     0\n  9\n$DIMSE1\n 70\n     0\n  9\n$DIMSE2\n 70\n     0\n  9\n$DIMTAD\n 70\n     1\n  9\n$DIMZIN\n 70\n     8\n  9\n$DIMBLK\n  1\n\n  9\n$DIMASO\n 70\n     1\n  9\n$DIMSHO\n 70\n     1\n  9\n$DIMPOST\n  1\n\n  9\n$DIMAPOST\n  1\n\n  9\n$DIMALT\n 70\n     0\n  9\n$DIMALTD\n 70\n     3\n  9\n$DIMALTF\n 40\n0.03937007874016\n  9\n$DIMLFAC\n 40\n1.0\n  9\n$DIMTOFL\n 70\n     1\n  9\n$DIMTVP\n 40\n0.0\n  9\n$DIMTIX\n 70\n     0\n  9\n$DIMSOXD\n 70\n     0\n  9\n$DIMSAH\n 70\n     0\n  9\n$DIMBLK1\n  1\n\n  9\n$DIMBLK2\n  1\n\n  9\n$DIMSTYLE\n  2\nISO-25\n  9\n$DIMCLRD\n 70\n     0\n  9\n$DIMCLRE\n 70\n     0\n  9\n$DIMCLRT\n 70\n     0\n  9\n$DIMTFAC\n 40\n1.0\n  9\n$DIMGAP\n 40\n0.625\n  9\n$DIMJUST\n 70\n     0\n  9\n$DIMSD1\n 70\n     0\n  9\n$DIMSD2\n 70\n     0\n  9\n$DIMTOLJ\n 70\n     0\n  9\n$DIMTZIN\n 70\n     8\n  9\n$DIMALTZ\n 70\n     0\n  9\n$DIMALTTZ\n 70\n     0\n  9\n$DIMUPT\n 70\n     0\n  9\n$DIMDEC\n 70\n     2\n  9\n$DIMTDEC\n 70\n     2\n  9\n$DIMALTU\n 70\n     2\n  9\n$DIMALTTD\n 70\n     3\n  9\n$DIMTXSTY\n  7\nStandard\n  9\n$DIMAUNIT\n 70\n     0\n  9\n$DIMADEC\n 70\n     0\n  9\n$DIMALTRND\n 40\n0.0\n  9\n$DIMAZIN\n 70\n     0\n  9\n$DIMDSEP\n 70\n    44\n  9\n$DIMATFIT\n 70\n     3\n  9\n$DIMFRAC\n 70\n     0\n  9\n$DIMLDRBLK\n  1\n\n  9\n$DIMLUNIT\n 70\n     2\n  9\n$DIMLWD\n 70\n    -2\n  9\n$DIMLWE\n 70\n    -2\n  9\n$DIMTMOVE\n 70\n     0\n  9\n$LUNITS\n 70\n     2\n  9\n$LUPREC\n 70\n     3\n  9\n$SKETCHINC\n 40\n1.0\n  9\n$FILLETRAD\n 40\n10.0\n  9\n$AUNITS\n 70\n     0\n  9\n$AUPREC\n 70\n     0\n  9\n$MENU\n  1\n.\n  9\n$ELEVATION\n 40\n0.0\n  9\n$PELEVATION\n 40\n0.0\n  9\n$THICKNESS\n 40\n0.0\n  9\n$LIMCHECK\n 70\n     0\n  9\n$CHAMFERA\n 40\n10.0\n  9\n$CHAMFERB\n 40\n10.0\n  9\n$CHAMFERC\n 40\n20.0\n  9\n$CHAMFERD\n 40\n0.0\n  9\n$SKPOLY\n 70\n     0\n  9\n$TDCREATE\n 40\n2455022.720692847\n  9\n$TDUCREATE\n 40\n2455022.637359514\n  9\n$TDUPDATE\n 40\n2458234.855757477\n  9\n$TDUUPDATE\n 40\n2458234.772424144\n  9\n$TDINDWG\n 40\n0.0048455208\n  9\n$TDUSRTIMER\n 40\n0.0004155903\n  9\n$USRTIMER\n 70\n     1\n  9\n$ANGBASE\n 50\n0.0\n  9\n$ANGDIR\n 70\n     0\n  9\n$PDMODE\n 70\n     0\n  9\n$PDSIZE\n 40\n0.0\n  9\n$PLINEWID\n 40\n0.0\n  9\n$SPLFRAME\n 70\n     0\n  9\n$SPLINETYPE\n 70\n     6\n  9\n$SPLINESEGS\n 70\n     8\n  9\n$HANDSEED\n  5\n1AD\n  9\n$SURFTAB1\n 70\n     6\n  9\n$SURFTAB2\n 70\n     6\n  9\n$SURFTYPE\n 70\n     6\n  9\n$SURFU\n 70\n     6\n  9\n$SURFV\n 70\n     6\n  9\n$UCSBASE\n  2\n\n  9\n$UCSNAME\n  2\n\n  9\n$UCSORG\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSXDIR\n 10\n1.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSYDIR\n 10\n0.0\n 20\n1.0\n 30\n0.0\n  9\n$UCSORTHOREF\n  2\n\n  9\n$UCSORTHOVIEW\n 70\n     0\n  9\n$UCSORGTOP\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGBOTTOM\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGLEFT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGRIGHT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGFRONT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$UCSORGBACK\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSBASE\n  2\n\n  9\n$PUCSNAME\n  2\n\n  9\n$PUCSORG\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSXDIR\n 10\n1.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSYDIR\n 10\n0.0\n 20\n1.0\n 30\n0.0\n  9\n$PUCSORTHOREF\n  2\n\n  9\n$PUCSORTHOVIEW\n 70\n     0\n  9\n$PUCSORGTOP\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGBOTTOM\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGLEFT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGRIGHT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGFRONT\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PUCSORGBACK\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$USERI1\n 70\n     0\n  9\n$USERI2\n 70\n     0\n  9\n$USERI3\n 70\n     0\n  9\n$USERI4\n 70\n     0\n  9\n$USERI5\n 70\n     0\n  9\n$USERR1\n 40\n0.0\n  9\n$USERR2\n 40\n0.0\n  9\n$USERR3\n 40\n0.0\n  9\n$USERR4\n 40\n0.0\n  9\n$USERR5\n 40\n0.0\n  9\n$WORLDVIEW\n 70\n     1\n  9\n$SHADEDGE\n 70\n     3\n  9\n$SHADEDIF\n 70\n    70\n  9\n$TILEMODE\n 70\n     1\n  9\n$MAXACTVP\n 70\n    64\n  9\n$PINSBASE\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  9\n$PLIMCHECK\n 70\n     0\n  9\n$PEXTMIN\n 10\n1.000000000000000E+20\n 20\n1.000000000000000E+20\n 30\n1.000000000000000E+20\n  9\n$PEXTMAX\n 10\n-1.000000000000000E+20\n 20\n-1.000000000000000E+20\n 30\n-1.000000000000000E+20\n  9\n$PLIMMIN\n 10\n0.0\n 20\n0.0\n  9\n$PLIMMAX\n 10\n0.0\n 20\n0.0\n  9\n$UNITMODE\n 70\n     0\n  9\n$VISRETAIN\n 70\n     1\n  9\n$PLINEGEN\n 70\n     0\n  9\n$PSLTSCALE\n 70\n     1\n  9\n$TREEDEPTH\n 70\n  3020\n  9\n$CMLSTYLE\n  2\nStandard\n  9\n$CMLJUST\n 70\n     0\n  9\n$CMLSCALE\n 40\n20.0\n  9\n$PROXYGRAPHICS\n 70\n     1\n  9\n$MEASUREMENT\n 70\n     1\n  9\n$CELWEIGHT\n370\n    -1\n  9\n$ENDCAPS\n280\n     0\n  9\n$JOINSTYLE\n280\n     0\n  9\n$LWDISPLAY\n290\n     0\n  9\n$INSUNITS\n 70\n     4\n  9\n$HYPERLINKBASE\n  1\n\n  9\n$STYLESHEET\n  1\n\n  9\n$XEDIT\n290\n     1\n  9\n$CEPSNTYPE\n380\n     0\n  9\n$PSTYLEMODE\n290\n     1\n  9\n$FINGERPRINTGUID\n  2\n{EC6BB858-51AA-46EC-B484-6C9CC7AB3E2E}\n  9\n$VERSIONGUID\n  2\n{FAEB1C32-E019-11D5-929B-00C0DF256EC4}\n  9\n$EXTNAMES\n290\n     1\n  9\n$PSVPSCALE\n 40\n0.0\n  9\n$OLESTARTUP\n290\n     0\n  0\nENDSEC\n  0\nSECTION\n  2\nCLASSES\n  0\nCLASS\n  1\nACDBDICTIONARYWDFLT\n  2\nAcDbDictionaryWithDefault\n  3\nObjectDBX Classes\n 90\n        0\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nSCALE\n  2\nAcDbScale\n  3\nObjectDBX Classes\n 90\n     1153\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nVISUALSTYLE\n  2\nAcDbVisualStyle\n  3\nObjectDBX Classes\n 90\n     4095\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nMATERIAL\n  2\nAcDbMaterial\n  3\nObjectDBX Classes\n 90\n     1153\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nTABLESTYLE\n  2\nAcDbTableStyle\n  3\nObjectDBX Classes\n 90\n     4095\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nMLEADERSTYLE\n  2\nAcDbMLeaderStyle\n  3\nACDB_MLEADERSTYLE_CLASS\n 90\n     4095\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nACDBPLACEHOLDER\n  2\nAcDbPlaceHolder\n  3\nObjectDBX Classes\n 90\n        0\n280\n     0\n281\n     0\n  0\nCLASS\n  1\nLAYOUT\n  2\nAcDbLayout\n  3\nObjectDBX Classes\n 90\n        0\n280\n     0\n281\n     0\n  0\nENDSEC\n  0\nSECTION\n  2\nTABLES\n  0\nTABLE\n  2\nVPORT\n  5\n8\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     1\n  0\nVPORT\n  5\n29\n330\n8\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbViewportTableRecord\n  2\n*Active\n 70\n     0\n 10\n0.0\n 20\n0.0\n 11\n1.0\n 21\n1.0\n 12\n409.7886626127411\n 22\n161.5087387190685\n 13\n0.0\n 23\n0.0\n 14\n10.0\n 24\n10.0\n 15\n10.0\n 25\n10.0\n 16\n0.0\n 26\n0.0\n 36\n1.0\n 17\n-134.1869158878503\n 27\n0.0\n 37\n0.0\n 40\n235.9700856768558\n 41\n1.958515283842795\n 42\n50.0\n 43\n0.0\n 44\n0.0\n 50\n0.0\n 51\n0.0\n 71\n    16\n 72\n  1000\n 73\n     1\n 74\n     3\n 75\n     0\n 76\n     0\n 77\n     0\n 78\n     0\n281\n     0\n 65\n     1\n110\n0.0\n120\n0.0\n130\n0.0\n111\n1.0\n121\n0.0\n131\n0.0\n112\n0.0\n122\n1.0\n132\n0.0\n 79\n     0\n146\n0.0\n  0\nENDTAB\n  0\nTABLE\n  2\nLTYPE\n  5\n5\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     1\n  0\nLTYPE\n  5\n14\n330\n5\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nByBlock\n 70\n     0\n  3\n\n 72\n    65\n 73\n     0\n 40\n0.0\n  0\nLTYPE\n  5\n15\n330\n5\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nByLayer\n 70\n     0\n  3\n\n 72\n    65\n 73\n     0\n 40\n0.0\n  0\nLTYPE\n  5\n16\n330\n5\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbLinetypeTableRecord\n  2\nContinuous\n 70\n     0\n  3\nSolid line\n 72\n    65\n 73\n     0\n 40\n0.0\n  0\nENDTAB\n  0\nTABLE\n  2\nLAYER\n  5\n2\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     1\n  0\nLAYER\n  5\n10\n330\n2\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbLayerTableRecord\n  2\n0\n 70\n     0\n 62\n     7\n  6\nContinuous\n370\n    -3\n390\n0\n  0\nENDTAB\n  0\nTABLE\n  2\nSTYLE\n  5\n3\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     2\n  0\nSTYLE\n  5\n11\n330\n3\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbTextStyleTableRecord\n  2\nStandard\n 70\n     0\n 40\n0.0\n 41\n1.0\n 50\n0.0\n 71\n     0\n 42\n2.5\n  3\narial.ttf\n  4\n\n1001\nACAD\n1000\nArial\n1071\n        0\n  0\nSTYLE\n  5\nB8\n330\n3\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbTextStyleTableRecord\n  2\nAnnotative\n 70\n     0\n 40\n0.0\n 41\n1.0\n 50\n0.0\n 71\n     0\n 42\n2.5\n  3\narial.ttf\n  4\n\n1001\nACAD\n1000\nArial\n1071\n        0\n1001\nAcadAnnotative\n1000\nAnnotativeData\n1002\n{\n1070\n     1\n1070\n     1\n1002\n}\n  0\nENDTAB\n  0\nTABLE\n  2\nVIEW\n  5\n6\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     0\n  0\nENDTAB\n  0\nTABLE\n  2\nUCS\n  5\n7\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     0\n  0\nENDTAB\n  0\nTABLE\n 0\nAPPID\n  2\nCADVIEWERJS\n 70\n     0\n  2\nAPPID\n  5\n9\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     2\n  0\nAPPID\n  5\n12\n330\n9\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbRegAppTableRecord\n  2\nACAD\n 70\n     0\n  0\nAPPID\n  5\nB9\n330\n9\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbRegAppTableRecord\n  2\nAcadAnnotative\n 70\n     0\n  0\nENDTAB\n  0\nTABLE\n  2\nDIMSTYLE\n  5\nA\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     2\n100\nAcDbDimStyleTable\n  0\nDIMSTYLE\n105\n27\n330\nA\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbDimStyleTableRecord\n  2\nISO-25\n 70\n     0\n 41\n2.5\n 42\n0.625\n 43\n3.75\n 44\n1.25\n 73\n     0\n 74\n     0\n 77\n     1\n 78\n     8\n140\n2.5\n141\n2.5\n143\n0.03937007874016\n147\n0.625\n171\n     3\n172\n     1\n178\n     0\n271\n     2\n272\n     2\n274\n     3\n278\n    44\n283\n     0\n284\n     8\n340\n11\n  0\nDIMSTYLE\n105\nBA\n330\nA\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbDimStyleTableRecord\n  2\nAnnotative\n 70\n     0\n 40\n0.0\n 41\n2.5\n 42\n0.625\n 43\n3.75\n 44\n1.25\n 73\n     0\n 74\n     0\n 77\n     1\n 78\n     8\n140\n2.5\n141\n2.5\n143\n0.03937007874016\n147\n0.625\n171\n     3\n172\n     1\n178\n     0\n271\n     2\n272\n     2\n274\n     3\n278\n    44\n283\n     0\n284\n     8\n340\n11\n1001\nAcadAnnotative\n1000\nAnnotativeData\n1002\n{\n1070\n     1\n1070\n     1\n1002\n}\n  0\nENDTAB\n  0\nTABLE\n  2\nBLOCK_RECORD\n  5\n1\n330\n0\n100\nAcDbSymbolanguageTable\n 70\n     1\n  0\nBLOCK_RECORD\n  5\n1F\n330\n1\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbBlockTableRecord\n  2\n*Model_Space\n340\n166\n  0\nBLOCK_RECORD\n  5\n1B\n330\n1\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbBlockTableRecord\n  2\n*Paper_Space\n340\n167\n  0\nBLOCK_RECORD\n  5\n23\n330\n1\n100\nAcDbSymbolanguageTableRecord\n100\nAcDbBlockTableRecord\n  2\n*Paper_Space0\n340\n0\n  0\nENDTAB\n  0\nENDSEC\n  0\nSECTION\n  2\nBLOCKS\n  0\nBLOCK\n  5\nEF\n330\n1F\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockBegin\n  2\n*Model_Space\n 70\n     0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n*Model_Space\n  1\n\n  0\nENDBLK\n  5\nF0\n330\n1F\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockEnd\n  0\nBLOCK\n  5\nF1\n330\n1B\n100\nAcDbEntity\n 67\n     1\n  8\n0\n100\nAcDbBlockBegin\n  2\n*Paper_Space\n 70\n     0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n*Paper_Space\n  1\n\n  0\nENDBLK\n  5\nF2\n330\n1B\n100\nAcDbEntity\n 67\n     1\n  8\n0\n100\nAcDbBlockEnd\n  0\nBLOCK\n  5\nF3\n330\n23\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockBegin\n  2\n*Paper_Space0\n 70\n     0\n 10\n0.0\n 20\n0.0\n 30\n0.0\n  3\n*Paper_Space0\n  1\n\n  0\nENDBLK\n  5\nF4\n330\n23\n100\nAcDbEntity\n  8\n0\n100\nAcDbBlockEnd\n  0\nENDSEC\n",
f=0;d+="0\nSECTION\n2\nENTITIES\n";var h=0;for(spc in vqRedlines)cvjs_debug&&console.log("spc="+spc),1==vqRedlines[spc].data("deleted")?cvjs_debug&&console.log("file.js deleted node "+vqRedlines[spc].data("node")):0==f&&(f=1);f=0;for(spc in vqStickyNotes)1!=vqStickyNotes[spc].data("deleted")&&(0==f&&(f=1),parseInt(spc));f=0;for(spc in vqRedlines)if(1!=vqRedlines[spc].data("deleted")){f++;var n=vqRedlines[spc].toString();if(-1<n.indexOf("polyline")){n=n.substring(n.indexOf("points=")+8);n=n.substring(0,
n.indexOf('"'));var p=n.split(" ");n=vqRedlines[spc].toString();n=n.substring(n.indexOf("matrix(")+8);n=n.substring(0,n.indexOf(")"));var q=vqRedlines[spc].data("transform");q=q.substring(1,q.indexOf("r"));q=q.split(",");n.substring(n.indexOf("r")+1);n=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));h++;var t="A"+h.toString(16);a=t;d+="0\nLWPOLYLINE\n";d=d+"5\n"+t+"\n";d+="330\n1F\n100\nAcDbEntity\n";var u=vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-
1].pageName;d=d+"8\n"+u+"\n62\n"+n+"\n";d=d+"370\n   211\n100\nAcDbPolyline\n 90\n"+(p.length+1)+"        \n 70\n     1\n 43\n0.0\n";var v=cvjs_get_dwg_scaled_value(vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,vqRedlines[spc].data("currentPage"));for(u=0;u<p.length;u++)t=p[u].split(","),d=d+"40\n"+v+"\n41\n"+v+"\n",d=d+"10\n"+cvjs_get_dwg_x_coord(Number(q[0])+Number(t[0]),vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(Number(q[1])+Number(t[1]),vqRedlines[spc].data("currentPage"))+
"\n";t=p[0].split(",");d=d+"40\n"+v+"\n41\n"+v+"\n";d=d+"10\n"+cvjs_get_dwg_x_coord(Number(q[0])+Number(t[0]),vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(Number(q[1])+Number(t[1]),vqStickyNotes[spc].data("currentPage")-1)+"\n";h++;t="A"+h.toString(16);u=vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName;d=d+"0\nHATCH\n  5\n"+t+"\n330\n1F\n100\nAcDbEntity\n  8\n"+u+"\n 62\n     "+n+"\n370\n    70\n100\nAcDbHatch\n 10\n0.0\n 20\n0.0\n 30\n0.0\n210\n0.0\n220\n0.0\n230\n1.0\n  2\nANSI31\n";
d=d+"  70\n     1\n 71\n     1\n 91\n        1\n 92\n        1\n 93\n       "+p.length+"\n";for(u=0;u<p.length-1;u++){n=p[u].split(",");var w=p[u+1].split(",");d+="72\n 1\n";d=d+"10\n"+cvjs_get_dwg_x_coord(Number(q[0])+Number(n[0]),vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(Number(q[1])+Number(n[1]),vqRedlines[spc].data("currentPage"))+"\n";d=d+"11\n"+cvjs_get_dwg_x_coord(Number(q[0])+Number(w[0]),vqRedlines[spc].data("currentPage"))+"\n21\n"+cvjs_get_dwg_y_coord(Number(q[1])+
Number(w[1]),vqRedlines[spc].data("currentPage"))+"\n"}n=p[p.length-1].split(",");w=p[0].split(",");d+="72\n 1\n";d=d+"10\n"+cvjs_get_dwg_x_coord(Number(q[0])+Number(n[0]),vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(Number(q[1])+Number(n[1]),vqRedlines[spc].data("currentPage"))+"\n";d=d+"11\n"+cvjs_get_dwg_x_coord(Number(q[0])+Number(w[0]),vqRedlines[spc].data("currentPage"))+"\n21\n"+cvjs_get_dwg_y_coord(Number(q[1])+Number(w[1]),vqRedlines[spc].data("currentPage"))+"\n";d=
d+" 97\n        1\n330\n"+a+"\n 75\n     0\n 76\n     1\n 52\n0.0\n41\n1.0\n 77\n     0\n 78\n     1\n 53\n45.0\n 43\n0.0\n 44\n0.0\n 45\n-2.245064030267288\n 46\n2.245064030267288\n 79\n     0\n 98\n        1\n 10\n0.0\n 20\n0.0\n1001\nACAD\n1010\n0.0\n1020\n0.0\n1030\n0.0\n";a=t;n=vqRedlines[spc].toString();n=n.substring(n.indexOf("d=")+3);n=n.substring(0,n.indexOf('"'));t=n.indexOf("Z");q=!1;-1<t&&(q=!0);q||(n+="Z");w=new PathConverter.Outline;(new PathConverter.SVGParser(w)).parse(n);n=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));
h++;t="A"+h.toString(16);v=cvjs_get_dwg_scaled_value(vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,vqRedlines[spc].data("currentPage"));var x=0;w.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&x++})})});q||x--;d+="0\nLWPOLYLINE\n";d=d+"5\n"+t+"\n";d+="330\n1F\n100\nAcDbEntity\n";u=vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName;d=d+"8\n"+
u+"\n62\n"+n+"\n";t=0;q&&(t=1);d=d+"370\n   211\n100\nAcDbPolyline\n 90\n"+x+"        \n 70\n     "+t+"\n 43\n0.0\n";v=cvjs_get_dwg_scaled_value(vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor,vqRedlines[spc].data("currentPage"));var A=0;w.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&(A<x&&(d=d+"40\n"+v+"\n41\n"+v+"\n",d=d+"10\n"+cvjs_get_dwg_x_coord(a.x,vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(a.y,
vqRedlines[spc].data("currentPage"))+"\n"),A++)})})});d+="1001\n CADVIEWERJS\n";d=d+"1000\n node: "+vqRedlines[spc].data("node")+"\n";d=d+"1000\n name: "+vqRedlines[spc].data("name")+"\n";d=d+"1000\n id: "+vqRedlines[spc].data("id")+"\n";d=d+"1000\n layer: "+vqRedlines[spc].data("layer")+"\n";d=d+"1000\n group: "+vqRedlines[spc].data("group")+"\n";d=d+"1000\n color: "+vqRedlines[spc].data("color")+"\n";d=d+"1000\n strokeWidth: "+vqRedlines[spc].data("strokeWidth")+"\n";d=d+"1000\n fill: "+vqRedlines[spc].data("fill")+
"\n";d=d+"1000\n username: "+vqRedlines[spc].data("username")+"\n";d=d+"1000\n userid: "+vqRedlines[spc].data("userid")+"\n";d=d+"1000\n currentPage: "+vqRedlines[spc].data("currentPage")+"\n";d=d+"1000\n triangle_design: "+vqRedlines[spc].data("triangle_design")+"\n";d+="1000\n polypath_arrow: none\n";d=d+"1000\n redline_text: "+vqRedlines[spc].data("redline_text")+"\n";d=d+"1000\n fill_opacity: "+vqRedlines[spc].data("fill_opacity")+"\n";d=d+"1000\n transform: "+vqRedlines[spc].data("transform")+
"\n";d=d+"1000\n drawingRotation: "+vqRedlines[spc].data("drawingRotation")+"\n"}else if(-1<n.indexOf("text")){n=vqRedlines[spc].data("transform");q=n.substring(1,n.indexOf("S"));q=q.split(",");a=n.substring(n.indexOf("S")+1).split(",");n=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));h++;t="A"+h.toString(16);p=vqRedlines[spc].data("redline_text");u=p.split("<br>");w=1;for(var y=0;y<u.length;y++)u[y].length>w&&(w=u[y].length);y=(p.match(/<br>/g)||[]).length+1;p="{"+p+"}";p=p.replace(/<br>/g,
"\\P");d+="0\nMTEXT\n";d=d+"5\n"+t+"\n";u=vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName;d=d+"330\n1F\n100\nAcDbEntity\n8\n"+u+"\n62\n"+n+"\n100\nAcDbMText\n";d=d+"10\n"+cvjs_get_dwg_x_coord(q[0],vqRedlines[spc].data("currentPage"))+"\n";d=d+"20\n"+cvjs_get_dwg_y_coord(q[1],vqRedlines[spc].data("currentPage"))+"\n";d+="30\n 0\n";d=d+"40\n"+cvjs_get_dwg_scaled_value(cvjs_reference_font_size*a[0],vqRedlines[spc].data("currentPage"))+
"\n";d=d+"41\n"+cvjs_get_dwg_scaled_value(q[1]+y*cvjs_reference_font_size*a[0],vqRedlines[spc].data("currentPage"))+"\n";d+=" 71\n     1\n 72\n     5\n  1\n";d=d+p+"\n";q=cvjs_get_dwg_scaled_value(cvjs_reference_font_size*a[0]*.8*w,vqRedlines[spc].data("currentPage"));d=d+" 73\n     1\n 44\n1.0\n1001\nACAD\n1000\nACAD_MTEXT_DEFINED_HEIGHT_BEGIN\n1070\n    "+q+"\n1040\n"+cvjs_get_dwg_scaled_value(y*cvjs_reference_font_size*a[0])+"\n1000\nACAD_MTEXT_DEFINED_HEIGHT_END\n";d+="1001\n CADVIEWERJS\n";d=
d+"1000\n node: "+vqRedlines[spc].data("node")+"\n";d=d+"1000\n name: "+vqRedlines[spc].data("name")+"\n";d=d+"1000\n id: "+vqRedlines[spc].data("id")+"\n";d=d+"1000\n layer: "+vqRedlines[spc].data("layer")+"\n";d=d+"1000\n group: "+vqRedlines[spc].data("group")+"\n";d=d+"1000\n color: "+vqRedlines[spc].data("color")+"\n";d=d+"1000\n strokeWidth: "+vqRedlines[spc].data("strokeWidth")+"\n";d=d+"1000\n fill: "+vqRedlines[spc].data("fill")+"\n";d=d+"1000\n username: "+vqRedlines[spc].data("username")+
"\n";d=d+"1000\n userid: "+vqRedlines[spc].data("userid")+"\n";d=d+"1000\n currentPage: "+vqRedlines[spc].data("currentPage")+"\n";d=d+"1000\n triangle_design: "+vqRedlines[spc].data("triangle_design")+"\n";d+="1000\n polypath_arrow: none\n";d=d+"1000\n redline_text: "+vqRedlines[spc].data("redline_text")+"\n";d=d+"1000\n fill_opacity: "+vqRedlines[spc].data("fill_opacity")+"\n";d=d+"1000\n transform: "+vqRedlines[spc].data("transform")+"\n";d=d+"1000\n drawingRotation: "+vqRedlines[spc].data("drawingRotation")+
"\n"}else if(-1<n.indexOf("path")){q=n.substring(n.indexOf("fill-opacity")+13);q=q.substring(0,q.indexOf(";"));p=.02<Number(q);n=n.substring(n.indexOf("d=")+3);n=n.substring(0,n.indexOf('"'));t=n.indexOf("Z");q=!1;-1<t&&(q=!0);q||(n+="Z");w=new PathConverter.Outline;(new PathConverter.SVGParser(w)).parse(n);n=cvjs_getAutoCADColor(vqRedlines[spc].data("color"));h++;a=t="A"+h.toString(16);v=vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor;x=0;w.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,
a.left,a.right].forEach(function(a){a&&x++})})});q||x--;d+="0\nLWPOLYLINE\n";d=d+"5\n"+t+"\n";d+="330\n1F\n100\nAcDbEntity\n";u=vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-1].pageName;d=d+"8\n"+u+"\n62\n"+n+"\n";t=0;q&&(t=1);d=d+"370\n   211\n100\nAcDbPolyline\n 90\n"+x+"        \n 70\n     "+t+"\n 43\n0.0\n";v=vqRedlines[spc].data("strokeWidth")*cvjs_redlineThickness_scaleFactor;A=0;w.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,
a.left,a.right].forEach(function(a){a&&(A<x&&(d=d+"40\n"+cvjs_get_dwg_scaled_value(v,vqRedlines[spc].data("currentPage"))+"\n41\n"+cvjs_get_dwg_scaled_value(v,vqRedlines[spc].data("currentPage"))+"\n",d=d+"10\n"+cvjs_get_dwg_x_coord(a.x,vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(a.y,vqRedlines[spc].data("currentPage"))+"\n"),A++)})})});d+="1001\n CADVIEWERJS\n";d=d+"1000\n node: "+vqRedlines[spc].data("node")+"\n";d=d+"1000\n name: "+vqRedlines[spc].data("name")+"\n";d=d+"1000\n id: "+
vqRedlines[spc].data("id")+"\n";d=d+"1000\n layer: "+vqRedlines[spc].data("layer")+"\n";d=d+"1000\n group: "+vqRedlines[spc].data("group")+"\n";d=d+"1000\n color: "+vqRedlines[spc].data("color")+"\n";d=d+"1000\n strokeWidth: "+vqRedlines[spc].data("strokeWidth")+"\n";d=d+"1000\n fill: "+vqRedlines[spc].data("fill")+"\n";d=d+"1000\n username: "+vqRedlines[spc].data("username")+"\n";d=d+"1000\n userid: "+vqRedlines[spc].data("userid")+"\n";d=d+"1000\n currentPage: "+vqRedlines[spc].data("currentPage")+
"\n";d=d+"1000\n triangle_design: "+vqRedlines[spc].data("triangle_design")+"\n";d+="1000\n polypath_arrow: none\n";d=d+"1000\n redline_text: "+vqRedlines[spc].data("redline_text")+"\n";d=d+"1000\n fill_opacity: "+vqRedlines[spc].data("fill_opacity")+"\n";d=d+"1000\n transform: "+vqRedlines[spc].data("transform")+"\n";d=d+"1000\n drawingRotation: "+vqRedlines[spc].data("drawingRotation")+"\n";if(p&&q){h++;t="A"+h.toString(16);u=vqRedlines[spc].data("layer")+"_"+multiPages[cvjs_active_floorplan_div_nr].pages[vqRedlines[spc].data("currentPage")-
1].pageName;d=d+"0\nHATCH\n  5\n"+t+"\n330\n1F\n100\nAcDbEntity\n  8\n"+u+"\n 62\n     "+n+"\n370\n    70\n100\nAcDbHatch\n 10\n0.0\n 20\n0.0\n 30\n0.0\n210\n0.0\n220\n0.0\n230\n1.0\n  2\nANSI31\n";d=d+"  70\n     0\n 71\n     1\n 91\n        1\n 92\n        1\n 93\n       "+(x-1)+"\n";var B=[],z=[];A=0;w.getShapes().forEach(function(a){a.points.forEach(function(a){[a.main,a.left,a.right].forEach(function(a){a&&(B[A]=a.x,z[A]=a.y,A++)})})});for(u=0;u<B.length-1;u++)d+="72\n 1\n",d=d+"10\n"+cvjs_get_dwg_x_coord(B[u],
vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(z[u],vqRedlines[spc].data("currentPage"))+"\n",d=d+"11\n"+cvjs_get_dwg_x_coord(B[u+1],vqRedlines[spc].data("currentPage"))+"\n21\n"+cvjs_get_dwg_y_coord(z[u+1],vqRedlines[spc].data("currentPage"))+"\n";d+="72\n 1\n";d=d+"10\n"+cvjs_get_dwg_x_coord(B[B.length-1],vqRedlines[spc].data("currentPage"))+"\n20\n"+cvjs_get_dwg_y_coord(z[B.length-1],vqRedlines[spc].data("currentPage"))+"\n";d=d+"11\n"+cvjs_get_dwg_x_coord(B[0],vqRedlines[spc].data("currentPage"))+
"\n21\n"+cvjs_get_dwg_y_coord(z[0],vqRedlines[spc].data("currentPage"))+"\n";d=d+" 97\n        1\n330\n"+a+"\n 75\n     0\n 76\n     1\n 52\n0.0\n41\n1.0\n 77\n     0\n 78\n     1\n 53\n45.0\n 43\n0.0\n 44\n0.0\n 45\n"+cvjs_get_dwg_scaled_value(-6.735192090801863)+"\n 46\n"+cvjs_get_dwg_scaled_value(6.735192090801863)+"\n 79\n     0\n 98\n        1\n 10\n0.0\n 20\n0.0\n1001\nACAD\n1010\n0.0\n1020\n0.0\n1030\n0.0\n";a=t}console.log("dataURL TOTAL "+d+" dataURL TOTAL ")}}return d+="0\nENDSEC\n0\nEOF\n"}
function cvjs_getStickyNotesRedlineJS(){return cvjs_getStickyNotesRedline()}
function cvjs_getStickyNotesRedline(){var a=0;var d="var cvjs_stickyNotesRedlines_Base = {\n";for(spc in vqRedlines)cvjs_debug&&console.log("spc="+spc),1==vqRedlines[spc].data("deleted")?cvjs_debug&&console.log("file.js deleted node "+vqRedlines[spc].data("node")):(0==a?a=1:d+="\t\t\t\t\t\t,\n",d=d+"\t\t\t\t\t"+spc+": {\n",d=d+'\t\t\t\t\t\tnode: "'+vqRedlines[spc].data("node")+'",\n',d=d+'\t\t\t\t\t\tname: "'+vqRedlines[spc].data("name")+'",\n',d=d+'\t\t\t\t\t\tid: "'+vqRedlines[spc].data("id")+'",\n',
d=d+'\t\t\t\t\t\tlayer: "'+vqRedlines[spc].data("layer")+'",\n',d=d+'\t\t\t\t\t\tgroup: "'+vqRedlines[spc].data("group")+'",\n',d=d+'\t\t\t\t\t\tcolor: "'+vqRedlines[spc].data("color")+'",\n',d=d+'\t\t\t\t\t\tstrokeWidth: "'+vqRedlines[spc].data("strokeWidth")+'",\n',d=d+'\t\t\t\t\t\tfill: "'+vqRedlines[spc].data("fill")+'",\n',d=d+'\t\t\t\t\t\tusername: "'+vqRedlines[spc].data("username")+'",\n',d=d+'\t\t\t\t\t\tuserid: "'+vqRedlines[spc].data("userid")+'",\n',d=d+"\t\t\t\t\t\tcurrentPage: "+vqRedlines[spc].data("currentPage")+
",\n",d=d+'\t\t\t\t\t\ttriangle_design: "'+vqRedlines[spc].data("triangle_design")+'",\n',d=d+'\t\t\t\t\t\tpolypath_arrow: "'+vqRedlines[spc].data("polypath_arrow")+'",\n',d=d+'\t\t\t\t\t\tredline_text: "'+vqRedlines[spc].data("redline_text")+'",\n',d=d+'\t\t\t\t\t\tfill_opacity: "'+vqRedlines[spc].data("fill_opacity")+'",\n',d=d+'\t\t\t\t\t\ttransform: "'+vqRedlines[spc].data("transform")+'",\n',d=d+"\t\t\t\t\t\tdrawingRotation: "+vqRedlines[spc].data("drawingRotation")+"\n",d+="\t\t\t\t\t}\n");
0<vqRedlines.length&&0<vqStickyNotes.length&&(d+="\t\t\t\t\t\t,\n");a=0;for(spc in vqStickyNotes)if(1!=vqStickyNotes[spc].data("deleted")){0==a?a=1:d+="\t\t\t\t\t\t,\n";var f=parseInt(spc)+vqRedlines.length;d=d+"\t\t\t\t\t"+f+": {\n";d=d+'\t\t\t\t\t\tnode: "'+vqStickyNotes[spc].data("node")+'",\n';d=d+'\t\t\t\t\t\tname: "'+vqStickyNotes[spc].data("name")+'",\n';d=d+'\t\t\t\t\t\tid: "'+vqStickyNotes[spc].data("id")+'",\n';d=d+'\t\t\t\t\t\tlayer: "'+vqStickyNotes[spc].data("layer")+'",\n';d=d+'\t\t\t\t\t\tgroup: "'+
vqStickyNotes[spc].data("group")+'",\n';d=d+'\t\t\t\t\t\ttext: "'+vqStickyNotes[spc].data("text")+'",\n';d=d+'\t\t\t\t\t\tuserid: "'+vqStickyNotes[spc].data("userid")+'",\n';d=d+"\t\t\t\t\t\tcurrentPage: "+vqStickyNotes[spc].data("currentPage")+",\n";d=d+'\t\t\t\t\t\tdate: "'+vqStickyNotes[spc].data("date")+'",\n';d=d+"\t\t\t\t\t\tlinked: "+vqStickyNotes[spc].data("linked")+",\n";d=d+'\t\t\t\t\t\ttransform: "'+vqStickyNotes[spc].data("transform")+'",\n';d=d+"\t\t\t\t\t\tdrawingRotation: "+vqStickyNotes[spc].data("drawingRotation")+
"\n";d+="\t\t\t\t\t}\n"}d+="}\n\nfunction cvjs_setUpStickyNotesRedlines(paper){\n\n";a=0;for(spc in vqRedlines)if(1!=vqRedlines[spc].data("deleted")){a++;f="cItemRed"+a;var h=vqRedlines[spc].toString();if(-1<h.indexOf("polyline"))h=h.substring(h.indexOf("points=")+8),h=h.substring(0,h.indexOf('"')),d=d+"var "+f+'= paper.g(paper.polyline("',d=d+h+' ")',h=vqRedlines[spc].toString(),h=h.substring(h.indexOf("matrix(")+8),h.substring(0,h.indexOf(")")),d=d+'.attr({transform: "'+vqRedlines[spc].data("transform")+
'", "fill": "'+vqRedlines[spc].data("color")+'"})',h=vqRedlines[spc].toString(),h=h.substring(h.indexOf("d=")+3),h=h.substring(0,h.indexOf('"')),d+=', paper.path("',d=d+h+' ")',d=d+'.attr({stroke: "'+vqRedlines[spc].data("color")+'", "stroke-width": "'+vqRedlines[spc].data("strokeWidth")+'", "fill": "'+vqRedlines[spc].data("fill")+'", "fill-opacity": "'+vqRedlines[spc].data("fill_opacity")+'"}))',d=d+'\n.data("node","'+vqRedlines[spc].data("node")+'");\n',d=d+"vqRedlines.push("+f+");\n\n";else if(-1<
h.indexOf("text"))d=d+"var "+f+'= paper.path("M0,0")',d=d+'\n.data("node","'+vqRedlines[spc].data("node")+'");\n',d=d+"vqRedlines.push("+f+");\n\n";else if(-1<h.indexOf("path"))h=h.substring(h.indexOf("d=")+3),h=h.substring(0,h.indexOf('"')),d=d+"var "+f+'= paper.path("',d=d+h+' ")',d=d+'.attr({stroke: "'+vqRedlines[spc].data("color")+'", "stroke-width": "'+vqRedlines[spc].data("strokeWidth")+'", "fill": "'+vqRedlines[spc].data("fill")+'", "fill-opacity": "'+vqRedlines[spc].data("fill_opacity")+'"})',
d=d+'\n.data("node","'+vqRedlines[spc].data("node")+'");\n',d=d+"vqRedlines.push("+f+");\n\n";else if(-1<h.indexOf("ellipse")){console.log(h);var n=h.substring(h.indexOf("cx=")+4);n=n.substring(0,n.indexOf('"'));var p=h.substring(h.indexOf("cy=")+4);p=p.substring(0,p.indexOf('"'));var q=h.substring(h.indexOf("rx=")+4);q=q.substring(0,q.indexOf('"'));h=h.substring(h.indexOf("ry=")+4);h=h.substring(0,h.indexOf('"'));d=d+"var "+f+"= paper.ellipse("+n+","+p+","+q+","+h;d+=")";d=d+'.attr({stroke: "'+vqRedlines[spc].data("color")+
'", "stroke-width": "'+vqRedlines[spc].data("strokeWidth")+'", "fill": "'+vqRedlines[spc].data("fill")+'", "fill-opacity": "'+vqRedlines[spc].data("fill_opacity")+'"})';d=d+'\n.data("node","'+vqRedlines[spc].data("node")+'");\n';d=d+"vqRedlines.push("+f+");\n\n"}d=d+"cvjs_stickyNotesRedlines.push(cvjs_stickyNotesRedlines_Base["+spc+"]);\n\n"}d=d+" cvjs_redline="+a+"; \n\n";a=0;for(spc in vqStickyNotes)1!=vqStickyNotes[spc].data("deleted")&&(a++,f="itemSNote"+a,n=0,10>vqStickyNotes[spc].data("id")&&
(n=3),n='paper.group(paper.path("M0,0h20v20h-20v-20Z").attr({stroke: "#000000", "stroke-width" : "1.0"}),paper.path("M7,12h1.3M9.5,12h3.5M11.25,12v5M9.75,12v1.75M12.75,12v1.75M10.5,17h1.5M7,13.5h1.3M7,15.25h3M7,17.0h2.2").attr({stroke: "#000000", "stroke-width" : "0.5"}),paper.text('+(3+n)+',9,"#'+vqStickyNotes[spc].data("id")+'").attr({"font-size": "8px", "font-style": "italic", stroke: "#000000", "stroke-width" : "0.3", "stroke" : "0.3", "fill" : "#000000", "fill-opacity" : 1.0}))',n+='.attr({\'transform\': "t0,0S0.01" , "opacity" : "0.1"})',
n+=".attr({\tfill: '#FFF', \"fill-opacity\": \"0.8\", stroke: '#000', 'stroke-opacity': \"1\" })",d=d+"var "+f+"="+n+'\n.data("node","'+vqStickyNotes[spc].data("node")+'");\n',d=d+"vqStickyNotes.push("+f+");\n\n",f=parseInt(spc)+vqRedlines.length,d=d+"cvjs_stickyNotesRedlines.push(cvjs_stickyNotesRedlines_Base["+f+"]);\n\n");d=d+" cvjs_stickynote="+a+"; \n\n}\n\njQuery(document).ready(function() { \n";d+="\tstickynotesRedlines_loaded = true; \n";d+="}); \n";d+="stickynotesRedlines_loaded = true; \n";
cvjs_debug&&console.log("redline length "+vqRedlines.length);a=vqRedlines.length;for(f=0;f<vqRedlines.length;f++){p=0;q=d;for(n="RED_"+(f+1);-1<q.indexOf(n);)p++,q=q.substring(q.indexOf(n)+4);cvjs_debug&&console.log("Instances of "+n+" is "+p);4==p&&(cvjs_debug&&console.log("we need to substitute 2 and 4th instance of "+n+" with new variable names!"),a++,p="RED_"+a,q=nthIndex(d,n,2),d=d.substring(0,q)+p+d.substring(q+n.length),q=nthIndex(d,n,3),d=d.substring(0,q)+p+d.substring(q+n.length))}return d}
function nthIndex(a,d,f){for(var h=a.length,n=-1;f--&&n++<h&&!(n=a.indexOf(d,n),0>n););return n}
function cvjs_saveStickyNotesRedlines(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));a="";a=cvjs_saveRedlinesAsDXF?cvjs_getStickyNotesRedlineDXF():cvjs_saveRedlinesAsXML?cvjs_getStickyNotesRedlineXML(!0):cvjs_getStickyNotesRedline();var d=cvjs_serverHandlersPath+cvjs_serverSaveFileControllerRedlines;-1<cvjs_StickyNoteSaveRedlineUrl.indexOf("\\")||(cvjs_StickyNoteSaveRedlineUrl=encodeURIComponent(cvjs_StickyNoteSaveRedlineUrl));var f=
{};f.file=cvjs_StickyNoteSaveRedlineUrl;f.file_content=a;jQuery.ajax({url:d,type:"post",data:f,success:function(a){var d="Save redlines: "+a;a=a.toLowerCase();-1<a.indexOf("success")&&(d=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.RedlinesSaved);cvjs_collab_mode||(cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],d),message_modal_type_bootstrap?jQuery("#info_messageModal_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeOut(1500):jQuery("#info_messageModal_2_"+
floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeOut(1500));jQuery("#addRedlineTable").hide();cvjs_debug&&console.log("cvjs_saveStickyNotesRedlines cvjs_loadServerFileList(2)  cvjs_fileSaverRedlineMode"+cvjs_fileSaverRedlineMode);1==cvjs_fileSaverRedlineMode&&cvjs_loadServerFileList(2);cvjs_fileSaverRedlineMode=!1},error:function(a){console.log("Error "+a)}})}function cvjs_CADViewerPro(a){cvjs_Community_Version=!a;cvjs_PrintModal_PrintPDF=!0}
function cvjs_drawRedline__Freehand(){jQuery("body").disableSelection();cvjs_addHandleFunc_RedlinePolygonFreehand()}var color_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_setRedlineColor(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,color_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(color_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#colorModal_"+a).css({position:"fixed"}),jQuery("#colorModal_"+a).offset({left:150+jQuery("#"+a).position().left,
top:50+jQuery("#"+a).position().top})),jQuery("#colorModal_"+a).show())}function cvjs_color_modal_hide(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#colorModal_"+a).hide()}var publishPDF_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_setPublishPDF(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_debug&&console.log("first in: cvjs_setPublishPDF "+a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,publishPDF_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(publishPDF_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#publishPDFModal_"+a).css({position:"fixed"}),jQuery("#publishPDFModal_"+a).offset({left:150+jQuery("#"+a).position().left,
top:50+jQuery("#"+a).position().top})),0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")?(console.log("hide menu x2"),jQuery("#cvjs_publishpdfmode3").hide(),jQuery("#radioPublishAsPDF3_"+a).hide()):(console.log("show menu x2"),jQuery("#cvjs_publishpdfmode3").show(),jQuery("#radioPublishAsPDF3_"+a).show()),0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_customPdfFolderFlag?(console.log("show entire document button"),jQuery("#publishPDFModal_row2_"+
a).show(),jQuery("#publishPDFModal_row3_"+a).hide()):(console.log("hide button"),jQuery("#publishPDFModal_row2_"+a).hide(),jQuery("#publishPDFModal_row3_"+a).show()),jQuery("#publishPDFModal_row4_"+a).hide(),jQuery("#radioPublishAsPDF2_"+a).is(":checked")&&(jQuery("#publishPDFModal_row2_"+a).hide(),jQuery("#publishPDFModal_row3_"+a).hide(),jQuery("#publishPDFModal_row4_"+a).show()),jQuery("#publishPDFModal_"+a).show())}
function cvjs_publishPDF_modal_hide(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#publishPDFModal_"+a).hide()}var mergeDXF_modal_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_setMergeDXF(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,mergeDXF_modal_offset_flag[cvjs_active_floorplan_div_nr]&&(mergeDXF_modal_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#mergeDXFModal_"+a).css({position:"fixed"}),jQuery("#mergeDXFModal_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")?
(console.log("hide menu x2"),jQuery("#cvjs_mergedxfmode3").hide(),jQuery("#radioMergeAsDXF3_"+a).hide()):(console.log("show menu x2"),jQuery("#cvjs_mergedxfmode3").show(),jQuery("#radioMergeAsDXF3_"+a).show()),0==cvjs_preConversionFileExtension[cvjs_active_floorplan_div_nr].indexOf("pdf")&&cvjs_customPdfFolderFlag?(console.log("show entire document button"),jQuery("#mergeDXFModal_row2_"+a).show(),jQuery("#mergeDXFModal_row3_"+a).hide()):(console.log("hide button"),jQuery("#mergeDXFModal_row2_"+a).hide(),
jQuery("#mergeDXFModal_row3_"+a).show()),jQuery("#mergeDXFModal_row4_"+a).hide(),jQuery("#radioMergeAsDXF2_"+a).is(":checked")&&(jQuery("#mergeDXFModal_row2_"+a).hide(),jQuery("#mergeDXFModal_row3_"+a).hide(),jQuery("#mergeDXFModal_row4_"+a).show()),jQuery("#mergeDXFModal_"+a).show())}function cvjs_mergeDXF_modal_hide(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#mergeDXFModal_"+a).hide()}
var generic_color_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];function cvjs_setGenericColor(){generic_color_offset_flag[cvjs_active_floorplan_div_nr]&&(generic_color_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#genericColorModal").css({position:"fixed"}),jQuery("#genericColorModal").offset({left:150+jQuery("#"+floorplan_div).position().left,top:50+jQuery("#"+floorplan_div).position().top}));jQuery("#genericColorModal").show()}
var redline_linethickness_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],page_change_in_document_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_setRedlineThickness(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,redline_linethickness_offset_flag[cvjs_active_floorplan_div_nr]&&(redline_linethickness_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#thicknessModal_"+a).css({position:"fixed"}),jQuery("#thicknessModal_"+a).offset({left:150+
jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top})),jQuery("#thicknessModal_"+a).show())}function cvjs_setRedlineColorViaButton(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#colorModal_"+a).hide()}function cvjs_setRedlineColorFromPicker(a){cvjs_setCurrentRedlineValues_Color("#"+a)}
function cvjs_setRedlineThicknessViaButton(a){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);var d=jQuery("#cvjs_redlineThicknessInput_"+a).val();cvjs_setCurrentRedlineValues_StokeWidth(d);jQuery("#thicknessModal_"+a).hide();cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1}
function cvjs_drawRedlineRectangle(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawSpaceObject_RedlineRectangle()}
function cvjs_drawRedlineFilledRectangle(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawSpaceObject_FilledRedlineRectangle()}
function cvjs_drawRedlineCloud(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawSpaceObject_RedlineCloud()}
function cvjs_drawRedlinePolyline(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawSpaceObject_RedlinePolyline()}
function cvjs_drawRedlineFilledPolygon(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawSpaceObject_RedlineFilledPolygon()}
function cvjs_drawRedlineArrow(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawSpaceObject_RedlineArrowPolyline()}
var redline_text_offset_flag=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];
function cvjs_drawRedlineText(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,redline_text_offset_flag[cvjs_active_floorplan_div_nr]&&(redline_text_offset_flag[cvjs_active_floorplan_div_nr]=!1,jQuery("#redlinetextModal_"+a).css({position:"fixed"}),jQuery("#redlinetextModal_"+a).offset({left:150+jQuery("#"+a).position().left,
top:50+jQuery("#"+a).position().top})),jQuery("#redline_text").val(""),jQuery("#redlinetextModal_"+a).show())}function cvjs_hide_redline_text_modal(a){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#redlinetextModal_"+a).hide()}function cvjs_exitRedlineTextModal(){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!1;jQuery("#redlinetextModal").hide();try{tRubberBand_text1.attr({transform:"M0,0S0"})}catch(a){}}
var vqStickyNotes=[],vqRedlines=[],vqImageNotes=[],cvjs_stickynote=0,cvjs_redline=0,cvjs_StickyNoteRedlineUrl="",cvjs_StickyNoteSaveRedlineUrl="";function cvjs_setStickyNoteRedlineUrl(a){cvjs_StickyNoteRedlineUrl=a}
function cvjs_setStickyNoteSaveRedlineUrl(a){cvjs_StickyNoteSaveRedlineUrl=a;0<cvjs_StickyNoteSaveRedlineUrl.toLowerCase().indexOf(".dxf")?(cvjs_saveRedlinesAsDXF=!0,cvjs_saveRedlinesAsXML=!1):cvjs_saveRedlinesAsDXF=!1;0<cvjs_StickyNoteSaveRedlineUrl.toLowerCase().indexOf(".xml")?(cvjs_saveRedlinesAsXML=!0,cvjs_saveRedlinesAsDXF=!1):cvjs_saveRedlinesAsXML=!1}
function cvjs_drawRedline_Freehand(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawRedline__Freehand()}
function cvjs_drawRedline_Freehand_globalColorWidth(){cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned",cvjs_currentRedline_color,cvjs_currentRedline_strokeWidth,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawRedline_Freehand()}
function cvjs_drawRedline_Freehand_setValues(){cvjs_redline++;cvjs_setCurrentRedlineValues("RED_"+cvjs_redline,"redline"+cvjs_redline,cvjs_redline,"RedLineLayer","unassigned","#AA0055",3,cvjs_currentRotationAngle[cvjs_active_floorplan_div_nr]);cvjs_drawRedline_Freehand()}
function cvjs_drawStickyNote_setValues(){var a=new Date;cvjs_stickynote++;cvjs_setCurrentStickyNoteValues("SNOTE_"+cvjs_stickynote,"myName",cvjs_stickynote,"StickNoteLayer","unassigned","","X201",a,!0);cvjs_drawStickyNoteDirect()}
function cvjs_drawStickyNote(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]||(cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0,a=new Date,cvjs_stickynote++,cvjs_setCurrentStickyNoteValues("SNOTE_"+cvjs_stickynote,cvjs_currentStickyNote_name,cvjs_stickynote,cvjs_currentStickyNote_layer,cvjs_currentStickyNote_group,"",cvjs_currentStickyNote_userid,a,!0),cvjs_drawStickyNoteDirect())}
function cvjs_deleteLastRedline(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_setUpVqRedlines_deleteNode("RED_"+cvjs_redline);cvjs_redline--}function cvjs_deleteAllRedlines(){for(;0<cvjs_redline;)cvjs_setUpVqRedlines_deleteNode("RED_"+cvjs_redline),cvjs_redline--}
function cvjs_deleteAllStickyNotes(){for(;0<cvjs_stickynote;){cvjs_stickynote--;try{var a=vqStickyNotes[cvjs_stickynote].data("node");cvjs_setUpStickyNotes_deleteNode(a)}catch(d){}}}var stickyNotetimer,cvjs_fileLoaderRedlineMode=!1,cvjs_fileSaverRedlineMode=!1;
function cvjs_loadStickyNotesRedlines(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=void 0==a?0:cvjs_rPaperIndex(a);cvjs_debug&&console.log("!!!!!!!!!!!!!!!!!!!!!!!!   cvjs_loadStickyNotesRedlines "+cvjs_active_floorplan_div_nr+"  "+a);if(cvjs_loadRedlinesFileControllerFlag){a=cvjs_serverHandlersPath+cvjs_serverLoadFileControllerRedlines;cvjs_debug&&console.log("brach 2 "+a+"  file="+cvjs_StickyNoteRedlineUrl);var d={};d.file=cvjs_StickyNoteRedlineUrl;jQuery.ajax({url:a,
type:"post",data:d,success:function(a){cvjs_debug&&console.log("Load redlines: "+a);cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_addInlineScript(a);stickynotesRedlines_loaded=!0;cvjs_loadStickyNotesRedlinesTimer()},error:function(a){console.log("Error "+a)}})}else stickynotesRedlines_loaded=!1,0==current_redline_js_initialized?(current_redline_js_initialized=1,current_jsRedlinename=cvjs_StickyNoteRedlineUrl,cvjs_debug&&console.log("before loadJSbase redline "+cvjs_StickyNoteRedlineUrl),
loadJSbase(cvjs_StickyNoteRedlineUrl)):(cvjs_debug&&console.log("replace "+current_jsRedlinename+"  "+cvjs_StickyNoteRedlineUrl),replacejscssfile(current_jsRedlinename,cvjs_StickyNoteRedlineUrl,"js"),current_jsRedlinename=cvjs_StickyNoteRedlineUrl),cvjs_loadStickyNotesRedlinesTimer()}var myFlagOldTypeRedlines=!1,cvjs_redlineStickyNoteLayer=[];
function cvjs_loadStickyNotesRedlinesTimer(){if(stickynotesRedlines_loaded){load_failures=0;cvjs_collab_mode&&(console.log("clear collab redlines, after js files is loaded."),cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]));cvjs_setUpStickyNotesRedlines(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr]);cvjs_debug&&console.log("before loading loop");var a=1,d=0;try{for(var f=0;f<vqStickyNotes.length;f++){var h=cvjs_stickyNotesRedlines[f].node.toString();-1<h.substring("SNOTE_")&&
(h=h.substring(6),d=parseInt(h),d>a&&(a=d))}}catch(v){console.log("catching oldtime redline format issue: "+v)}cvjs_debug&&console.log("the maximum NOTE_ number is: "+a);for(f=0;f<cvjs_stickyNotesRedlines.length;f++)for(d=f+1;d<cvjs_stickyNotesRedlines.length;d++)if(cvjs_stickyNotesRedlines[f].node==cvjs_stickyNotesRedlines[d].node&&-1<cvjs_stickyNotesRedlines[f].node.indexOf("SNOTE_")){cvjs_debug&&console.log("We have double stickynotes "+cvjs_stickyNotesRedlines[f].node);a+=1;var n="SNOTE_"+a;cvjs_debug&&
console.log("the newNote="+n);for(var p=0;p<vqStickyNotes.length;p++)if(vqStickyNotes[p].data("node")==cvjs_stickyNotesRedlines[f].node)for(var q=p+1;q<vqStickyNotes.length;q++)vqStickyNotes[p].data("node")==vqStickyNotes[q].data("node")&&(cvjs_debug&&console.log("We have double path instances of "+vqStickyNotes[q].data("node")+", changing second instance to "+n),cvjs_stickyNotesRedlines[d].node=n,cvjs_stickyNotesRedlines[d].id=a,vqStickyNotes[q].data("node",n))}a=0;for(var t in vqStickyNotes){cvjs_debug&&
console.log(" snote="+t);for(var u in cvjs_stickyNotesRedlines)cvjs_stickyNotesRedlines[u].node==vqStickyNotes[t].data("node")&&(cvjs_debug&&console.log(u),d=parseInt(cvjs_stickyNotesRedlines[u].id),d>a&&(a=d),cvjs_setCurrentStickyNoteValues_All(cvjs_stickyNotesRedlines[u].node,cvjs_stickyNotesRedlines[u].name,cvjs_stickyNotesRedlines[u].id,cvjs_stickyNotesRedlines[u].layer,cvjs_stickyNotesRedlines[u].group,cvjs_stickyNotesRedlines[u].text,cvjs_stickyNotesRedlines[u].userid,cvjs_stickyNotesRedlines[u].date,
cvjs_stickyNotesRedlines[u].linked,cvjs_stickyNotesRedlines[u].transform,cvjs_stickyNotesRedlines[u].currentPage,cvjs_stickyNotesRedlines[u].drawingRotation),console.log(" cvjs_setUpVqStickyNotes_currentNode_vqIndex_passedInstance "+cvjs_currentStickyNote_underbar+"   "+t),vqStickyNotes[t].data("name",cvjs_currentStickyNote_name),vqStickyNotes[t].data("id",cvjs_currentStickyNote_id),vqStickyNotes[t].data("text",cvjs_currentStickyNote_text),vqStickyNotes[t].data("layer",cvjs_currentStickyNote_layer),
vqStickyNotes[t].data("group",cvjs_currentStickyNote_group),vqStickyNotes[t].data("linked",cvjs_currentStickyNote_linked),vqStickyNotes[t].data("userid",cvjs_currentStickyNote_userid),vqStickyNotes[t].data("date",cvjs_currentStickyNote_date),vqStickyNotes[t].data("currentPage",cvjs_currentStickyNote_currentPage),vqStickyNotes[t].data("transform",cvjs_currentStickyNote_transform),vqStickyNotes[t].data("drawingRotation",cvjs_currentStickyNote_drawingRotation),vqStickyNotes[t].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage?
vqStickyNotes[t].attr(hide):vqStickyNotes[t].attr(show))}n=1;d=0;try{for(f=0;f<vqRedlines.length;f++)h=cvjs_stickyNotesRedlines[f].node.toString(),-1<h.substring("RED_")&&(h=h.substring(4),d=parseInt(h),d>n&&(n=d))}catch(v){console.log("Catching old type redlines issues: "+v)}cvjs_debug&&console.log("the maximum RED_ number is: "+n);for(f=0;f<cvjs_stickyNotesRedlines.length;f++)for(d=f+1;d<cvjs_stickyNotesRedlines.length;d++)if(cvjs_stickyNotesRedlines[f].node==cvjs_stickyNotesRedlines[d].node&&-1<
cvjs_stickyNotesRedlines[f].node.indexOf("RED_"))for(cvjs_debug&&console.log("We have double redlines "+cvjs_stickyNotesRedlines[f].node),n+=1,h="RED_"+n,cvjs_debug&&console.log("the newRed="+h),p=0;p<vqRedlines.length;p++)if(vqRedlines[p].data("node")==cvjs_stickyNotesRedlines[f].node)for(q=p+1;q<vqRedlines.length;q++)vqRedlines[p].data("node")==vqRedlines[q].data("node")&&(console.log("We have double path instances of "+vqRedlines[q].data("node")+", changing second instance to "+h),cvjs_stickyNotesRedlines[d].node=
h,vqRedlines[q].data("node",h));for(t in vqRedlines)for(u in cvjs_stickyNotesRedlines)myFlagOldTypeRedlines=void 0==cvjs_stickyNotesRedlines[u].node?!0:!1,f=cvjs_stickyNotesRedlines[u].node==vqRedlines[t].data("node"),myFlagOldTypeRedlines&&(f=u==vqRedlines[t].data("node")),f&&(myFlagOldTypeRedlines?(cvjs_setCurrentRedlineValues_All(u,cvjs_stickyNotesRedlines[u].name,cvjs_stickyNotesRedlines[u].id,cvjs_stickyNotesRedlines[u].layer,cvjs_stickyNotesRedlines[u].group,cvjs_stickyNotesRedlines[u].color,
cvjs_stickyNotesRedlines[u].strokeWidth,cvjs_stickyNotesRedlines[u].fill,cvjs_stickyNotesRedlines[u].fill_opacity,cvjs_stickyNotesRedlines[u].transform,cvjs_stickyNotesRedlines[u].username,cvjs_stickyNotesRedlines[u].userid,cvjs_stickyNotesRedlines[u].currentPage,cvjs_stickyNotesRedlines[u].polypath_arrow,cvjs_stickyNotesRedlines[u].triangle_design,cvjs_stickyNotesRedlines[u].redline_text,0),cvjs_debug&&console.log("Old format making redline "+u)):(cvjs_setCurrentRedlineValues_All(cvjs_stickyNotesRedlines[u].node,
cvjs_stickyNotesRedlines[u].name,cvjs_stickyNotesRedlines[u].id,cvjs_stickyNotesRedlines[u].layer,cvjs_stickyNotesRedlines[u].group,cvjs_stickyNotesRedlines[u].color,cvjs_stickyNotesRedlines[u].strokeWidth,cvjs_stickyNotesRedlines[u].fill,cvjs_stickyNotesRedlines[u].fill_opacity,cvjs_stickyNotesRedlines[u].transform,cvjs_stickyNotesRedlines[u].username,cvjs_stickyNotesRedlines[u].userid,cvjs_stickyNotesRedlines[u].currentPage,cvjs_stickyNotesRedlines[u].polypath_arrow,cvjs_stickyNotesRedlines[u].triangle_design,
cvjs_stickyNotesRedlines[u].redline_text,cvjs_stickyNotesRedlines[u].drawingRotation),cvjs_debug&&console.log("New format making redline "+cvjs_stickyNotesRedlines[u].node)),cvjs_setUpVqRedlines_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentRedline_underbar),vqRedlines[t].mousedown(function(a){cvjs_deleteRedlineFlag&&(cvjs_deleteRedlineFlag=!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))}),vqRedlines[t].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+
document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)}),vqRedlines[t].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()}),vqRedlines[t].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage?vqRedlines[t].attr(hide):vqRedlines[t].attr(show));stickynote=vqStickyNotes.length;redline=vqRedlines.length;cvjs_stickynote=a;cvjs_debug&&console.log("how many redlines "+vqRedlines.length+"  how many stickynotes "+stickynote+"  the maximum StickyNoteNumber = "+
a);cvjs_updateDrawingRedlines(cvjs_redlineStickyNoteLayer[cvjs_active_floorplan_div_nr]);try{cvjs_OnLoadEndRedlines()}catch(v){console.log("Please define cvjs_OnLoadEndRedlines in your encapsulating code: "+v)}}else 80>load_failures?setTimeout(function(){cvjs_loadStickyNotesRedlinesTimer()},256):cvjs_debug&&console.log("Readline Load Failed! - please check if redline Url is set correct: cvjs_setStickyNoteRedlineUrl()")}var cvjs_deleteRedlineFlag=!1;
function cvjs_deleteSingleRedline(a){a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");void 0!=a&&(cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a));cvjs_deleteRedlineFlag=!0}
function cvjs_saveScreenAsImage_UploadSharepointListItem(a,d,f,h,n){for(var p="",q=0;q<vqStickyNotes.length;q++)0<q&&(p+="\n"),p=p+vqStickyNotes[q].data("id")+","+vqStickyNotes[q].data("name")+","+vqStickyNotes[q].data("userid")+","+vqStickyNotes[q].data("date")+","+vqStickyNotes[q].data("text");cvjs_phpImagesUrlController=cvjs_serverHandlersPath+cvjs_serverCreateThumb_StickyNote_Controller;cvjs_serverSave_php_controllerArray={};cvjs_serverSave_php_controllerArray.serverPath=a;cvjs_serverSave_php_controllerArray.fileName=
d.substring(0,d.indexOf(".png"));cvjs_serverSave_php_controllerArray.thumbFile1=cvjs_serverSave_php_controllerArray.fileName+"_200.png";cvjs_serverSave_php_controllerArray.thumbFile1_size=200;cvjs_serverSave_php_controllerArray.thumbFile2=cvjs_serverSave_php_controllerArray.fileName+"_400.png";cvjs_serverSave_php_controllerArray.thumbFile2_size=400;cvjs_serverSave_php_controllerArray.stickyNoteContent=p;cvjs_serverSave_php_controllerArray.sharepoint_user_name=f;cvjs_serverSave_php_controllerArray.sharepoint_list_name=
h;cvjs_serverSave_php_controllerArray.sharepoint_record_id=n;cvjs_serverSavePrintModeController=7;cvjs_saveScreenAsImage(a,d)}
function cvjs_batchConvertDrawingsToPDF(a,d,f,h){cvjs_batchDrawingsArrLength=a.length;cvjs_batchDrawingsArrLength_globalCounter=0;cvjs_drawingFilesArray=a;cvjs_pageOrientationArray=d;cvjs_pageSizeArray=f;cvjs_pageResolutionArray=h;cvjs_setCustomCallbackMethodOnLoadEnd(!0,cvjs_batchConvertOnLoadEndCustomMethod);cvjs_serverSavePrintModeController=2;cvjs_LoadDrawing(floorplan_div_Array[cvjs_active_floorplan_div_nr],cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter])}
function cvjs_batchConvertOnLoadEndCustomMethod(){if(cvjs_batchDrawingsArrLength_globalCounter==cvjs_batchDrawingsArrLength){cvjs_phpImagesUrlController=cvjs_phpPath+cvjs_batchFilesToPDF_Controller;cvjs_serverSave_php_controllerArray={};cvjs_serverSave_php_controllerArray.numberOfFiles=cvjs_batchDrawingsArrLength;var a=cvjs_ServerLocation+"/converters/files/";cvjs_serverSave_php_controllerArray.serverPath=a;for(i=0;i<cvjs_batchDrawingsArrLength;i++){a="fileName_"+i;var d=cvjs_drawingFilesArray[i].substring(cvjs_drawingFilesArray[i].lastIndexOf("/")+
1,cvjs_drawingFilesArray[i].lastIndexOf("."));cvjs_serverSave_php_controllerArray[a]=d;cvjs_serverSave_php_controllerArray["rotation_"+i]=cvjs_pageOrientationArray[i].toLowerCase();d=cvjs_pageSizeArray[i];if(0==d.toLowerCase().indexOf("ansi a")||0==d.toLowerCase().indexOf("letter"))d="LETTER";0==d.toLowerCase().indexOf("A4")&&(d="A4");0==d.toLowerCase().indexOf("A3")&&(d="A3");0==d.toLowerCase().indexOf("A2")&&(d="A2");cvjs_serverSave_php_controllerArray["page_format_"+i]=d;cvjs_serverSave_php_controllerArray["page_resolution_"+
i]=cvjs_pageResolutionArray[i]}jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).html('<table class="waitlooperTable" width="100" border="0" cellspacing="0" border-spacing="0" ><tr><td><div id="looper_image_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'"></div></td></tr><tr><td><div class="cvjs_wait_text_5" id="cvjs_wait_looper_text_id_'+floorplan_div_Array[cvjs_active_floorplan_div_nr]+'">'+languageTable.languages[cvjs_currentLanguage].WaitModal.BatchPDF+"</div></td></tr></table>");
cvjs_setLooperPosition();jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).fadeIn(1E3);jQuery.ajax({url:cvjs_phpImagesUrlController,type:"post",data:cvjs_serverSave_php_controllerArray,success:function(a){cvjs_serverSavePrintModeController=0;jQuery("#cvjs_wait_looper_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();console.log("here!");window.open(cvjs_ServerLocation+"/converters/files/"+a,"width="+screen.width*cvjs_print_to_pdf_windowRelativeSize+",height="+
screen.height*cvjs_print_to_pdf_windowRelativeSize);jQuery("#cvjs_wait_looper_"+floorplan_div_Array[0]).hide();cvjs_setCustomCallbackMethodOnLoadEnd(!1,"")},error:function(a){c("Error "+a)}})}else cvjs_setPrintPaperSize(cvjs_pageSizeArray[cvjs_batchDrawingsArrLength_globalCounter]),cvjs_setPrintOrientation(cvjs_pageOrientationArray[cvjs_batchDrawingsArrLength_globalCounter]),a=cvjs_ServerLocation+"/converters/files/",d=cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter].substring(cvjs_drawingFilesArray[cvjs_batchDrawingsArrLength_globalCounter].lastIndexOf("/")+
1),cvjs_saveScreenAsImage(a,d)}function cvjs_clearDrawingSpaceObjects(){cvjs_clearDrawing()}
function cvjs_clearDrawing(){for(room in vqRooms[cvjs_active_floorplan_div_nr])try{if(room!=lastObj[cvjs_active_floorplan_div_nr]||room!=popObj)jQuery(vqRooms[cvjs_active_floorplan_div_nr][room].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][room].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][room].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][room].attr(vqRooms[cvjs_active_floorplan_div_nr][room].data("defaultcolor")):
vqRooms[cvjs_active_floorplan_div_nr][room].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][room].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][room].attr(defaultColor_unlinked)}catch(a){}}
function cvjs_clearDrawingStickyNotes(){cvjs_debug&&console.log("cvjs_clearDrawingStickyNotes");try{for(room in vqStickyNotes)if(room!=spaceIdStickyNote[cvjs_active_floorplan_div_nr]||room!=lastObjStickyNote[cvjs_active_floorplan_div_nr])jQuery(vqStickyNotes[space].node.qtip).is(":visible")&&jQuery(vqStickyNotes[space].node).qtip("hide"),cvjs_supressPopUpModal?vqStickyNotes[room].data("linked")?vqStickyNotes[room].attr(defaultColor_linked):vqStickyNotes[room].attr(defaultColor_unlinked):vqStickyNotes[room].attr(defaultColor_StickyNotes)}catch(a){console.log("cvjs_clearDrawingStickyNotes_ "+
a)}}function cvjs_clearDrawingHyperlinks(){for(room in vqURLs)try{room==lastObjHyperlink[cvjs_active_floorplan_div_nr]&&room==popObjHyperlink[cvjs_active_floorplan_div_nr]||jQuery(vqURLs[room].node).qtip("hide"),cvjs_supressHyperlinkColors?vqURLs[room].attr(defaultColor_Hyperlinks_blank):vqURLs[room].attr(defaultColor_Hyperlinks)}catch(a){}}function cvjs_clearDrawingRedlines(){}
function cvjs_updateDrawingRedlines(a){cvjs_debug&&console.log(a+"cvjs_updateDrawingRedlines(redlineStickyNoteLayer) cvjs_updateDrawingRedlines(redlineStickyNoteLayer) cvjs_updateDrawingRedlines(redlineStickyNoteLayer)");try{cvjs_debug&&console.log("cvjs_updateDrawingRedlines() redline length "+vqRedlines.length+"  "+vqStickyNotes.length);if(0<vqRedlines.length)for(var d=0;d<vqRedlines.length;d++)if("none"!=vqRedlines[d].data("redline_text")&&void 0!=vqRedlines[d].data("redline_text")){var f=vqRedlines[d].data("redline_text").split("<br>");
try{cvjs_setCurrentRedlineValues_All(vqRedlines[d].data("node"),vqRedlines[d].data("name"),vqRedlines[d].data("id"),vqRedlines[d].data("layer"),vqRedlines[d].data("group"),vqRedlines[d].data("color"),vqRedlines[d].data("strokeWidth"),vqRedlines[d].data("fill"),vqRedlines[d].data("fill_opacity"),vqRedlines[d].data("transform"),vqRedlines[d].data("username"),vqRedlines[d].data("userid"),vqRedlines[d].data("currentPage"),vqRedlines[d].data("polypath_arrow"),vqRedlines[d].data("triangle_design"),vqRedlines[d].data("redline_text"),
vqRedlines[d].data("drawingRotation"));vqRedlines[d]=a.text(0,0,f).attr({stroke:cvjs_currentRedline_color,fill:cvjs_currentRedline_color,"font-size":cvjs_reference_font_size,transform:vqRedlines[d].data("transform")});for(var h=1;h<f.length;h++)vqRedlines[d].selectAll("tspan")[h].attr({x:0,dy:"1em"});vqRedlines[d].data("node",cvjs_currentRedline_underbar);vqRedlines[d].data("name",cvjs_currentRedline_name);vqRedlines[d].data("id",cvjs_currentRedline_id);vqRedlines[d].data("layer",cvjs_currentRedline_layer);
vqRedlines[d].data("group",cvjs_currentRedline_group);vqRedlines[d].data("color",cvjs_currentRedline_color);vqRedlines[d].data("strokeWidth",cvjs_currentRedline_strokeWidth);vqRedlines[d].data("fill",cvjs_currentRedline_fill);vqRedlines[d].data("fill_opacity",cvjs_currentRedline_fill_opacity);vqRedlines[d].data("transform",cvjs_currentRedline_transform);vqRedlines[d].data("username",cvjs_currentRedline_username);vqRedlines[d].data("userid",cvjs_currentRedline_userid);vqRedlines[d].data("currentPage",
cvjs_currentRedline_currentPage);vqRedlines[d].data("polypath_arrow",cvjs_currentRedline_polypath_arrow);vqRedlines[d].data("triangle_design",cvjs_currentRedline_triangle_design);vqRedlines[d].data("redline_text",cvjs_currentRedline_redline_text);vqRedlines[d].data("drawingRotation",cvjs_currentRedline_drawingRotation);vqRedlines[d].mousedown(function(a){cvjs_deleteRedlineFlag&&(cvjs_deleteRedlineFlag=!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))});vqRedlines[d].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});
var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+
document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-25)});vqRedlines[d].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()});if(vqRedlines[d].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage)vqRedlines[d].attr(hide);else{vqRedlines[d].attr(show);try{0!=vqRedlines[d].data("drawingRotation")&&cvjs_rotateAngle(vqRedlines[d].data("drawingRotation"),floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(n){console.log(n)}}}catch(n){console.log(n)}}else{if("none"!=
vqRedlines[d].data("polypath_arrow")&&void 0!=vqRedlines[d].data("polypath_arrow")){try{cvjs_setCurrentRedlineValues_All(vqRedlines[d].data("node"),vqRedlines[d].data("name"),vqRedlines[d].data("id"),vqRedlines[d].data("layer"),vqRedlines[d].data("group"),vqRedlines[d].data("color"),vqRedlines[d].data("strokeWidth"),vqRedlines[d].data("fill"),vqRedlines[d].data("fill_opacity"),vqRedlines[d].data("transform"),vqRedlines[d].data("username"),vqRedlines[d].data("userid"),vqRedlines[d].data("currentPage"),
vqRedlines[d].data("polypath_arrow"),vqRedlines[d].data("triangle_design"),vqRedlines[d].data("redline_text"),vqRedlines[d].data("drawingRotation")),a.add(vqRedlines[d])}catch(n){console.log(n)}vqRedlines[d].data("node",cvjs_currentRedline_underbar);vqRedlines[d].data("name",cvjs_currentRedline_name);vqRedlines[d].data("id",cvjs_currentRedline_id);vqRedlines[d].data("layer",cvjs_currentRedline_layer);vqRedlines[d].data("group",cvjs_currentRedline_group);vqRedlines[d].data("color",cvjs_currentRedline_color);
vqRedlines[d].data("strokeWidth",cvjs_currentRedline_strokeWidth);vqRedlines[d].data("fill",cvjs_currentRedline_fill);vqRedlines[d].data("fill_opacity",cvjs_currentRedline_fill_opacity);vqRedlines[d].data("transform",cvjs_currentRedline_transform);vqRedlines[d].data("username",cvjs_currentRedline_username);vqRedlines[d].data("userid",cvjs_currentRedline_userid);vqRedlines[d].data("currentPage",cvjs_currentRedline_currentPage);vqRedlines[d].data("polypath_arrow",cvjs_currentRedline_polypath_arrow);
vqRedlines[d].data("triangle_design",cvjs_currentRedline_triangle_design);vqRedlines[d].data("redline_text",cvjs_currentRedline_redline_text);vqRedlines[d].data("drawingRotation",cvjs_currentRedline_drawingRotation);vqRedlines[d].mousedown(function(a){cvjs_deleteRedlineFlag&&(cvjs_deleteRedlineFlag=!1,a=this.data("node"),cvjs_setUpVqRedlines_deleteNode(a))});vqRedlines[d].mouseover(function(a){tip[cvjs_active_floorplan_div_nr].css({position:"fixed"});var d="UserName: "+this.data("username");tip[cvjs_active_floorplan_div_nr].html(d);
tip[cvjs_active_floorplan_div_nr].show();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position();"absolute"==jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).css("position")?tip[cvjs_active_floorplan_div_nr].css("left",a.clientX+document.documentElement.scrollLeft+10).css("top",a.clientY+document.documentElement.scrollTop-25):tip[cvjs_active_floorplan_div_nr].css("left",a.clientX-d.left+document.documentElement.scrollLeft+10).css("top",a.clientY-d.top+document.documentElement.scrollTop-
25)});vqRedlines[d].mouseout(function(a){tip[cvjs_active_floorplan_div_nr].hide()});if(vqRedlines[d].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage)vqRedlines[d].attr(hide);else{vqRedlines[d].attr(show);try{0!=vqRedlines[d].data("drawingRotation")&&cvjs_rotateAngle(vqRedlines[d].data("drawingRotation"),floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(n){console.log(n)}}}else a.add(vqRedlines[d]);cvjs_debug&&console.log(vqRedlines[d]+"  "+vqRedlines[d].data("currentPage")+
" multi "+multiPages[cvjs_active_floorplan_div_nr].currentPage+(vqRedlines[d].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage));if(vqRedlines[d].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage)vqRedlines[d].attr(hide);else{vqRedlines[d].attr(show);try{0!=vqRedlines[d].data("drawingRotation")&&cvjs_rotateAngle(vqRedlines[d].data("drawingRotation"),floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(n){console.log(n)}}}if(0<vqStickyNotes.length)for(d=
0;d<vqStickyNotes.length;d++)if(cvjs_debug&&console.log("loop "+vqStickyNotes[d].data("name")),cvjs_setCurrentStickyNoteValues_All(vqStickyNotes[d].data("node"),vqStickyNotes[d].data("name"),vqStickyNotes[d].data("id"),vqStickyNotes[d].data("layer"),vqStickyNotes[d].data("group"),vqStickyNotes[d].data("text"),vqStickyNotes[d].data("userid"),vqStickyNotes[d].data("date"),vqStickyNotes[d].data("linked"),vqStickyNotes[d].data("transform"),vqStickyNotes[d].data("currentPage"),vqStickyNotes[d].data("drawingRotation")),
f=0,10>d&&(f=3),vqStickyNotes[d]=a.group(a.path("M0,0h20v20h-20v-20Z").attr({stroke:"#000000","stroke-width":"1.0"}),a.path("M7,12h1.3M9.5,12h3.5M11.25,12v5M9.75,12v1.75M12.75,12v1.75M10.5,17h1.5M7,13.5h1.3M7,15.25h3M7,17.0h2.2").attr({stroke:"#000000","stroke-width":"0.5"}),a.text(3+f,9,"#"+vqStickyNotes[d].data("id")).attr({"font-size":"8px","font-style":"italic",stroke:"#000000","stroke-width":"0.3",fill:"#000000","fill-opacity":1})).attr({transform:vqStickyNotes[d].data("transform"),opacity:"1"}).attr({fill:"#FFF",
"fill-opacity":"0.8",stroke:"#000","stroke-opacity":"1"}).data("node",vqStickyNotes[d].data("node")),a.add(vqStickyNotes[d]),cvjs_setUpVqStickyNotes_currentNode_PageChange(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentStickyNote_underbar,d),vqStickyNotes[d].data("currentPage")!=multiPages[cvjs_active_floorplan_div_nr].currentPage)vqStickyNotes[d].attr(hide);else{vqStickyNotes[d].attr(show);try{0!=vqStickyNotes[d].data("drawingRotation")&&cvjs_rotateAngle(vqStickyNotes[d].data("drawingRotation"),
floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(n){console.log(n)}}cvjs_rPaper[cvjs_active_floorplan_div_nr].add(a);a.prepend(cvjs_masterBackground[cvjs_active_floorplan_div_nr])}catch(n){console.log("cvjs_updateDrawingRedlines "+n)}}
function cvjs_clearAllDrawing(){for(room in vqRooms[cvjs_active_floorplan_div_nr]){!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][room].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][room].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][room].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][room].attr(defaultColor_unlinked);try{room==lastObj[cvjs_active_floorplan_div_nr]&&room==popObj||jQuery(vqRooms[cvjs_active_floorplan_div_nr][room].node).qtip("hide")}catch(a){}}}
function cvjs_highlightURL(a,d,f){cvjs_highlightURL_layersort(a,d,f,"")}
function cvjs_highlightURL_layersort(a,d,f,h){a=findUrl(a);if(0<=a){var n=vqURLs[a].attr().toString(),p="";a=!0;var q=0,t=0,u=0;if(-1<n.indexOf("path")){a=!0;p=n.indexOf(" d=");p=n.substring(p+4);var v=p.indexOf('" ');p=p.substring(0,v)}-1<n.indexOf("circle")&&(a=!1,q=n.indexOf(" cx="),q=n.substring(q+5),t=q.indexOf('"'),q=q.substring(0,t),t=n.indexOf(" cy="),t=n.substring(t+5),u=t.indexOf('"'),t=t.substring(0,u),u=n.indexOf(" r="),u=n.substring(u+4),v=u.indexOf('"'),u=u.substring(0,v));cvjs_debug&&
console.log("cvjs_highlightRoomCSS_layersort "+n+" "+q+" "+t+" "+u);v=n.indexOf(" fill=");n.substring(v+1);d=JSON.stringify(d);d=d.toString();d=d.split(",");n="#fff";v="0.5";for(var w="#fff",x=1,A="round",y="1",B=0;B<d.length;B++){var z=d[B];-1<z.indexOf('"fill"')&&(n=z.substring(z.indexOf(":")+1),-1<n.indexOf("}")&&(n=n.substring(0,n.indexOf("}"))));-1<z.indexOf('"fill-opacity"')&&(v=z.substring(z.indexOf(":")+1),-1<v.indexOf("}")&&(v=v.substring(0,v.indexOf("}"))));-1<z.indexOf('"stroke"')&&(w=
z.substring(z.indexOf(":")+1),-1<w.indexOf("}")&&(w=w.substring(0,w.indexOf("}"))));-1<z.indexOf('"stroke-width"')&&(x=z.substring(z.indexOf(":")+1),-1<x.indexOf("}")&&(x=x.substring(0,x.indexOf("}"))));-1<z.indexOf('"stroke-opacity"')&&(y=z.substring(z.indexOf(":")+1),-1<y.indexOf("}")&&(y=y.substring(0,y.indexOf("}"))));-1<z.indexOf('"stroke-linejoin"')&&(A=z.substring(z.indexOf(":")+1),-1<A.indexOf("}")&&(A=A.substring(0,A.indexOf("}"))))}try{var C=jQuery.parseJSON('{ "fill" : '+n+' , "fill-opacity": '+
v+' , "stroke": '+w+', "stroke-width": '+x+', "stroke-opacity": '+y+',  "stroke-linejoin": '+A+" }");a?f.add(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(p).attr(C)):f.add(cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(q,t,u,u).attr(C));try{h.prepend(f)}catch(E){}return 1}catch(E){cvjs_debug&&console.log("A2 "+E)}}return-1}function findURL(a){for(spc in vqURLs)if(vqURLs[spc].data("id")==a)return spc;return-1}
function cvjs_highlightRoomCSS(a,d){a=findRoom(a);0<=a&&(lastObj[cvjs_active_floorplan_div_nr]=a,vqRooms[cvjs_active_floorplan_div_nr][a].attr(d))}function cvjs_highlightAllSpaceObjects(a,d){for(spc in vqRooms[cvjs_active_floorplan_div_nr])cvjs_highlightRoomCSS_layer(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"),a,d)}
function cvjs_highlightAllRooms_layer(a,d){for(spc in vqRooms[cvjs_active_floorplan_div_nr])cvjs_highlightRoomCSS_layer(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id"),a,d)}function cvjs_highlightSpaceObjectIdDiv(a,d,f,h){cvjs_highlightRoomCSS_layersortDiv(a,d,f,h)}function cvjs_highlightSpaceObjectId(a,d,f){cvjs_highlightRoomCSS_layersort(a,d,f,layer_vqrooms[cvjs_active_floorplan_div_nr])}
function cvjs_highlightRoomCSS_layer(a,d,f){cvjs_highlightRoomCSS_layersort(a,d,f,layer_vqrooms[cvjs_active_floorplan_div_nr])}function cvjs_highlightRoomCSS_layersortDiv(a,d,f,h){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(h+"_svg");return-1!=cvjs_highlightRoomCSS_layersort(a,d,f,layer_vqrooms[cvjs_active_floorplan_div_nr])?!0:!1}
function cvjs_highlightRoomCSS_layersort(a,d,f,h){a=findFixture(a);if(-1==a)return-1;if(0<=a){lastObj[cvjs_active_floorplan_div_nr]=a;try{var n=vqRooms[cvjs_active_floorplan_div_nr][a].toString();0<n.indexOf("path")||0<n.indexOf("circle")||(n=vqRooms[cvjs_active_floorplan_div_nr][a].attr().toString())}catch(F){n=vqRooms[cvjs_active_floorplan_div_nr][a].attr().toString()}var p="";a=!0;var q=0,t=0,u=0;if(-1<n.indexOf("path")){a=!0;p=n.indexOf(" d=");p=n.substring(p+4);var v=p.indexOf('" ');p=p.substring(0,
v)}-1<n.indexOf("circle")&&(a=!1,q=n.indexOf(" cx="),q=n.substring(q+5),t=q.indexOf('"'),q=q.substring(0,t),t=n.indexOf(" cy="),t=n.substring(t+5),u=t.indexOf('"'),t=t.substring(0,u),u=n.indexOf(" r="),u=n.substring(u+4),v=u.indexOf('"'),u=u.substring(0,v));v=n.indexOf(" fill=");n.substring(v+1);d=JSON.stringify(d);d=d.toString();d=d.split(",");n="#fff";v="0.5";for(var w,x=1,A='"round"',y='"round"',B="1",z=0;z<d.length;z++){var C=d[z];-1<C.indexOf('"fill"')&&(n=C.substring(C.indexOf(":")+1),-1<n.indexOf("}")&&
(n=n.substring(0,n.indexOf("}"))));-1<C.indexOf('"fill-opacity"')&&(v=C.substring(C.indexOf(":")+1),-1<v.indexOf("}")&&(v=v.substring(0,v.indexOf("}"))));-1<C.indexOf('"stroke"')&&(w=C.substring(C.indexOf(":")+1),-1<w.indexOf("}")&&w.substring(0,w.indexOf("}")));-1<C.indexOf('"stroke-width"')&&(x=C.substring(C.indexOf(":")+1),-1<x.indexOf("}")&&(x=x.substring(0,x.indexOf("}"))));-1<C.indexOf('"stroke-opacity"')&&(B=C.substring(C.indexOf(":")+1),-1<B.indexOf("}")&&(B=B.substring(0,B.indexOf("}"))));
-1<C.indexOf('"stroke-linejoin"')&&(A=C.substring(C.indexOf(":")+1),-1<A.indexOf("}")&&(A=A.substring(0,A.indexOf("}"))));-1<C.indexOf('"stroke-linecap"')&&(y=C.substring(C.indexOf(":")+1),-1<y.indexOf("}")&&(y=y.substring(0,y.indexOf("}"))),cvjs_debug&&console.log("strokelinecap_var "+y))}try{var E=jQuery.parseJSON('{ "fill" : '+n+' , "fill-opacity": '+v+' , "stroke": '+n+', "stroke-width": '+x+', "stroke-opacity": '+B+',  "stroke-linejoin": '+A+',  "stroke-linecap": '+y+" }");a?f.path(p).attr(E):
f.circle(q,t,u,u).attr(E);try{h.prepend(f)}catch(F){}return 1}catch(F){cvjs_debug&&console.log("A2 "+F)}}return-1}function cvjs_highlightSpaceBorderCSS_layersortDiv(a,d,f,h,n){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(h+"_svg");return-1!=cvjs_highlightSpaceBorderCSS_layersort(a,d,f,layer_vqrooms[cvjs_active_floorplan_div_nr],n)?!0:!1}
function cvjs_highlightSpaceBorderCSS_layersort(a,d,f,h,n){var p=findFixture(a);if(0<=p){cvjs_debug&&console.log("rmid "+a+" rm="+p);lastObj[cvjs_active_floorplan_div_nr]=p;try{var q=vqRooms[cvjs_active_floorplan_div_nr][p].toString();0<q.indexOf("path")||0<q.indexOf("circle")||(q=vqRooms[cvjs_active_floorplan_div_nr][p].attr().toString())}catch(C){q=vqRooms[cvjs_active_floorplan_div_nr][p].attr().toString()}p="";a=!0;var t=0,u=0,v=0;if(-1<q.indexOf("path")){a=!0;p=q.indexOf(" d=");p=q.substring(p+
4);var w=p.indexOf('" ');p=p.substring(0,w)}-1<q.indexOf("circle")&&(a=!1,t=q.indexOf(" cx="),t=q.substring(t+5),u=t.indexOf('"'),t=t.substring(0,u),u=q.indexOf(" cy="),u=q.substring(u+5),v=u.indexOf('"'),u=u.substring(0,v),v=q.indexOf(" r="),v=q.substring(v+4),w=v.indexOf('"'),v=v.substring(0,w));w=q.indexOf(" fill=");q.substring(w+1);d=JSON.stringify(d);d=d.toString();d=d.split(",");w=1;var x='"round"';q="#fff";for(var A=0;A<d.length;A++){var y=d[A];if(-1<y.indexOf('"fill"')){var B=y.substring(y.indexOf(":")+
1);-1<B.indexOf("}")&&B.substring(0,B.indexOf("}"))}-1<y.indexOf('"fill-opacity"')&&(B=y.substring(y.indexOf(":")+1),-1<B.indexOf("}")&&B.substring(0,B.indexOf("}")));-1<y.indexOf('"stroke"')&&(q=y.substring(y.indexOf(":")+1),-1<q.indexOf("}")&&(q=q.substring(0,q.indexOf("}"))));-1<y.indexOf('"stroke-width"')&&(w=y.substring(y.indexOf(":")+1),-1<w.indexOf("}")&&(w=w.substring(0,w.indexOf("}"))));-1<y.indexOf('"stroke-opacity"')&&(B=y.substring(y.indexOf(":")+1),-1<B.indexOf("}")&&B.substring(0,B.indexOf("}")));
-1<y.indexOf('"stroke-linejoin"')&&(x=y.substring(y.indexOf(":")+1),-1<x.indexOf("}")&&(x=x.substring(0,x.indexOf("}"))));-1<y.indexOf('"stroke-linecap"')&&(y=y.substring(y.indexOf(":")+1),-1<y.indexOf("}")&&(y=y.substring(0,y.indexOf("}"))),cvjs_debug&&console.log("2 strokelinecap_var "+y))}try{n='{ "fill" : "#fff" , "fill-opacity": 0.0 , "stroke": '+q+', "stroke-width": '+w*n+', "stroke-opacity": 1,  "stroke-linejoin": '+x+" }";cvjs_debug&&console.log(n);var z=jQuery.parseJSON(n);a?f.add(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(p).attr(z)):
f.add(cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(t,u,v,v).attr(z));try{h.prepend(f)}catch(C){}return 1}catch(C){cvjs_debug&&console.log("A2 "+C)}}return-1}function findFixture(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a)return spc;cvjs_debug&&console.log("no match!");return-1}
function findNodeFromId(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a)return vqRooms[cvjs_active_floorplan_div_nr][spc].data("node");cvjs_debug&&console.log("no match!");return-1}
function cvjs_highlightFixtureCSS_layersort(a,d,f,h,n){a=findFixture(a);if(0<=a){lastObj[cvjs_active_floorplan_div_nr]=a;var p=vqRooms[cvjs_active_floorplan_div_nr][a].attr().toString();a=!0;if(-1<p.indexOf("path")){a=!0;var q=p.indexOf(" d=");q=p.substring(q+4);var t=q.indexOf('" ');q=q.substring(0,t)}if(-1<p.indexOf("circle")){a=!1;var u=p.indexOf(" cx=");u=p.substring(u+5);var v=u.indexOf('"');u=u.substring(0,v);v=p.indexOf(" cy=");v=p.substring(v+5);var w=v.indexOf('"');v=v.substring(0,w);w=p.indexOf(" r=");
w=p.substring(w+4);t=w.indexOf('"');w=w.substring(0,t)}t=p.indexOf(" fill=");p.substring(t+1);d=JSON.stringify(d);d=d.toString();d=d.split(",");p="#fff";t="0.5";for(var x="#fff",A=1,y="round",B="1",z=0;z<d.length;z++){var C=d[z];-1<C.indexOf('"fill"')&&(p=C.substring(C.indexOf(":")+1),-1<p.indexOf("}")&&(p=p.substring(0,p.indexOf("}"))));-1<C.indexOf('"fill-opacity"')&&(t=C.substring(C.indexOf(":")+1),-1<t.indexOf("}")&&(t=t.substring(0,t.indexOf("}"))));-1<C.indexOf('"stroke"')&&(x=C.substring(C.indexOf(":")+
1),-1<x.indexOf("}")&&(x=x.substring(0,x.indexOf("}"))));-1<C.indexOf('"stroke-width"')&&(A=C.substring(C.indexOf(":")+1),-1<A.indexOf("}")&&(A=A.substring(0,A.indexOf("}"))));-1<C.indexOf('"stroke-opacity"')&&(B=C.substring(C.indexOf(":")+1),-1<B.indexOf("}")&&(B=B.substring(0,B.indexOf("}"))));-1<C.indexOf('"stroke-linejoin"')&&(y=C.substring(C.indexOf(":")+1),-1<y.indexOf("}")&&(y=y.substring(0,y.indexOf("}"))))}try{var E=jQuery.parseJSON('{ "fill" : '+p+' , "fill-opacity": '+t+' , "stroke": '+
x+', "stroke-width": '+A+', "stroke-opacity": '+B+',  "stroke-linejoin": '+y+" }");a?f.add(cvjs_rPaper[cvjs_active_floorplan_div_nr].path(q).transform(n).attr(E)):f.add(cvjs_rPaper[cvjs_active_floorplan_div_nr].circle(u,v,w,w).transform(n).attr(E));try{h.prepend(f)}catch(F){}return 1}catch(F){cvjs_debug&&console.log("A2 "+F)}}return-1}
function cvjs_highlightRoomRGB(a,d,f,h){a=findRoom(a);0<=a&&(lastObj[cvjs_active_floorplan_div_nr]=a,vqRooms[cvjs_active_floorplan_div_nr][a].attr({fill:rgb(d,f,h),"fill-opacity":"0.7"}))}function cvjs_highlightRoomHex(a,d){a=findRoom(a);0<=a&&(lastObj[cvjs_active_floorplan_div_nr]=a,vqRooms[cvjs_active_floorplan_div_nr][a].attr({fill:"#"+d,"fill-opacity":"0.7"}))}
function cvjs_highlightRoomByIdHex(a,d){a=findRoomById(a);0<=a&&(lastObj[cvjs_active_floorplan_div_nr]=a,vqRooms[cvjs_active_floorplan_div_nr][a].attr({fill:"#"+d,"fill-opacity":"0.7"}))}
function clearRoom(a){a=findRoom(a);0<=a&&(!cvjs_supressPopUpModal||cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][a].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][a].attr(vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor")):vqRooms[cvjs_active_floorplan_div_nr][a].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][a].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][a].attr(defaultColor_unlinked))}
function cvjs_highlightRoomImmediate(a,d){void 0==d?cvjs_clearDrawing():1==d&&cvjs_clearDrawing();if(cvjs_supressSingleSpaceHighLight)return f;var f=findRoom(a);0<=f&&(lastObj[cvjs_active_floorplan_div_nr]=f,!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][f].attr(selectColor):vqRooms[cvjs_active_floorplan_div_nr][f].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][f].attr(selectColor_linked):vqRooms[cvjs_active_floorplan_div_nr][f].attr(selectColor_unlinked));
return f}function cvjs_highlightRoomImmediateHyperlinks(a){cvjs_clearDrawingHyperlinks();a=findUrl(a);0<=a&&(lastObjHyperlink[cvjs_active_floorplan_div_nr]=a,cvjs_supressPopUpModal?cvjs_supressHyperlinkColors?vqURLs[a].attr(defaultColor_Hyperlinks_blank):vqURLs[a].attr(defaultColor_Hyperlinks):cvjs_supressHyperlinkColors?vqURLs[a].attr(defaultColor_Hyperlinks_blank):vqURLs[a].attr(selectColor));return a}
function cvjs_highlightRoomImmediateStickyNotes(a){cvjs_clearDrawingStickyNotes();a=findStickyNotes(a);0<=a&&(lastObjStickyNote[cvjs_active_floorplan_div_nr]=a,cvjs_supressPopUpModal?vqStickyNotes[a].data("linked")?vqStickyNotes[a].attr(selectColor_linked):vqStickyNotes[a].attr(selectColor_unlinked):vqStickyNotes[a].attr(selectColor_StickyNotes));return a}
function cvjs_highlightRoomImmediateNoClearDrawing(a){a=findRoom(a);if(0<=a)return lastObj[cvjs_active_floorplan_div_nr]=a,!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][a].attr(selectColor):vqRooms[cvjs_active_floorplan_div_nr][a].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][a].attr(selectColor_linked):vqRooms[cvjs_active_floorplan_div_nr][a].attr(selectColor_unlinked),a}
function highlightRoomVqId(a){cvjs_clearDrawing();lastObj[cvjs_active_floorplan_div_nr]=a;vqRooms[cvjs_active_floorplan_div_nr][a].attr(highlight)}function highlightRoom(a){cvjs_clearDrawing();a=findRoom(a);if(0<=a)return lastObj[cvjs_active_floorplan_div_nr]=a,vqRooms[cvjs_active_floorplan_div_nr][a].animate(highlight,300),a}function cvjs_activateSpaceObjectModal_Id(a){change_space_fixed_location(a)}
function cvjs_activateSpaceObjectModal_Node(a){a=findIdFromNode(a);change_space_fixed_location(a)}var cvjs_supressPopUpModal_callback_JS=!1;
function change_space_fixed_location(a,d){void 0!=d&&(cvjs_active_floorplan_div_nr=d);cvjs_debug&&console.log("change_space_fixed_location "+a+"  "+d+"  cvjs_supressPopUpModal_callback_JS"+cvjs_supressPopUpModal_callback_JS);if(cvjs_supressPopUpModal_callback_JS){hidePop();if(0==a){closeAllPopups(-1);try{cvjs_NoObjectSelected()}catch(t){}}else space=cvjs_highlightRoomImmediate(a,!0),0<=space&&(spaceId=a,lastObj[cvjs_active_floorplan_div_nr]=space,jQuery(vqRooms[cvjs_active_floorplan_div_nr][space].node).qtip("destroy"));
cvjs_change_space(a);cvjs_ObjectSelected(a)}else{if(cvjs_callbackForModalDisplayVar){d=cvjs_customModalPopUpBody(a);var f=findRoom(a),h="";cvjs_isLicensed=!0;h='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][f].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][f].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+f+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+
vqRooms[cvjs_active_floorplan_div_nr][f].data("type")+"</h4></td></tr></table>";console.log("we are licensed  "+cvjs_licensedDaysLeft);jQuery(vqRooms[cvjs_active_floorplan_div_nr][f].node).qtip({content:{text:d,title:h},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});f=vqRooms[cvjs_active_floorplan_div_nr][f].data("node");cvjs_getAttributeStatus(f)}hidePop();if(0==a){closeAllPopups(-1);try{cvjs_NoObjectSelected()}catch(t){}}else{console.log("fixed location 2 cvjs_supressPopUpModal "+
cvjs_supressPopUpModal);space=cvjs_highlightRoomImmediate(a,!0);if(0<=space){spaceId=a;lastObj[cvjs_active_floorplan_div_nr]=space;if(1==cvjs_supressPopUpModal)console.log("cv changespace fixed destroy "),jQuery(vqRooms[cvjs_active_floorplan_div_nr][space].node).qtip("destroy");else{console.log("cv changespace fixed show/hide/destroy");jQuery(vqRooms[cvjs_active_floorplan_div_nr][space].node).qtip("show");var n={};jQuery("*[id]").each(function(){var a=jQuery(this).attr("id");n[a]||(n[a]=!0)});for(var p in n){var q=
"#"+p;try{0!=jQuery(q).attr("id").indexOf("qtip-")||0<q.indexOf("-title")||0<q.indexOf("-content")||(console.log("drag "+q),jQuery(function(){jQuery(q).draggable({cancel:"+content+"})}))}catch(t){}}cvjs_callbackForModalDisplayVar&&("unpopulated"==cvjs_getAttributeStatus(f)?cvjs_callbackForModalDisplay(a,f):cvjs_populateMyCustomPopUpBody(a,f))}popObj[cvjs_active_floorplan_div_nr]=space}try{1==cluster_host_flag&&1==cvjs_supressPopUpModal?xcvjs_ObjectSelected(a,floorplan_div_Array[cvjs_active_floorplan_div_nr]):
cvjs_ObjectSelected(a,floorplan_div_Array[cvjs_active_floorplan_div_nr])}catch(t){}}cvjs_supressPopUpModal&&cvjs_update_done_edit_location_fields(a)}}
function change_space_fixed_locationStickyNotes(a){cvjs_debug_stickynotes&&window.alert("rmid ="+a);hidePopStickyNotes();if(0==a){closeAllPopupsStickyNotes(-1);try{cvjs_NoObjectSelectedStickyNotes()}catch(h){}}else{space=cvjs_highlightRoomImmediateStickyNotes(a);cvjs_debug_stickynotes&&window.alert("X in change_space_fixed    cvjs_supressPopUpModal "+cvjs_supressPopUpModal+"  "+space+" spaceIdStickNote "+spaceIdStickyNote[cvjs_active_floorplan_div_nr]+" lastObjStickyNote[cvjs_active_floorplan_div_nr]  "+
lastObjStickyNote[cvjs_active_floorplan_div_nr]);if(0<=space){spaceIdStickyNote[cvjs_active_floorplan_div_nr]=a;lastObjStickyNote[cvjs_active_floorplan_div_nr]=space;if(1==cvjs_supressPopUpModal)jQuery(vqStickyNotes[space].node.qtip).is(":visible")&&jQuery(vqStickyNotes[space].node).qtip("hide");else{jQuery(vqStickyNotes[space].node.qtip).is(":visible")||jQuery.when(jQuery(vqStickyNotes[space].node).qtip("show")).then(function(a,d,f){});for(var d=document.getElementsByTagName("div"),f=0;f<d.length;f++)-1<
d[f].id.indexOf("qtip-")&&-1==d[f].id.indexOf("-content")&&-1==d[f].id.indexOf("-title")&&(StickNoteQtipDiv=d[f].id)}popObjStickyNote[cvjs_active_floorplan_div_nr]=space}try{cvjs_ObjectSelectedStickyNotes(a)}catch(h){}}}
function change_space_fixed_locationHyperlink(a){if(0==a){closeAllPopupsHyperlinks(-1);try{cvjs_NoObjectSelectedHyperlinks()}catch(d){}}else{space=cvjs_highlightRoomImmediateHyperlinks(a);0<=space&&(spaceIdHyperlink=a,lastObjHyperlink[cvjs_active_floorplan_div_nr]=space,1==cvjs_supressPopUpModal?(jQuery(vqURLs[space].node).qtip("show"),jQuery(vqURLs[space].node).qtip("hide")):jQuery(vqURLs[space].node).qtip("show"),popObjHyperlink[cvjs_active_floorplan_div_nr]=space);try{cvjs_ObjectSelectedHyperlink(a)}catch(d){}}}
function cvjs_mysimple_encode(a){a=ABC.toAscii(a);key=0;var d=a.charAt(0);var f="";for(var h=0;h<d;h++){for(var n="",p=0;3>p;p++){var q=a.charAt(1+3*h+p);q=q.toString();n+=q}n=parseInt(n);n=256-n;f+=String.fromCharCode(n)}key=parseInt(f);f="";for(h=0;h<(a.length-1-3*d)/3;h++){n="";for(p=0;3>p;p++)q=a.charAt(1+3*d+3*h+p),q=q.toString(),n+=q;n=parseInt(n);n=256-n;f+=String.fromCharCode(n)}return f}
var ABC={toAscii:function(a){return a.replace(/\s*[01]{8}\s*/g,function(a){return String.fromCharCode(parseInt(a,2))})},toBinary:function(a,d){return a.replace(/[\s\S]/g,function(a){a=ABC.zeroPad(a.charCodeAt().toString(2));return 0==d?a:a+" "})},zeroPad:function(a){return"00000000".slice(String(a).length)+a}},cvjs_LicenseKeyPath="../app/js/",cvjs_isLicensed=!1,cvjs_licensedDaysLeft=40;
function cvjs_setLicenseKeyPath(a){cvjs_LicenseKeyPath=a;try{loadJSbase(cvjs_LicenseKeyPath+"cvlicense.js")}catch(d){cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],languageTable.languages[cvjs_currentLanguage].InfoMessageModal.LicensePath+a),cvjs_isLicensed=!1}}var cvjsLicenseKey;function cvjs_setLicenseKeyDirect(a){cvjsLicenseKey=jQuery.parseJSON(a);cvjs_licenseKeyLoaded=!0}var cvjs_licenseKeyLoaded=!1;
function CheckLicenseLoad(a,d,f,h,n){if(cvjs_licenseKeyLoaded){load_failures=0;try{void 0==cvjsLicenseKey.cvKey&&(cvjs_isLicensed=!1)}catch(z){cvjs_isLicensed=!1}var p=cvjs_currentURL(),q=cvjs_mysimple_encode(cvjsLicenseKey.cvKey),t=q.split(":"),u=!1;if(1==t.length)u=!0;else{var v=t[1].split("-");q=Number(v[0]);var w=Number(v[1]);v=Number(v[2]);var x=new Date,A=Number(x.getMonth()+1),y=Number(x.getDate());x=Number(x.getFullYear());q>x?(u=!0,cvjs_licensedDaysLeft=40,1==q-x&&1==w&&12==A&&(cvjs_licensedDaysLeft=
v>y?40:31-v+y)):q==x&&w>A?(u=!0,cvjs_licensedDaysLeft=2<=w-A?40:v>y?40:30-v+y):q==x&&w==A&&v>=y&&(u=!0,cvjs_licensedDaysLeft=v-y);q=t[0]}t=q.split(";");if(1==t.length)cvjs_isLicensed=-1<p.indexOf(q)?!0:!1;else{q=!0;cvjs_isLicensed=!1;for(var B in t)q&&-1<p.indexOf(t[B])&&(cvjs_isLicensed=!0,q=!1)}u||(cvjs_isLicensed=!1);cvjs_LoadDrawing_Conversion_original(a,d,f,h,n)}else 5>load_failures?(load_failures++,setTimeout(function(){CheckLicenseLoad(a,d,f,h,n)},256)):(cvjs_isLicensed=!1,load_failures=0,
cvjs_LoadDrawing_Conversion_original(a,d,f,h,n))}function cvjs_checkLicensePreThenLoad(a,d,f,h,n){load_failures=0;CheckLicenseLoad(a,d,f,h,n)}
function cvjs_checkLicense(){try{cvjs_debug&&console.log(cvjsLicenseKey);try{if(void 0==cvjsLicenseKey.cvKey){cvjs_debug&&console.log("cvjsLicenseKey.cvKey undefined!");jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();var a=actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr],d='{ "font-size" : "'+.04*a+'" , "font-family": "arial" }';try{var f=jQuery.parseJSON(d)}catch(D){console.log(D)}var h=
cvjs_rPaper[cvjs_active_floorplan_div_nr].text(actualLLX[cvjs_active_floorplan_div_nr]+.2*(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]),actualLLY[cvjs_active_floorplan_div_nr]+.2*(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]),"CADViewer Trial Version").attr(f).attr({fill:"rgb(237,137,137)",stroke:"rgb(237,137,137)","fill-opacity":"1"});cvjs_masterBackground[cvjs_active_floorplan_div_nr].add(h);cvjs_debug&&console.log("License key not found or corrupt! Your CADViewer URl is: "+
cvjs_currentURL());var n=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.LicenseNotFound;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],n);return}}catch(D){cvjs_debug&&console.log("license key err"+D);var p=cvjs_masterBackground[cvjs_active_floorplan_div_nr].getBBox();a=p.height;d='{ "font-size" : "'+.1*a+'" , "font-family": "arial" }';try{f=jQuery.parseJSON(d)}catch(J){console.log(J)}h=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(p.x+.1*p.width,p.y+
.5*p.height,"CADViewer Trial Version").attr(f).attr({fill:"rgb(237,137,137)",stroke:"rgb(237,137,137)","fill-opacity":"1"});cvjs_SVGGroup[cvjs_active_floorplan_div_nr].add(h);cvjs_isLicensed=!1;cvjs_debug&&console.log("2 License key not found or corrupt! Your CADViewer URl is: "+cvjs_currentURL());n=languageTable.languages[cvjs_currentLanguage].InfoMessageModal.LicenseNotFound;cvjs_displayInformationModal(floorplan_div_Array[cvjs_active_floorplan_div_nr],n);return}var q=cvjs_currentURL(),t=cvjs_mysimple_encode(cvjsLicenseKey.cvKey),
u=t.split(":");n=!1;if(1==u.length)n=!0;else{var v=u[1].split("-"),w=Number(v[0]),x=Number(v[1]),A=Number(v[2]),y=new Date,B=Number(y.getMonth()+1),z=Number(y.getDate()),C=Number(y.getFullYear());w>C?n=!0:w==C&&x>B?n=!0:w==C&&x==B&&A>=z&&(n=!0);t=u[0]}var E=t.split(";");cvjs_debug&&console.log(q+"  "+t);if(1==E.length)cvjs_isLicensed=-1<q.indexOf(t)?!0:!1;else{t=!0;cvjs_isLicensed=!1;for(var F in E)t&&-1<q.indexOf(E[F])&&(cvjs_isLicensed=!0,t=!1)}n||(cvjs_isLicensed=!1);cvjs_debug&&console.log("DATE CHECK "+
n+"   license is "+cvjs_isLicensed);if(!cvjs_isLicensed){p=cvjs_masterBackground[cvjs_active_floorplan_div_nr].getBBox();a=p.height;d='{ "font-size" : "'+.1*a+'" , "font-family": "arial" }';try{f=jQuery.parseJSON(d)}catch(D){console.log(D)}h=cvjs_rPaper[cvjs_active_floorplan_div_nr].text(p.x+.1*p.width,p.y+.5*p.height,"CADViewer Trial Version").attr(f).attr({fill:"rgb(237,137,137)",stroke:"rgb(237,137,137)","fill-opacity":"1"});cvjs_SVGGroup[cvjs_active_floorplan_div_nr].add(h);q.substring(0,q.lastIndexOf("/"));
cvjs_isLicensed=!1}}catch(D){console.log("cvjs_checkLicense error: "+D)}}
function cvjs_LayerListSpaceObject(a,d){void 0==d&&(d=1);a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);if(!cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]){cvjs_interactiveMethod_Active[cvjs_active_floorplan_div_nr]=!0;cvjs_debug&&console.log(a.lastIndexOf("_svg")+"  "+(a.length-4));a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_layerListSpace=new List("layerListSpaceObject_"+a,cvjs_layerOptionsSpace,cvjs_layerValuesSpace);for(i=0;i<
layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;i++){var f="javascript: cvjs_LayerListSpaceClick("+i+")",h="javascript: cvjs_LayerTypeSpaceClick("+i+","+d+")";var n=languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned;1==d&&(n=-1<layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName.indexOf(cvjs_convertRoomLayer)&&layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName.length==cvjs_convertRoomLayer.length?"<b style='color:magenta;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.RoomLayer+
"</b>":-1<layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName.indexOf(cvjs_convertTextLayer)&&layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName.length==cvjs_convertTextLayer.length?"<b style='color:red;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.TextLayer+"</b>":languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned);2==d&&(n=1==cvjs_convertHandleLayer[i]?"<b style='color:magenta;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.HandleLayer+
"</b>":languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned);3==d&&(1==cvjs_floodfillSpaceIDLayerTable[i]?(n="<b style='color:magenta;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.FloodfillLayer+"</b>",cvjs_spaceIDLayer=layerTable[cvjs_active_floorplan_div_nr].layers[id].layer):n=languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned);"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&cvjs_layerListSpace.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Off,
text_room_layer:n,link:f,link_text_room_l:h,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName});"ON"==layerTable[cvjs_active_floorplan_div_nr].layers[i].status&&cvjs_layerListSpace.add({selected:languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.On,text_room_layer:n,link:f,link_text_room_l:h,id:i,layer:layerTable[cvjs_active_floorplan_div_nr].layers[i].layerName})}layerlistspaceobject_offset_flag[cvjs_active_floorplan_div_nr]&&(layerlistspaceobject_offset_flag[cvjs_active_floorplan_div_nr]=
!1,jQuery("#layerListSpaceObject_"+a).css({position:"fixed"}),jQuery("#layerListSpaceObject_"+a).offset({left:150+jQuery("#"+a).position().left,top:50+jQuery("#"+a).position().top}));jQuery("#layerListSpaceObject_"+a).show()}}
function cvjs_LayerListSpaceClick(a){"OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[a].status?(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[a].layer),cvjs_spaceObjectLayerOnOff(floorplan_div_Array[cvjs_active_floorplan_div_nr],layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName,"on"),layerTable[cvjs_active_floorplan_div_nr].layers[a].status="ON",a=cvjs_layerListSpace.get("id",a)[0],a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.On})):
(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[a].layer),layerTable[cvjs_active_floorplan_div_nr].layers[a].status="OFF",cvjs_spaceObjectLayerOnOff(floorplan_div_Array[cvjs_active_floorplan_div_nr],layerTable[cvjs_active_floorplan_div_nr].layers[a].layerName,"off"),a=cvjs_layerListSpace.get("id",a)[0],a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Off}))}
function cvjs_LayerTypeSpaceClick(a,d){var f=cvjs_layerListSpace.get("id",a)[0],h=f.values().text_room_layer;1==d&&(h=-1<h.indexOf(languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned)?"<b style='color:red;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.TextLayer+"</b>":-1<h.indexOf(languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.TextLayer)?"<b style='color:magenta;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.RoomLayer+
"</b>":languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned);2==d&&(0==cvjs_convertHandleLayer[a]?(h="<b style='color:magenta;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.HandleLayer+"</b>",cvjs_convertHandleLayer[a]=!0):(h=languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned,cvjs_convertHandleLayer[a]=!1));3==d&&(0==cvjs_floodfillSpaceIDLayerTable[a]?(h="<b style='color:magenta;'>"+languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.FloodfillLayer+
"</b>",cvjs_floodfillSpaceIDLayerTable[a]=!0,cvjs_spaceIDLayer=layerTable[cvjs_active_floorplan_div_nr].layers[a].layer):(h=languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.NotAssigned,cvjs_floodfillSpaceIDLayerTable[a]=!1,cvjs_spaceIDLayer="None Selected"));cvjs_debug&&console.log("after:  mode "+a+"  "+cvjs_convertHandleLayer[a]);f.values({text_room_layer:h})}
function modal_all_layer_off_space(){for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF",cvjs_layerListSpace.get("id",id)[0].values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.Off});cvjs_allSpaceObjectsOff(floorplan_div_Array[cvjs_active_floorplan_div_nr])}
function all_layer_off_thumb_on(){var a=!1;for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"cvjs_Thumb"==layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName&&(a=!0);if(a)for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"cvjs_Thumb"==layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName?(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON"):(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),
layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF")}
function all_layer_on_thumb_off(){var a=!1;for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"cvjs_Thumb"==layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName&&(a=!0);if(a)for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)"cvjs_Thumb"==layerTable[cvjs_active_floorplan_div_nr].layers[id].layerName?(cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF"):(cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),
layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON")}
function modal_all_layer_on_space(){for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON",cvjs_layerListSpace.get("id",id)[0].values({selected:languageTable.languages[cvjs_currentLanguage].LayerListModal.On});cvjs_allSpaceObjectsOn(floorplan_div_Array[cvjs_active_floorplan_div_nr])}
function modal_swap_layers_on_off_space(){for(id=0;id<layerTable[cvjs_active_floorplan_div_nr].numberOfLayers;id++)if("OFF"==layerTable[cvjs_active_floorplan_div_nr].layers[id].status){cvjs_LayerOn(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer);layerTable[cvjs_active_floorplan_div_nr].layers[id].status="ON";var a=cvjs_layerListSpace.get("id",id)[0];a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.On})}else cvjs_LayerOff(layerTable[cvjs_active_floorplan_div_nr].layers[id].layer),
layerTable[cvjs_active_floorplan_div_nr].layers[id].status="OFF",a=cvjs_layerListSpace.get("id",id)[0],a.values({selected:languageTable.languages[cvjs_currentLanguage].LayerListSpaceModal.Off})}var cvjs_redlinesRelativePath="../redlines/",cvjs_filepathServerRedlines="/home/cadviewer/cadviewer.com/cadviewer_6_1_0/content/redlines/",cvjs_SharePointFileStructure=[],cvjs_SharePointFileStructure_folder=[],cvjs_SharePointFileStructure_level=[],cvjs_SharePointFileStructure_currentfileNr=0;
function cvjs_generateShareFileDrawingList(){var a=cvjs_serverHandlersPath+"CV-JS_sharepoint_filelist.php";cvjs_debug&&console.log(a);var d={};d.user_name=cvjs_sharepoint_UserName;jQuery.ajax({url:a,type:"post",data:d,success:function(a){cvjs_debug&&console.log("Return call: "+a)}})}
function cvjs_buildShareFileDrawingSelector(){jQuery("#cv_drawing_selector").find("option").remove().end().append('<option value="0">Select Drawing</option>').val("0");console.log("HELLO !"+jQuery("#cv_drawing_selector option").html());var a=cvjs_SharePointFileStructure_level[cvjs_SharePointFileStructure_currentfileNr],d=cvjs_SharePointFileStructure[cvjs_SharePointFileStructure_currentfileNr];console.log("LEVEL  "+a+" "+d+" "+cvjs_SharePointFileStructure_folder[cvjs_SharePointFileStructure_currentfileNr]);
for(i=0;i<cvjs_SharePointFileStructure.length;i++){var f=(i+1).toString();console.log(cvjs_SharePointFileStructure_level[i]+"   "+a);if(cvjs_SharePointFileStructure_level[i]==a)jQuery("#cv_drawing_selector").append(jQuery("<option>",{value:f,text:cvjs_SharePointFileStructure[i]}));else if(cvjs_SharePointFileStructure_level[i]>a){console.log("level loop, i="+i+" "+cvjs_SharePointFileStructure_folder[i]);for(var h=!0,n=0;n<i;n++)-1<cvjs_SharePointFileStructure_folder[i].indexOf(cvjs_SharePointFileStructure_folder[n])&&
cvjs_SharePointFileStructure_level[i]>=cvjs_SharePointFileStructure_level[n]&&cvjs_SharePointFileStructure_level[n]>a?(console.log(n+" it is already there so we do nothing "+i),h=!1):console.log("we add the selector "+i+"  "+cvjs_SharePointFileStructure_folder[i]);console.log("ADDFOLDERFLAG "+h+"  "+cvjs_SharePointFileStructure_folder[i]);n=0;d=cvjs_SharePointFileStructure_folder[i];for(var p=!0;p;)-1<d.indexOf("/")?(n++,d=d.substring(d.indexOf("/")+1)):p=!1;d=cvjs_SharePointFileStructure_folder[i];
for(p=0;p<n;p++)d=d.substring(d.indexOf("/")+1);h&&jQuery("#cv_drawing_selector").append(jQuery("<option>",{value:f,text:d}))}}}function cvjs_setQRCodeInsertion(a,d,f){cvjs_PercentXFromLowerLeft=a;cvjs_PercentYFromLowerLeft=d;cvjs_widthPercent=f}function cvjs_setLoadMultipleRedlinesStickyNotes(a){cvjs_loadMultipleRedlinesStickyNotes=a}
function cvjs_idObjectClicked(){return 0<=lastObj[cvjs_active_floorplan_div_nr]?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("id"):-1}function cvjs_IdObjectClicked(){return 0<=lastObj[cvjs_active_floorplan_div_nr]?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("id"):-1}
function cvjs_NameObjectClicked(){return 0<=lastObj[cvjs_active_floorplan_div_nr]?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("name"):-1}function cvjs_NodeObjectClicked(){return 0<=lastObj[cvjs_active_floorplan_div_nr]?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("node"):-1}
function cvjs_StickyNoteClicked(){return 0<=lastObjStickyNote[cvjs_active_floorplan_div_nr]?vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].data("node"):-1}
function hoverIn(a){if(null!=lastElem){var d=jQuery.parseJSON('{"stroke" : "'+lastStroke+'" , "stroke-opacity" : '+lastStrokeWidth+" }");lastElem.attr(d);lastLink="";jQuery("#cvjs_display_tip").empty().hide()}lastElem=a;lastStroke=a.attr("stroke");lastStrokeWidth=a.attr("stroke-width");a.attr({stroke:"cyan","stroke-opacity":4});a=a.data("hyperlink");d={left:mousex+10,top:mousey+10};jQuery("#cvjs_tool_tip").html('<img src="../drawings/'+a+'" border="0" />').show().offset(d)}function hoverOut(a){}
function doHyperlink(a){var d={left:mousex+10,top:mousey+10};a=a.data("hyperlink");0==flip?(flip=1,layer_all.drag(),cvjs_rPaper[cvjs_active_floorplan_div_nr].attr({viewBox:"0 0 800 600"})):(flip=0,layer_1.attr({transform:"rotate(10),scale(0.5)"}),layer_2.attr({transform:"rotate(10),scale(0.5)"}),layer_all.undrag());lastLink!=a?(lastLink=a,jQuery("#cvjs_display_tip").html('<img src="../drawings/'+a+'" border="0" >').show().offset(d)):(lastLink="",jQuery("#cvjs_display_tip").empty().hide())}
function cvjs_resizeWindow_3D(a,d){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(d);var f=jQuery("#"+d).position();console.log("cvjs_resizeWindow_3D left "+f.left+"  top "+f.top);jQuery("#"+d).css("position","relative");jQuery("#"+d).css("display","block");jQuery("#"+d).css("overflow","hidden");jQuery("#"+d).width(jQuery("#"+a).width());jQuery("#"+d).height(40);f=jQuery("#"+d).position();console.log("cvjs_resizeWindow_3D left "+f.left+"  top "+f.top);f=jQuery("#"+a).position();console.log("model3D "+
f.top+"  "+f.left);jQuery("#topIconMenu_"+d+"_svg").css({left:jQuery("#"+a).position().left+1,top:jQuery("#"+a).position().top+1});jQuery("#topIconMenu_placeholder_1_"+d+"_svg").css({left:jQuery("#"+a).position().left+1+cvjs_iconmenu_pos_x,top:jQuery("#"+a).position().top+1+cvjs_iconmenu_pos_y});jQuery("#gMenu_"+d+"_svg").offset({top:f.top+cvjs_gMenu_pos_y,left:f.left+cvjs_gMenu_pos_x});f=f.left+jQuery("#"+a).width()-475;var h=+d+"_svg",n=jQuery("#topIconMenu_placeholder_1_"+h).width();jQuery("#topIconMenu_"+
h).position();392<jQuery(d).width()-n?(jQuery("#topIconMenu_"+h).css({height:"32px"}),jQuery("#topIconMenu_placeholder_2_"+h).offset({top:jQuery("#"+a).position().top+1,left:f+78})):(jQuery("#topIconMenu_placeholder_2_"+h).offset({top:jQuery("#"+a).position().top+33,left:f+78}),jQuery("#topIconMenu_"+h).css({height:"64px"}))}
function hidePop(){0<=lastObj[cvjs_active_floorplan_div_nr]&&lastObj[cvjs_active_floorplan_div_nr]<vqRooms[cvjs_active_floorplan_div_nr].length&&(jQuery(vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):
vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked),lastObj[cvjs_active_floorplan_div_nr]=-1);0<=popObj[cvjs_active_floorplan_div_nr]&&popObj[cvjs_active_floorplan_div_nr]<vqRooms[cvjs_active_floorplan_div_nr].length&&(jQuery(vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor):
vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked),popObj[cvjs_active_floorplan_div_nr]=-1)}
function hidePopStickyNotes(){0<=lastObjStickyNote[cvjs_active_floorplan_div_nr]&&(jQuery(vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_StickyNotes):vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].data("linked")?vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked),
lastObjStickyNote[cvjs_active_floorplan_div_nr]=-1);0<=popObjStickyNote[cvjs_active_floorplan_div_nr]&&(jQuery(vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_StickyNotes):vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].data("linked")?vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):
vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked),popObjStickyNote[cvjs_active_floorplan_div_nr]=-1)}
function cvjs_hidePop(){try{0<=lastObj[cvjs_active_floorplan_div_nr]&&(jQuery(vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):
vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked),lastObj[cvjs_active_floorplan_div_nr]=-1),0<=popObj&&(jQuery(vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].node).qtip("hide"),!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].data("linked")?
vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked),popObj[cvjs_active_floorplan_div_nr]=-1)}catch(a){return a}return!0}
function cvjs_redrawPop(){if(0<=lastObj[cvjs_active_floorplan_div_nr]){!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(selectColor):vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(selectColor_linked):vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(selectColor_unlinked);
lastObj[cvjs_active_floorplan_div_nr]=-1;try{cvjs_NoObjectSelected()}catch(a){}}if(0<=popObj){!cvjs_supressPopUpModal||cvjs_standardHighLightColors?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(selectColor):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(selectColor_linked):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(selectColor_unlinked);
popObj[cvjs_active_floorplan_div_nr]=-1;try{cvjs_NoObjectSelected()}catch(a){}}}
function hideOnlyPop(){vqRoomMouseSelect=!1;if(0<=lastObj[cvjs_active_floorplan_div_nr]&&lastObj[cvjs_active_floorplan_div_nr]<vqRooms[cvjs_active_floorplan_div_nr].length){jQuery(vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].node).qtip("hide");!cvjs_supressPopUpModal||cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor):
vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("defaultcolor")):vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked);lastObj[cvjs_active_floorplan_div_nr]=
-1;try{cvjs_NoObjectSelected()}catch(a){}}if(0<=popObj[cvjs_active_floorplan_div_nr]&&popObj[cvjs_active_floorplan_div_nr]<vqRooms[cvjs_active_floorplan_div_nr].length){jQuery(vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].node).qtip("hide");!cvjs_supressPopUpModal||cvjs_standardHighLightColors?-1<vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].data("defaultcolor").toString().indexOf("undefined")?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor):
vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].data("defaultcolor")):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].data("linked")?vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked);popObj[cvjs_active_floorplan_div_nr]=
-1;try{cvjs_NoObjectSelected()}catch(a){}}}
function hideOnlyStickyNote(a){a=lastObjStickyNote[cvjs_active_floorplan_div_nr]==popObjStickyNote[cvjs_active_floorplan_div_nr];cvjs_debug&&console.log("before branch");cvjs_debug_stickynotes&&(cvjs_debug&&console.log("hide pop"),hidePopStickyNotes());if(0<=lastObjStickyNote[cvjs_active_floorplan_div_nr]){jQuery(vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].node.qtip).is(":visible")&&jQuery(vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].node).qtip("hide");StickNoteEditMode=
!1;var d=vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].data("text");cvjs_setStickyNoteText(d);d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].data("id")+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].data("name")+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="cvjs_move_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.MoveNote+"',1,"+lastObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.EditNote+"',2,"+lastObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="cvjs_delete_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.DeleteNote+"',3,"+lastObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+lastObjStickyNote[cvjs_active_floorplan_div_nr]+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MinimizeNote+
"',4,"+lastObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-times"></i></td></tr></table>';jQuery(vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].node).qtip({content:{text:cvjsStickyNoteBody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});jQuery(vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].node).qtip("hide");cvjs_supressPopUpModal?vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].data("linked")?
vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked):vqStickyNotes[lastObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_StickyNotes);lastObjStickyNote[cvjs_active_floorplan_div_nr]=-1;try{cvjs_NoObjectSelected()}catch(f){}}if(0<=popObjStickyNote[cvjs_active_floorplan_div_nr]&&!a){cvjs_debug_stickynotes&&window.alert("2nd branch hide only stickynote  popObjStickyNote[cvjs_active_floorplan_div_nr] visible "+
jQuery(vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].node.qtip).is(":visible"));jQuery(vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]+1].node).qtip("hide");StickNoteEditMode=!1;d=vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].data("text");cvjs_setStickyNoteText(d);d='<table width="100%"><tr><td cols="3"><div class="cvjs_modal_header_stickynote_info_2">#'+vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].data("id")+'</div><td class="cvjs_modal_header_stickynote_info_2_background"></td><td class="cvjs_modal_header_1" >'+
vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].data("name")+'</td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon1" onclick="cvjs_move_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MoveNote+"',1,"+popObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-arrows"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon2" onclick="cvjs_edit_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+
languageTable.languages[cvjs_currentLanguage].StickyNote.EditNote+"',2,"+popObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-edit"></i></td><td class="cvjs_modal_header_sticky_note_info_1" id="stickyNoteIcon3" onclick="cvjs_delete_note();" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.DeleteNote+"',3,"+popObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-trash-o"></i></td><td class="cvjs_modal_header_sticky_note_info_2" id="stickyNoteIcon4" onclick="hideOnlyStickyNote('+
popObjStickyNote[cvjs_active_floorplan_div_nr]+');" onmouseout="javascript:tip[cvjs_active_floorplan_div_nr].hide();" onmouseover="javascript:cvjs_showStickynoteTip(\''+languageTable.languages[cvjs_currentLanguage].StickyNote.MinimizeNote+"',4,"+popObjStickyNote[cvjs_active_floorplan_div_nr]+');" ><i class="fa fa-times"></i></td></tr></table>';jQuery(vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].node).qtip({content:{text:cvjsStickyNoteBody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},
position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});cvjs_supressPopUpModal?vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].data("linked")?vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_linked):vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_unlinked):vqStickyNotes[popObjStickyNote[cvjs_active_floorplan_div_nr]].attr(defaultColor_StickyNotes);popObjStickyNote[cvjs_active_floorplan_div_nr]=-1;try{cvjs_NoObjectSelected()}catch(f){}}else popObjStickyNote[cvjs_active_floorplan_div_nr]=
-1}function closeAllPopups(a){cvjs_debug&&console.log("closeAllPopups");for(spc in vqRooms[cvjs_active_floorplan_div_nr])spc!=a&&jQuery(vqRooms[cvjs_active_floorplan_div_nr][spc].node).qtip("hide")}function closeAllPopupsStickyNotes(a){for(spc in vqStickyNotes)spc!=a&&jQuery(vqStickyNotes[spc].node).qtip("hide")}
function pick_space(a){jQuery("#SearchResultsPanel").hide();cvjs_change_space(a);if(a=findRoom(a))console.log("pickspace"),jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip("show"),popObj[cvjs_active_floorplan_div_nr]=a}function cvjs_pick_space(a){cvjs_change_space(a);if(a=findRoom(a))console.log("cv pickspace"),jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip("show"),popObj[cvjs_active_floorplan_div_nr]=a}
var lastObj=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],popObj=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],lastObjHyperlink=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],popObjHyperlink=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],lastObjStickyNote=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],spaceIdStickyNote=[-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],popObjStickyNote=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];function findRoom(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a)return spc;return-1}function findStickyNotes(a){for(spc in vqStickyNotes)if(vqStickyNotes[spc].data("id")==a)return spc;return-1}
function findUrl(a){for(spc in vqURLs)if(vqURLs[spc].data("id")==a)return spc;return-1}function findRoomById(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==a)return spc;return-1}function findIdFromNode(a){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("node")==a)return vqRooms[cvjs_active_floorplan_div_nr][spc].data("id");return-1}function cvjs_zoomHere(){zoomHere()}
function zoomHere(){if(!cvjs_Community_Version&&0<=lastObj[cvjs_active_floorplan_div_nr]&&lastObj[cvjs_active_floorplan_div_nr]<vqRooms[cvjs_active_floorplan_div_nr].length){jQuery(vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].node).qtip("hide");0<=popObj&&jQuery(vqRooms[cvjs_active_floorplan_div_nr][popObj[cvjs_active_floorplan_div_nr]].node).qtip("hide");bbox=vqRooms[cvjs_active_floorplan_div_nr][lastObj[cvjs_active_floorplan_div_nr]].getBBox();var a=viewBoxWidth[cvjs_active_floorplan_div_nr]/
viewBoxHeight[cvjs_active_floorplan_div_nr],d=bbox.x+bbox.width/2,f=bbox.y+bbox.height/2;if(bbox.width>bbox.height){var h=2*bbox.width;var n=h/a}else n=2*bbox.height,h=n*a;viewBox[cvjs_active_floorplan_div_nr].X=d-h/2;viewBox[cvjs_active_floorplan_div_nr].Y=f-n/2;viewBoxWidth[cvjs_active_floorplan_div_nr]=h;viewBoxHeight[cvjs_active_floorplan_div_nr]=n;a=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+
" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(a);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr];lastObj[cvjs_active_floorplan_div_nr]=-1}}function zoomHere_Factor(a,d){cvjs_zoomHere_Factor(a,d)}function cvjs_zoomHere_ObjectId(a,d){a=findFixture(a);0==d&&(d=100);cvjs_zoomHere_Factor(a,1/d*100)}
function cvjs_zoomHere_ObjectIdDiv(a,d,f){cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(f+"_svg");cvjs_debug&&console.log(" IdDiv active floorplan "+cvjs_active_floorplan_div_nr+"  "+f);f=findFixture(a);if(-1!=f){var h=vqRooms[cvjs_active_floorplan_div_nr][f].data("node");cvjs_debug&&console.log("vqid="+h+" rm= "+f+"  "+a+" "+cvjs_active_floorplan_div_nr);0==d&&(d=100);cvjs_zoomHere_Factor(h,1/d*100)}}
function cvjs_zoomHere_Factor(a,d){cvjs_debug&&console.log("zoomHere "+a+"  "+d);cvjs_debug&&console.log(" cvjs_active_floorplan_div_nr "+cvjs_active_floorplan_div_nr+"  length "+vqRooms[cvjs_active_floorplan_div_nr].length);for(i=0;i<vqRooms[cvjs_active_floorplan_div_nr].length;i++)if(a==vqRooms[cvjs_active_floorplan_div_nr][i].data("node")){cvjs_debug&&console.log("!!!inside ZoomHere "+a+"  "+vqRooms[cvjs_active_floorplan_div_nr][i].data("node"));bbox=vqRooms[cvjs_active_floorplan_div_nr][i].getBBox();
var f=viewBoxWidth[cvjs_active_floorplan_div_nr]/viewBoxHeight[cvjs_active_floorplan_div_nr],h=bbox.x+bbox.width/2,n=bbox.y+bbox.height/2;if(bbox.width>bbox.height){var p=bbox.width*d;var q=p/f}else q=bbox.height*d,p=q*f;viewBox[cvjs_active_floorplan_div_nr].X=h-p/2;viewBox[cvjs_active_floorplan_div_nr].Y=n-q/2;viewBoxWidth[cvjs_active_floorplan_div_nr]=p;viewBoxHeight[cvjs_active_floorplan_div_nr]=q;f=jQuery.parseJSON('{"viewBox" : "'+viewBox[cvjs_active_floorplan_div_nr].X+" "+viewBox[cvjs_active_floorplan_div_nr].Y+
" "+viewBoxWidth[cvjs_active_floorplan_div_nr]+" "+viewBoxHeight[cvjs_active_floorplan_div_nr]+'" }');cvjs_rPaper[cvjs_active_floorplan_div_nr].attr(f);zoomScale=viewBoxWidth[cvjs_active_floorplan_div_nr]/rpWidth[cvjs_active_floorplan_div_nr]}}
function cvjs_directDownloadStickyNotesRedlines(a,d){a=cvjs_getStickyNotesRedline();a=new Blob([a],{type:"text/javascript"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(a,d);else{var f=window.document.createElement("a");f.href=window.URL.createObjectURL(a);f.download=d;document.body.appendChild(f);f.click();document.body.removeChild(f)}}
function cvjs_clickElem(a){var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(d)}
function cvjs_directUploadStickyNotesRedlines(a){readFile=function(a){if(a=a.target.files[0]){var d=new FileReader;d.onload=function(a){a=a.target.result;cvjs_clearCurrentRedline(floorplan_div_Array[cvjs_active_floorplan_div_nr]);cvjs_addInlineScript(a);stickynotesRedlines_loaded=!0;cvjs_loadStickyNotesRedlinesTimer();document.body.removeChild(fileInput)};d.readAsText(a)}};fileInput=document.createElement("input");fileInput.type="file";fileInput.style.display="none";fileInput.onchange=readFile;document.body.appendChild(fileInput);
cvjs_clickElem(fileInput)}var cvjs_displayMapsStatus=!1;
function display_maps(){cvjs_displayMapsStatus=!cvjs_displayMapsStatus;console.log("cvjs_displayMapsStatus "+cvjs_displayMapsStatus);cvjs_displayMapsStatus?jQuery("#datamaps_form").show():jQuery("#datamaps_form").hide();jQuery("#cvjs_displayData_switch").prop("checked")?jQuery("#datamaps_form").css("left",40).css("top",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height()-197):jQuery("#datamaps_form").css("left",
40).css("top",jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position().top+jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height()-120)}var cvjs_currentMapNumber=0;
function cvjs_change_datamaps(a){0==a&&(jQuery("#cvjs_display_selection_1").show(),jQuery("#cvjs_display_selection_2").hide(),jQuery("#cvjs_display_selection_3").hide(),jQuery("#cvjs_display_selection_4").hide());1==a&&(jQuery("#cvjs_display_selection_1").hide(),jQuery("#cvjs_display_selection_2").show(),jQuery("#cvjs_display_selection_3").hide(),jQuery("#cvjs_display_selection_4").hide());2==a&&(jQuery("#cvjs_display_selection_1").hide(),jQuery("#cvjs_display_selection_2").hide(),jQuery("#cvjs_display_selection_3").show(),
jQuery("#cvjs_display_selection_4").hide());3==a&&(jQuery("#cvjs_display_selection_1").hide(),jQuery("#cvjs_display_selection_2").hide(),jQuery("#cvjs_display_selection_3").hide(),jQuery("#cvjs_display_selection_4").show());null!=cvjs_dataMapsHeaderArray?jQuery("#drop_select_datamaps").html(cvjs_dataMapsHeaderArray[a]+'<b class="caret"></b>'):jQuery("#drop_select_datamaps").html(languageTable.languages[cvjs_currentLanguage].DataMaps.Map[a]+'<b class="caret"></b>');cvjs_ParseDisplayDataMaps(a);cvjs_currentMapNumber=
a}function cvjs_hide_image_note(a){jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).hide();tip[cvjs_active_floorplan_div_nr].hide()}function cvjs_delete_image(a,d){d=floorplan_div_Array[cvjs_active_floorplan_div_nr];jQuery("#cvjs_floorPlanInsertImageEncapsulate_"+d).hide();tip[cvjs_active_floorplan_div_nr].hide();vqImageNotes[currentImageNoteId].data("deleted",!0);vqImageNotes[currentImageNoteId].attr({transform:"S0.001",opacity:"0.01"})}
function cvjs_setGlobalSpaceImageObjectScaleFactor(a){cvjs_globalScaleNote=a}var cvjs_dgnWorkSpace=!1,cvjs_dgnWorkSpaceLocation="",cvjs_dgnWorkSpaceServerLocation="";
function cvjs_setDgnWorkSpace(a,d){cvjs_dgnWorkSpace=!0;cvjs_dgnWorkSpaceLocation=a;cvjs_debug&&console.log(a+"  path"+d+"XX");""!=d?cvjs_dgnWorkSpaceServerLocation=d:(0<cvjs_dgnWorkSpaceLocation.lastIndexOf("/")?(a=cvjs_dgnWorkSpaceLocation.lastIndexOf("/",cvjs_dgnWorkSpaceLocation.lastIndexOf("/")-1),cvjs_dgnWorkSpaceServerLocation=cvjs_dgnWorkSpaceLocation.substring(0,a)):0<cvjs_dgnWorkSpaceLocation.lastIndexOf("\\")?(a=cvjs_dgnWorkSpaceLocation.lastIndexOf("\\",cvjs_dgnWorkSpaceLocation.lastIndexOf("\\")-
1),cvjs_dgnWorkSpaceServerLocation=cvjs_dgnWorkSpaceLocation.substring(0,a)):cvjs_dgnWorkSpaceServerLocation=cvjs_dgnWorkSpaceLocation,cvjs_debug&&console.log(cvjs_dgnWorkSpaceLocation+"   "+cvjs_dgnWorkSpaceServerLocation));cvjs_conversion_addAXconversionParameter("wksp",cvjs_dgnWorkSpaceLocation);cvjs_conversion_addAXconversionParameter("spath",cvjs_dgnWorkSpaceServerLocation)}function cvjs_setDgnWorkSpaceServerPath(a){cvjs_dgnWorkSpaceServerLocation=a}
function cvjs_addSingleSpaceObject(a,d,f,h,n,p,q,t,u,v,w){try{a.lastIndexOf("_svg")!=a.length-4&&(a+="_svg");cvjs_active_floorplan_div_nr=cvjs_rPaperIndex(a);cvjs_hidePop();Node_id=cvjs_currentMaxNodeId();Node_id++;currentNode_underbar=Node_underbar+Node_id;currentNode_linked=!0;cvjs_setCurrentNodeValues(currentNode_underbar,d,f,h,n,p,q,t,u,v,currentNode_linked);var x=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(w).attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});
cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,x);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],currentNode_underbar)}catch(A){window.alert(A)}}
function cvjs_ObjectBoundingBox_ScreenCoord(a){a=findRoom(a);if(0<=a){var d=vqRooms[cvjs_active_floorplan_div_nr][a];a=d.getBBox();console.log(d+"  "+a.x+" "+a.y+" "+a.x2+"  "+a.y2);var f=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).width();d=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).height();var h=jQuery("#"+floorplan_div_Array[cvjs_active_floorplan_div_nr]).position(),n=f/viewBoxWidth[cvjs_active_floorplan_div_nr],p=d/viewBoxHeight[cvjs_active_floorplan_div_nr];
global_scale=n<p?n:p;f=(f-viewBoxWidth[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].X*global_scale+h.left;d=(d-viewBoxHeight[cvjs_active_floorplan_div_nr]*global_scale)/2-viewBox[cvjs_active_floorplan_div_nr].Y*global_scale+h.top;myBoundingBox.x=Math.round(a.x*global_scale+f);myBoundingBox.x2=Math.round(a.x2*global_scale+f);myBoundingBox.y=Math.round(a.y*global_scale+d);myBoundingBox.y2=Math.round(a.y2*global_scale+d);return myBoundingBox}return null}
function cvjs_highlightSpaceObjectDirect(a,d,f){a=findFixture(d);vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor",f);vqRooms[cvjs_active_floorplan_div_nr][a].attr(f)}function cvjs_clearHighlightSpaceObjectDirect(a,d){a=findFixture(d);vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor","undefined");vqRooms[cvjs_active_floorplan_div_nr][a].attr(defaultColor)}
function cvjs_clearAllHighlightSpaceObjectDirect(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].data("defaultcolor","undefined"),vqRooms[cvjs_active_floorplan_div_nr][d].attr(defaultColor)}
function cvjs_modifySpaceObjectDirectXY(a,d,f,h,n,p,q,t,u){try{var v=findFixture(d);if(0>v)return!1;cvjs_addSpaceDWGFlag=cvjs_addSpaceTextArrayFlag=!1;cvjs_addSpaceScaleFactor=1;cvjs_customSvgImagePath=f;null!=h&&(cvjs_addSpaceTextArrayFlag=!0,cvjs_addSpaceTextArray=h);null!=n&&(cvjs_addSpaceScaleFactor=n);null!=p&&(cvjs_textStyles=p);null!=q&&(cvjs_scaleText=q);null!=t&&(cvjs_hexColorText=t);null!=u&&(cvjs_leftFactor=u);var w=findNodeFromId(d);console.log(vqRooms[cvjs_active_floorplan_div_nr][v].data("svgy"));
console.log(vqRooms[cvjs_active_floorplan_div_nr][v].data("translatey"));cvjs_coreModifySpaceObjectDirectXY(vqRooms[cvjs_active_floorplan_div_nr][v].data("svgx"),vqRooms[cvjs_active_floorplan_div_nr][v].data("svgy"),w,d);return!0}catch(x){console.log("cvjs_modifySpaceObjectDirectXY error: "+x)}}
function cvjs_coreModifySpaceObjectDirectXY(a,d,f,h){try{var n=1;n=actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr]>actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr]?(actualURY[cvjs_active_floorplan_div_nr]-actualLLY[cvjs_active_floorplan_div_nr])/600:(actualURX[cvjs_active_floorplan_div_nr]-actualLLX[cvjs_active_floorplan_div_nr])/600;cvjs_removeHandleFunc_FixedRectangle();var p=20*cvjs_addSpaceScaleFactor;lastX_r=n*p*global_scale;lastY_r=
n*p*global_scale;lastX_r_imageframe=n*p*.05*global_scale;0==cvjs_customSvgImagePath.length&&(lastY_r=0);var q=n*p*.25*global_scale;tPath_r="M"+a+","+d;if(cvjs_addSpaceTextArrayFlag){var t=cvjs_addSpaceTextArray.length;var u=lastY_r+q*t;tPath_r+="h"+lastX_r/global_scale+"v"+u/global_scale+"h"+-lastX_r/global_scale+"v"+(-u/global_scale+" Z")}else tPath_r+="h"+lastX_r/global_scale+"v"+lastY_r/global_scale+"h"+-lastX_r/global_scale+"v"+(-lastY_r/global_scale+" Z");cvjs_debug&&console.log(tPath_r);document.getElementById("cv_"+
f).setAttribute("d",tPath_r);document.getElementById("cv_"+f+"_image").setAttribute("href",cvjs_customSvgImagePath);document.getElementById("cv_"+f+"_image").setAttribute("x",a);document.getElementById("cv_"+f+"_image").setAttribute("y",d);document.getElementById("cv_"+f+"_image").setAttribute("width",n*p*.9);document.getElementById("cv_"+f+"_image").setAttribute("height",n*p*.9);var v=findFixture(h);vqRooms[cvjs_active_floorplan_div_nr][v].data("translatex",0);vqRooms[cvjs_active_floorplan_div_nr][v].data("translatey",
0);jQuery("#cvjs_"+h).attr({transform:"translate(0,0)"});n={"text-font":"Dialog","font-family":"Dialog","font-size":"7pt","text-anchor":"start","font-weight":"normal","font-style":"italic",stroke:"#88539B",fill:"#88539B"};for(h=t;3>h;h++)cvjs_addSpaceTextArray[h]="",cvjs_textStyles[h]=n,cvjs_hexColorText[h]="#FFFFFF",cvjs_scaleText[h]=.1;size_all=3;if(cvjs_addSpaceTextArrayFlag)for(d+=lastY_r/global_scale,n=a+lastX_r/global_scale*cvjs_leftFactor,h=0;h<size_all;h++){console.log("i="+h+"  "+cvjs_addSpaceTextArray[h]+
"  "+d+"  "+a);if(0==h){fontheight1=q*t/global_scale*cvjs_scaleText[h];d+=fontheight1;document.getElementById("cv_"+f+"_text1").setAttribute("x",n);document.getElementById("cv_"+f+"_text1").setAttribute("y",d);document.getElementById("cv_"+f+"_text1").textContent=cvjs_addSpaceTextArray[h];var w="";for(j=0;j<cvjs_textStyles[h].length;j++)w+=cvjs_textStyles[h][j]+"; ";w+="font-size:"+fontheight1;document.getElementById("cv_"+f+"_text1").setAttribute("style",w);strokewidth=fontheight1/15;document.getElementById("cv_"+
f+"_text1").setAttribute("stroke-width",strokewidth);document.getElementById("cv_"+f+"_text1").setAttribute("stroke",cvjs_hexColorText[h]);document.getElementById("cv_"+f+"_text1").setAttribute("fill",cvjs_hexColorText[h]);jQuery("#cv_"+f+"_text1").css("pointer-events","none")}if(1==h){fontheight1=q*t/global_scale*cvjs_scaleText[h];d+=1.05*fontheight1;document.getElementById("cv_"+f+"_text2").setAttribute("x",n);document.getElementById("cv_"+f+"_text2").setAttribute("y",d);document.getElementById("cv_"+
f+"_text2").textContent=cvjs_addSpaceTextArray[h];w="";for(j=0;j<cvjs_textStyles[h].length;j++)w+=cvjs_textStyles[h][j]+"; ";w+="font-size:"+fontheight1;document.getElementById("cv_"+f+"_text2").setAttribute("style",w);strokewidth=fontheight1/15;document.getElementById("cv_"+f+"_text2").setAttribute("stroke-width",strokewidth);document.getElementById("cv_"+f+"_text2").setAttribute("stroke",cvjs_hexColorText[h]);document.getElementById("cv_"+f+"_text2").setAttribute("fill",cvjs_hexColorText[h]);jQuery("#cv_"+
f+"_text2").css("pointer-events","none")}if(2==h){fontheight1=q*t/global_scale*cvjs_scaleText[h];d+=1.05*fontheight1;document.getElementById("cv_"+f+"_text3").textContent=cvjs_addSpaceTextArray[h];document.getElementById("cv_"+f+"_text3").setAttribute("x",n);document.getElementById("cv_"+f+"_text3").setAttribute("y",d);w="";for(j=0;j<cvjs_textStyles[h].length;j++)w+=cvjs_textStyles[h][j]+"; ";w+="font-size:"+fontheight1;document.getElementById("cv_"+f+"_text3").setAttribute("style",w);strokewidth=
fontheight1/15;document.getElementById("cv_"+f+"_text3").setAttribute("stroke-width",strokewidth);document.getElementById("cv_"+f+"_text3").setAttribute("stroke",cvjs_hexColorText[h]);document.getElementById("cv_"+f+"_text3").setAttribute("fill",cvjs_hexColorText[h]);jQuery("#cv_"+f+"_text3").css("pointer-events","none")}}}catch(x){console.log("cvjs_coreModifySpaceObjectDirectXY error: "+x)}}
function cvjs_moveSpaceObjectDirectXY(a,d,f,h,n){a=findFixture(d);if(0>a)return!1;if(0==f){var p=h-vqRooms[cvjs_active_floorplan_div_nr][a].data("svgx"),q=n-vqRooms[cvjs_active_floorplan_div_nr][a].data("svgy");vqRooms[cvjs_active_floorplan_div_nr][a].data("svgx",h);vqRooms[cvjs_active_floorplan_div_nr][a].data("svgy",n);var t=vqRooms[cvjs_active_floorplan_div_nr][a].data("translatex"),u=vqRooms[cvjs_active_floorplan_div_nr][a].data("translatey");p=t+p;q=u+q;vqRooms[cvjs_active_floorplan_div_nr][a].data("translatex",
p);vqRooms[cvjs_active_floorplan_div_nr][a].data("translatey",q);jQuery("#cvjs_"+d).attr({transform:"translate("+p+","+q+")"})}1==f&&(f=multiPages[cvjs_active_floorplan_div_nr].currentPage,vqRooms[cvjs_active_floorplan_div_nr][a].data("dwgx",h),vqRooms[cvjs_active_floorplan_div_nr][a].data("dwgy",n),h=cvjs_drawingCoordinates[f].SVG.lowerLeft.x+(h-cvjs_drawingCoordinates[f].DWG.lowerLeft.x)/(cvjs_drawingCoordinates[f].DWG.upperRight.x-cvjs_drawingCoordinates[f].DWG.lowerLeft.x)*(cvjs_drawingCoordinates[f].SVG.upperRight.x-
cvjs_drawingCoordinates[f].SVG.lowerLeft.x),n=cvjs_drawingCoordinates[f].SVG.lowerLeft.y+(n-cvjs_drawingCoordinates[f].DWG.lowerLeft.y)/(cvjs_drawingCoordinates[f].DWG.upperRight.y-cvjs_drawingCoordinates[f].DWG.lowerLeft.y)*(cvjs_drawingCoordinates[f].SVG.upperRight.y-cvjs_drawingCoordinates[f].SVG.lowerLeft.y),p=h-vqRooms[cvjs_active_floorplan_div_nr][a].data("svgx"),q=n-vqRooms[cvjs_active_floorplan_div_nr][a].data("svgy"),vqRooms[cvjs_active_floorplan_div_nr][a].data("svgx",h),vqRooms[cvjs_active_floorplan_div_nr][a].data("svgy",
n),t=vqRooms[cvjs_active_floorplan_div_nr][a].data("translatex"),u=vqRooms[cvjs_active_floorplan_div_nr][a].data("translatey"),p=t+p,q=u+q,vqRooms[cvjs_active_floorplan_div_nr][a].data("translatex",p),vqRooms[cvjs_active_floorplan_div_nr][a].data("translatey",q),jQuery("#cvjs_"+d).attr({transform:"translate("+p+","+q+")"}));return!0}
function cvjs_getSpaceObjectDirectXYCoord(a,d,f){a=[];d=findFixture(d);return 0>d?null:0==f?(a.x=vqRooms[cvjs_active_floorplan_div_nr][d].data("svgx"),a.y=vqRooms[cvjs_active_floorplan_div_nr][d].data("svgy"),a):1==f?(a.x=vqRooms[cvjs_active_floorplan_div_nr][d].data("dwgx"),a.y=vqRooms[cvjs_active_floorplan_div_nr][d].data("dwgy"),a):null}
function cvjs_deleteSpaceObjectDirectXY(a,d){a=findFixture(d);if(0>a)return!1;findNodeFromId(d);vqRooms[cvjs_active_floorplan_div_nr][a].data("deleted",!0);jQuery("#cvjs_"+d).remove();return!0}function cvjs_allSpaceObjectsOn(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].attr(show),vqRooms[cvjs_active_floorplan_div_nr][d].data("displaySpaceObject","on")}
function cvjs_allSpaceObjectsOff(a){for(var d in vqRooms[cvjs_active_floorplan_div_nr])vqRooms[cvjs_active_floorplan_div_nr][d].attr(hide),vqRooms[cvjs_active_floorplan_div_nr][d].data("displaySpaceObject","off")}function cvjs_setSpaceObjectsDefaultLayer(a,d){cvjs_currentNode_layer=d}function cvjs_getSpaceObjectDefaultLayer(a){return cvjs_currentNode_layer}
function cvjs_getLayerForSpaceObject(a,d){for(spc in vqRooms[cvjs_active_floorplan_div_nr])if(vqRooms[cvjs_active_floorplan_div_nr][spc].data("id")==d)return vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer");return-1}function cvjs_getLayerOnSpaceObject(a,d){cvjs_getLayerForSpaceObject(a,d)}function cvjs_setSpaceObjectOnLayer(a,d,f){a=findFixture(d);if(0>a)return!1;findNodeFromId(d);vqRooms[cvjs_active_floorplan_div_nr][a].data("layer",f);return!0}
function cvjs_setSpaceObjectOnOff(a,d,f){a=findFixture(d);if(0>a)return!1;0==f.toLowerCase().indexOf("on")&&(vqRooms[cvjs_active_floorplan_div_nr][a].attr(show),vqRooms[cvjs_active_floorplan_div_nr][a].data("displaySpaceObject","on"));0==f.toLowerCase().indexOf("off")&&(vqRooms[cvjs_active_floorplan_div_nr][a].attr(hide),vqRooms[cvjs_active_floorplan_div_nr][a].data("displaySpaceObject","off"));return!0}
function cvjs_returnAllSpaceObjectsOnLayer(a,d){a=[];for(spc in vqRooms[cvjs_active_floorplan_div_nr]){var f=vqRooms[cvjs_active_floorplan_div_nr][spc].data("id");vqRooms[cvjs_active_floorplan_div_nr][spc].data("layer")==d&&(a[a.length]=f)}return a}function cvjs_spaceObjectLayerOnOff(a,d,f){d=cvjs_returnAllSpaceObjectsOnLayer(a,d);for(var h=0;h<d.length;h++)cvjs_setSpaceObjectOnOff(a,d[h],f)}
function cvjs_returnActiveSpaceObjects(a){a=cvjs_getSpaceObjectIdList();for(var d=[],f=0;f<a.length;f++){var h=findFixture(a[f]);console.log(h+" "+vqRooms[cvjs_active_floorplan_div_nr][h].data("displaySpaceObject"));0>h||"on"==vqRooms[cvjs_active_floorplan_div_nr][h].data("displaySpaceObject")&&(d[d.length]=a[f])}return d}
function cvjs_returnSpaceObjectClicked(){var a=cvjs_idObjectClicked();cvjs_NodeObjectClicked();a=findFixture(a);var d=vqRooms[cvjs_active_floorplan_div_nr][a].node.outerHTML;d=d.substring(d.indexOf("d=")+3);d=d.substring(0,d.indexOf('"'));cvjs_debug&&console.log(vqRooms[cvjs_active_floorplan_div_nr][a]);var f=vqRooms[cvjs_active_floorplan_div_nr][a].data("group");void 0==f&&(f="undefined");var h=vqRooms[cvjs_active_floorplan_div_nr][a].data("tags");void 0==h&&(h="undefined");a={path:d,tags:h,node:vqRooms[cvjs_active_floorplan_div_nr][a].data("node"),
occupancy:vqRooms[cvjs_active_floorplan_div_nr][a].data("occupancy"),name:vqRooms[cvjs_active_floorplan_div_nr][a].data("name"),type:vqRooms[cvjs_active_floorplan_div_nr][a].data("type"),id:vqRooms[cvjs_active_floorplan_div_nr][a].data("id"),defaultcolor:vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor"),layer:vqRooms[cvjs_active_floorplan_div_nr][a].data("layer"),group:f,linked:vqRooms[cvjs_active_floorplan_div_nr][a].data("linked"),attributes:vqRooms[cvjs_active_floorplan_div_nr][a].data("attributes"),
attributeStatus:vqRooms[cvjs_active_floorplan_div_nr][a].data("attributeStatus"),displaySpaceObjects:vqRooms[cvjs_active_floorplan_div_nr][a].data("displaySpaceObject")};cvjs_debug&&console.log("return space direct "+a.id+" "+a.layer);return a}
function cvjs_returnSpaceObjectID(a){a=findFixture(a);var d=vqRooms[cvjs_active_floorplan_div_nr][a].node.outerHTML;d=d.substring(d.indexOf("d=")+3);d=d.substring(0,d.indexOf('"'));cvjs_debug&&console.log(vqRooms[cvjs_active_floorplan_div_nr][a]);var f=vqRooms[cvjs_active_floorplan_div_nr][a].data("group");void 0==f&&(f="undefined");var h=vqRooms[cvjs_active_floorplan_div_nr][a].data("tags");void 0==h&&(h="undefined");a={path:d,tags:h,node:vqRooms[cvjs_active_floorplan_div_nr][a].data("node"),occupancy:vqRooms[cvjs_active_floorplan_div_nr][a].data("occupancy"),
name:vqRooms[cvjs_active_floorplan_div_nr][a].data("name"),type:vqRooms[cvjs_active_floorplan_div_nr][a].data("type"),id:vqRooms[cvjs_active_floorplan_div_nr][a].data("id"),defaultcolor:vqRooms[cvjs_active_floorplan_div_nr][a].data("defaultcolor"),layer:vqRooms[cvjs_active_floorplan_div_nr][a].data("layer"),group:f,linked:vqRooms[cvjs_active_floorplan_div_nr][a].data("linked"),attributes:vqRooms[cvjs_active_floorplan_div_nr][a].data("attributes"),attributeStatus:vqRooms[cvjs_active_floorplan_div_nr][a].data("attributeStatus"),
displaySpaceObjects:vqRooms[cvjs_active_floorplan_div_nr][a].data("displaySpaceObject")};cvjs_debug&&console.log("return space object ID "+a.id+" "+a.layer);return a}
function cvjs_setSpaceObjectDirect(a){for(i=0;i<vqRooms.lenght;i++)if(vqRooms[cvjs_active_floorplan_div_nr][i].data("id")==a.id||vqRooms[cvjs_active_floorplan_div_nr][i].data("name")==a.name)return!1;var d=cvjs_currentMaxNodeId();d++;cvjs_setCurrentNodeValues("NODE_"+d,a.name,a.id,a.layer,a.group,a.attributes,a.attributeStatus,a.type,a.tags,a.occupancy,a.linked);a=cvjs_rPaper[cvjs_active_floorplan_div_nr].path(a.path).attr({fill:"#ff9999","fill-opacity":"0.5",stroke:"#ff9999","stroke-opacity":"1"});
cvjs_debug&&console.log(" set direct cvjs_currentNode_underbar "+cvjs_currentNode_underbar);cvjs_addVqRoomsGraphics_newNode_polygon(cvjs_currentNode_underbar,a);cvjs_setUpVqRooms_currentNode(cvjs_rPaper[cvjs_active_floorplan_div_nr],cvjs_currentNode_underbar);return!0}function cvjs_changeSpaceObjectLayer(a,d){a=findFixture(a);if(-1==a)return!1;vqRooms[cvjs_active_floorplan_div_nr][a].data("layer",d);return!0}
function cvjs_changeSpaceObjectLinkStatus(a,d){a=findFixture(a);if(-1==a)return!1;vqRooms[cvjs_active_floorplan_div_nr][a].data("linked",d);return!0}
function cvjs_changeSpaceObjectName(a,d){a=findFixture(a);if(-1==a)return!1;vqRooms[cvjs_active_floorplan_div_nr][a].data("name",d);jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip("destroy");d='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][a].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][a].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+a+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+
vqRooms[cvjs_active_floorplan_div_nr][a].data("type")+"</h4></td></tr></table>";dual_hbody_flag&&(-1<=parseInt(vqRooms[cvjs_active_floorplan_div_nr][a].data("id"))?jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody_2,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},
position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});return!0}
function cvjs_changeSpaceObjectType(a,d){a=findFixture(a);if(-1==a)return!1;vqRooms[cvjs_active_floorplan_div_nr][a].data("type",d);jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip("destroy");d='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][a].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][a].data("name")+'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+a+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+
vqRooms[cvjs_active_floorplan_div_nr][a].data("type")+"</h4></td></tr></table>";dual_hbody_flag&&(-1<=parseInt(vqRooms[cvjs_active_floorplan_div_nr][a].data("id"))?jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody_2,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},
position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});return!0}
function cvjs_changeSpaceObjectID(a,d){for(i=0;i<vqRooms.lenght;i++)if(vqRooms[cvjs_active_floorplan_div_nr][i].data("id")==d)return!1;a=findFixture(a);if(-1==a)return!1;vqRooms[cvjs_active_floorplan_div_nr][a].data("id",d);jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip("destroy");d='<table width="100%"><tr><td class="cvjs_modal_header_1" onclick="cvjs_popupTitleClick(\''+vqRooms[cvjs_active_floorplan_div_nr][a].data("id")+"');\">"+vqRooms[cvjs_active_floorplan_div_nr][a].data("name")+
'</td><td class="cvjs_modal_header_info_1" onclick="hideOnlyPop('+a+');"><i class="fa fa-times"></i></td></tr><tr><td cols="2"><h4 id="cvjs_modal_header_info_2">'+vqRooms[cvjs_active_floorplan_div_nr][a].data("type")+"</h4></td></tr></table>";dual_hbody_flag&&(-1<=parseInt(vqRooms[cvjs_active_floorplan_div_nr][a].data("id"))?jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",
at:"top left"},hideOnHTMLClick:"false"}):jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody_2,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"}));dual_hbody_flag||jQuery(vqRooms[cvjs_active_floorplan_div_nr][a].node).qtip({content:{text:hbody,title:d},style:{classes:"qtip-bootstrap qtip-shadow qtip-rounded qtip-zindex"},position:{my:"bottom center",at:"top left"},hideOnHTMLClick:"false"});
return!0}var selected_current_jsonStrucure;function CADViewer_floorplan_methods_newVersion(){selected_current_jsonStrucure=cvjs_returnSpaceObjectClicked();jQuery("#cvjs_spaceobjectchangeLayerFromModal").val(selected_current_jsonStrucure.layer);jQuery("#cvjs_spaceobjectchangeIdFromModal").val(selected_current_jsonStrucure.id);jQuery("#cvjs_spaceobjectchangeTypeFromModal").val(selected_current_jsonStrucure.type)}
var elementOriginalColor="",elementOriginalFill="",elementOriginalStroke="",elementOriginalStrokeWidth="",elementOriginalTag="",elementOriginalFillOpacity="",elementOriginalOpacity="",myOverColor="#F00",myOverStroke="#F00",myOverStrokeWidth=6,myOverStrokeWidthFactor=4,myOverFill="#F00",myFillOpacity=.2,myOpacity=1,cvjs_handleToolTip=!0;
function cvjs_mouseenter_handleObjectStyles(a,d,f,h,n,p){cvjs_handleToolTip=h;0>a.indexOf("#")&&(a="#"+a);cvjs_debug&&console.log("mouseenter "+n+"  "+p+"  "+a);elementOriginalColor=jQuery("#"+n).css("color");elementOriginalStrokeWidth=jQuery("#"+n).css("stroke-width");elementOriginalStroke=jQuery("#"+n).css("stroke");elementOriginalFill=jQuery("#"+n).css("fill");elementOriginalFillOpacity=jQuery("#"+n).css("fill-opacity");elementOriginalOpacity=jQuery("#"+n).css("opacity");elementOriginalTag=jQuery("#"+
n).get(0).tagName;f=elementOriginalStrokeWidth;0<f.indexOf("px")&&(f=f.substring(0,f.indexOf("px")));f=parseFloat(f)*d;"text"==elementOriginalTag?jQuery("#"+n).css({fill:a}):"circle"==elementOriginalTag?(jQuery("#"+n).css({color:a}),jQuery("#"+n).css({stroke:a}),jQuery("#"+n).css({"stroke-width":f}),jQuery("#"+n).css({"fill-opacity":myFillOpacity})):(jQuery("#"+n).css({color:a}),jQuery("#"+n).css({stroke:a}),jQuery("#"+n).css({"stroke-width":f}));jQuery("#"+n).css({opacity:myOpacity})}
function cvjs_mouseout_handleObjectStyles(a,d){console.log("mouseout "+a+"  "+d);"text"==elementOriginalTag?jQuery("#"+a).css({fill:elementOriginalFill}):"circle"==elementOriginalTag?(jQuery("#"+a).css({color:elementOriginalColor}),jQuery("#"+a).css({"stroke-width":elementOriginalStrokeWidth}),jQuery("#"+a).css({stroke:elementOriginalStroke}),jQuery("#"+a).css({"fill-opacity":elementOriginalFillOpacity})):(jQuery("#"+a).css({color:elementOriginalColor}),jQuery("#"+a).css({"stroke-width":elementOriginalStrokeWidth}),
jQuery("#"+a).css({stroke:elementOriginalStroke}));jQuery("#"+a).css({opacity:elementOriginalOpacity})}var cvjs_spacesSpecificHighlightLayer;
function cvjs_highlightSpace(a,d){var f=findFixture(a);if(-1==f)return-1;if(0<=f){lastObj[cvjs_active_floorplan_div_nr]=f;if(void 0==jQuery("#cv_spacehighlight_"+a).attr("id")){console.log("undefined");try{var h=vqRooms[cvjs_active_floorplan_div_nr][f].toString();0<h.indexOf("path")||0<h.indexOf("circle")||(h=vqRooms[cvjs_active_floorplan_div_nr][f].attr().toString())}catch(v){h=vqRooms[cvjs_active_floorplan_div_nr][f].attr().toString()}var n="";f=!0;var p=0,q=0,t=0;if(-1<h.indexOf("path")){f=!0;
n=h.indexOf(" d=");n=h.substring(n+4);var u=n.indexOf('" ');n=n.substring(0,u)}-1<h.indexOf("circle")&&(f=!1,p=h.indexOf(" cx="),p=h.substring(p+5),q=p.indexOf('"'),p=p.substring(0,q),q=h.indexOf(" cy="),q=h.substring(q+5),t=q.indexOf('"'),q=q.substring(0,t),t=h.indexOf(" r="),h=h.substring(t+4),t=h.indexOf('"'),t=h.substring(0,t));console.log("creation "+JSON.stringify(d)+"  "+a);f?cvjs_spacesSpecificHighlightLayer.path(n).attr(d).attr({id:"cv_spacehighlight_"+a}):cvjs_spacesSpecificHighlightLayer.circle(p,
q,t,t).attr(d).attr({id:"cv_spacehighlight_"+a})}else console.log("change "+JSON.stringify(d)+"  #cv_spacehighlight_"+a),jQuery("#cv_spacehighlight_"+a).css(d);try{layer_vqrooms[cvjs_active_floorplan_div_nr].prepend(cvjs_spacesSpecificHighlightLayer)}catch(v){}return 1}return-1}var cvjsRoomPolygonBaseHighlightAttributes={fill:"#FFF","fill-opacity":.1,stroke:"#FFF","stroke-width":.01,"stroke-opacity":1,"stroke-linejoin":"round"};
function cvjs_clearSpaceLayer(){try{cvjs_spacesSpecificHighlightLayer.remove(),cvjs_spacesSpecificHighlightLayer=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()}catch(d){cvjs_spacesSpecificHighlightLayer=cvjs_rPaper[cvjs_active_floorplan_div_nr].g()}var a=cvjs_getSpaceObjectIdList();for(spc in a)cvjs_highlightSpace(a[spc],cvjsRoomPolygonBaseHighlightAttributes);cvjs_customLayerContentAdded=!1}
function cvjs_hatchSpace(a,d,f,h){try{var n=findFixture(a);if(-1==n)return-1;var p=vqRooms[cvjs_active_floorplan_div_nr][n].toString();console.log(a+" "+p+"XXX");n=!0;if(-1<p.indexOf("path")){n=!0;var q=p.indexOf(" d="),t=p.substring(q+4),u=t.indexOf('" ');var v=t.substring(0,u)}if(-1<p.indexOf("circle")){n=!1;var w=p.indexOf(" cx="),x=p.substring(w+5),A=x.indexOf('"');var y=x.substring(0,A);var B=p.indexOf(" cy="),z=p.substring(B+5),C=z.indexOf('"');var E=z.substring(0,C);var F=p.indexOf(" r="),
D=p.substring(F+4),J=D.indexOf('"');var H=D.substring(0,J)}if("pattern_45degree_standard"==d||"pattern_45degree_fine"==d||"pattern_45degree_wide"==d||"pattern_90degree_standard"==d||"pattern_90degree_fine"==d||"pattern_90degree_wide"==d||"pattern_135degree_standard"==d||"pattern_135degree_fine"==d||"pattern_135degree_wide"==d||"pattern_0degree_standard"==d||"pattern_0degree_fine"==d||"pattern_0degree_wide"==d||"pattern_45degree_crosshatch_standard"==d||"pattern_45degree_crosshatch_fine"==d){if("pattern_45degree_standard"==
d){cvjs_setUpPattern_45degree_standard(f,"1.0");var I=pattern_45degree_standard}"pattern_45degree_fine"==d&&(cvjs_setUpPattern_45degree_fine(f,"1.0"),I=pattern_45degree_standard);"pattern_45degree_wide"==d&&(cvjs_setUpPattern_45degree_wide(f,"1.0"),I=pattern_45degree_standard);"pattern_90degree_standard"==d&&(cvjs_setUpPattern_90degree_standard(f,"1.0"),I=pattern_90degree_standard);"pattern_90degree_fine"==d&&(cvjs_setUpPattern_90degree_fine(f,"1.0"),I=pattern_90degree_standard);"pattern_90degree_wide"==
d&&(cvjs_setUpPattern_90degree_wide(f,"1.0"),I=pattern_90degree_standard);"pattern_135degree_standard"==d&&(cvjs_setUpPattern_135degree_standard(f,"1.0"),I=pattern_135degree_standard);"pattern_135degree_fine"==d&&(cvjs_setUpPattern_135degree_fine(f,"1.0"),I=pattern_135degree_standard);"pattern_135degree_wide"==d&&(cvjs_setUpPattern_135degree_wide(f,"1.0"),I=pattern_135degree_standard);"pattern_0degree_standard"==d&&(cvjs_setUpPattern_0degree_standard(f,"1.0"),I=pattern_0degree_standard);"pattern_0degree_fine"==
d&&(cvjs_setUpPattern_0degree_fine(f,"1.0"),I=pattern_0degree_standard);"pattern_0degree_wide"==d&&(cvjs_setUpPattern_0degree_wide(f,"1.0"),I=pattern_0degree_standard);"pattern_45degree_crosshatch_standard"==d&&(cvjs_setUpPattern_45degree_crosshatch_standard(f,"1.0"),I=pattern_45degree_crosshatch);"pattern_45degree_crosshatch_fine"==d&&(cvjs_setUpPattern_45degree_crosshatch_fine(f,"1.0"),I=pattern_45degree_crosshatch);void 0!=jQuery("#cv_spacehighlight_"+a).attr("id")&&jQuery("#cv_spacehighlight_"+
a).remove();console.log("undefined, new entity "+I+"  "+v);n?cvjs_spacesSpecificHighlightLayer.path(v).attr({id:"cv_spacehighlight_"+a}).attr({fill:I,"fill-opacity":h,stroke:f,"stroke-opacity":h}):cvjs_spacesSpecificHighlightLayer.circle(y,E,H,H).attr({id:"cv_spacehighlight_"+a}).attr({fill:I,"fill-opacity":h,stroke:f,"stroke-opacity":h});try{layer_vqrooms[cvjs_active_floorplan_div_nr].prepend(cvjs_spacesSpecificHighlightLayer)}catch(L){}}}catch(L){console.log(L)}}
function cvjs_clearAllCustomTooltips(){cvjs_setCustomToolTip(!0);var a=cvjs_getSpaceObjectIdList();for(spc in a)cvjs_setCustomToolTipValue(a[spc],Array(a[spc]))}var mySpaceArray_currentSettingsObj=[],mySpaceArray_currentSettingsSpace=[],mySpaceArray_currentSettings_counter=0;
function cvjs_removeSelectedAndReturnOriginalStyle(a,d){try{for(j=0;j<d.length;j++)if(console.log(d[j]+" remove return loop "+a+" "),d[j]==a){for(k=0;k<mySpaceArray_currentSettingsObj.length;k++)if(mySpaceArray_currentSettingsSpace[k]==a){var f=mySpaceArray_currentSettingsObj[k];mySpaceArray_currentSettingsObj.splice(k,1);mySpaceArray_currentSettingsSpace.splice(k,1)}d.splice(j,1);return f}return null}catch(h){console.log(h)}}
function cvjs_isSpaceMultipleSelected(a){var d=!1;for(j=0;j<mySpaceArray.length;j++)mySpaceArray[j]==a&&(d=!0);return d}
function cvjs_addSelectedToOriginalStyles(a){var d={},f,h,n=!1,p=!1;jQuery("#cv_spacehighlight_"+a).each(function(){jQuery.each(this.attributes,function(){if(this.specified&&(console.log("name="+this.name+"  val="+this.value),"fill"==this.name&&(f=this.value,p=!0),"stroke"==this.name&&(h=this.value,n=!0),"style"==this.name)){var a=this.value;console.log("1 style "+a);a=a.toString().split(";");for(var t=0;t<a.length;t++){var u=a[t].split(":"),v=u[0].trim(),w="";try{w=u[1].trim(),d[v]=w,"stroke"==v&&
(n=!1),"fill"==v&&(p=!1)}catch(x){console.log("no style value")}}}})});console.log(n+"  "+p+"  "+h);n&&(d.stroke=h);p&&(d.fill=f);mySpaceArray_currentSettingsObj[mySpaceArray_currentSettings_counter]=d;mySpaceArray_currentSettingsSpace[mySpaceArray_currentSettings_counter]=a;mySpaceArray_currentSettings_counter++}var cvjs_multiSelect=!1;
function cvjs_initMultiSelect(){mySpaceArray_currentSettingsObj=[];mySpaceArray_currentSettingsSpace=[];mySpaceArray_currentSettings_counter=0;cvjs_multiSelect=!0}function cvjs_exitMultiSelect(){cvjs_multiSelect=!1};
